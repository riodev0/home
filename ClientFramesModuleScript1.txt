ModuleScript: Season
-- Saved by UniversalSynSaveInstance (Join to Copy Games) https://discord.gg/wx4ThpAsmw

local l_Players_0 = game:GetService("Players");
local l_ReplicatedStorage_0 = game:GetService("ReplicatedStorage");
local l_TweenService_0 = game:GetService("TweenService");
local l_RunService_0 = game:GetService("RunService");
local l_TextService_0 = game:GetService("TextService");
local l_MarketplaceService_0 = game:GetService("MarketplaceService");
local v6 = require(l_ReplicatedStorage_0.Shared.Utils.Stats.SeasonUtil);
local v7 = require(l_ReplicatedStorage_0.Shared.Framework.Classes.Maid);
local v8 = require(l_ReplicatedStorage_0.Client.Gui.Utils.ItemFrame);
local v9 = require(l_ReplicatedStorage_0.Shared.Utils.AnimateColor);
local v10 = require(l_ReplicatedStorage_0.Client.Gui.Utils.Shiny);
local v11 = require(l_ReplicatedStorage_0.Shared.Framework.Utilities.every);
local v12 = require(l_ReplicatedStorage_0.Shared.Framework.Utilities.Math.Time);
local v13 = require(l_ReplicatedStorage_0.Client.Framework.Services.LocalData);
local v14 = require(l_ReplicatedStorage_0.Shared.Framework.Utilities.String.FormatSuffix);
local v15 = require(l_ReplicatedStorage_0.Client.Gui.Utils.AutoButtonColor);
local v16 = require(l_ReplicatedStorage_0.Shared.Palette);
local v17 = require(l_ReplicatedStorage_0.Shared.Constants);
local v18 = require(l_ReplicatedStorage_0.Client.Gui.Utils.ClickableButton);
local v19 = require(l_ReplicatedStorage_0.Shared.Framework.Network.Remote);
local v20 = require(l_ReplicatedStorage_0.Client.Framework.Utilities.Gui.Confetti);
local v21 = require(l_ReplicatedStorage_0.Client.Gui.GuiFrame);
local v22 = require(l_ReplicatedStorage_0.Client.Gui.Utils.SequentialSound);
local v23 = require(l_ReplicatedStorage_0.Client.Gui.Utils.PlayLocalSound);
local v24 = require(l_ReplicatedStorage_0.Shared.Framework.Classes.Emitter);
local v25 = require(l_ReplicatedStorage_0.Client.Effects.OutlinePulse);
local v26 = require(l_ReplicatedStorage_0.Client.Gui.Tooltip);
local _ = require(l_ReplicatedStorage_0.Shared.Types);
local v28 = require(l_ReplicatedStorage_0.Shared.Utils.Stats.ItemUtil);
local v29 = require(l_ReplicatedStorage_0.Shared.Data.Builders.TooltipBuilder);
local v30 = require(l_ReplicatedStorage_0.Client.Framework.Utilities.Gui.Animations.SetFade);
local v31 = require(l_ReplicatedStorage_0.Shared.Framework.Classes.Pool);
local v32 = require(l_ReplicatedStorage_0.Shared.Utils.Stats.QuestUtil);
local v33 = require(l_ReplicatedStorage_0.Client.Framework.Utilities.Gui.HookScrollingFrame);
local _ = require(l_ReplicatedStorage_0.Client.Gui.Utils.UpdateWhileGuiOpen);
local _ = require(l_ReplicatedStorage_0.Shared.Data.Seasons);
local v36 = require(l_ReplicatedStorage_0.Client.Gui.Animations.ItemFall);
local v37 = require(l_ReplicatedStorage_0.Client.Gui.Animations.ProcessingPurchase);
local v38 = require(l_ReplicatedStorage_0.Shared.Framework.Utilities.ProductInfo);
local v39 = require(l_ReplicatedStorage_0.Client.Gui.Utils.Notification);
local v40 = require(l_ReplicatedStorage_0.Shared.Utils.RichText);
local v41 = require(l_ReplicatedStorage_0.Client.Effects.HatchEgg);
local _ = require(l_ReplicatedStorage_0.Shared.Utils.Stats.StatsUtil);
local v43 = require(l_ReplicatedStorage_0.Client.Gui.Utils.CheckInventorySpace);
local l_LocalPlayer_0 = l_Players_0.LocalPlayer;
local l_CurrentCamera_0 = workspace.CurrentCamera;
local l_ScreenGui_0 = l_LocalPlayer_0.PlayerGui.ScreenGui;
local l_Frame_0 = l_ScreenGui_0.Season.Frame;
local l_Template_0 = l_Frame_0.Content.Rewards.Track.Template;
l_Template_0.Parent = nil;
l_Template_0.Free.Inner:Destroy();
l_Template_0.Premium.Inner:Destroy();
local l_UIScale_0 = l_ScreenGui_0.UIScale;
local l_Rewards_0 = l_Frame_0.Content.Rewards;
local l_Effect_0 = l_ScreenGui_0.Season.Effect;
local l_Challenges_0 = l_Frame_0.Content.Challenges;
local l_Premium_0 = l_Frame_0.Content.Premium;
local l_Template_1 = l_Frame_0.Top.Items.Frame.Template;
l_Template_1.Parent = nil;
local l_Template_2 = l_Challenges_0.Hourly.List.Template;
l_Template_2.Parent = nil;
local v56 = "Rewards";
local v57 = {
    l_ScreenGui_0.HUD.Right.Season.Button.Notification, 
    l_Frame_0.Top.Buttons.Rewards.Button.Notification
};
local v58 = {
    Maid = v7.new(), 
    Elements = {}
};
local v59 = {};
local v60 = {};
local v61 = {};
local v62 = v31.new(function() --[[ Line: 109 ]]
    -- upvalues: l_Template_2 (copy)
    return l_Template_2:Clone();
end);
local v63 = {};
local v64 = v24.fromEmitter(l_ReplicatedStorage_0.Assets.Particles.Stars);
v64.Parent = l_Effect_0.Beam.Emitter;
v64.Rate = 0;
local v65 = TweenInfo.new(0.25, Enum.EasingStyle.Quart);
local v66 = TweenInfo.new(0.35, Enum.EasingStyle.Quint);
local v67 = TweenInfo.new(0.125, Enum.EasingStyle.Sine, Enum.EasingDirection.In);
local v68 = TweenInfo.new(v67.Time, v67.EasingStyle);
local v69 = TweenInfo.new(1.25, Enum.EasingStyle.Quint);
local v70 = TweenInfo.new(0.25, Enum.EasingStyle.Quint);
local v71 = nil;
local v72 = 0;
local v73 = 0;
local v74 = nil;
local v75 = v22(l_ReplicatedStorage_0.Assets.Sounds.UI.Prize, {
    Ramping = 20, 
    Pitch = NumberRange.new(1, 3), 
    Buffer = 3
});
local v76 = 0;
local function v78() --[[ Line: 142 ]] --[[ Name: pulseCamera ]]
    -- upvalues: v76 (ref), l_TweenService_0 (copy), l_CurrentCamera_0 (copy), v68 (copy), v67 (copy)
    local v77 = v76 + 1;
    v76 = v77;
    l_TweenService_0:Create(l_CurrentCamera_0, v68, {
        FieldOfView = 75
    }):Play();
    task.wait(v68.Time);
    if v77 == v76 then
        l_TweenService_0:Create(l_CurrentCamera_0, v67, {
            FieldOfView = 70
        }):Play();
    end;
end;
local function v80() --[[ Line: 154 ]] --[[ Name: shockwave ]]
    -- upvalues: l_Effect_0 (copy), l_TweenService_0 (copy), v69 (copy)
    local v79 = l_Effect_0.Shockwave:Clone();
    v79.Parent = l_Effect_0;
    l_TweenService_0:Create(v79, v69, {
        Size = UDim2.fromOffset(3000, 3000), 
        ImageTransparency = 1
    }):Play();
    task.delay(v69.Time, function() --[[ Line: 161 ]]
        -- upvalues: v79 (copy)
        v79:Destroy();
    end);
end;
local function v83() --[[ Line: 166 ]] --[[ Name: framePulse ]]
    -- upvalues: l_Effect_0 (copy), l_TweenService_0 (copy), v65 (copy), v25 (copy), l_Frame_0 (copy), v66 (copy)
    local v81 = l_Effect_0.Fade:Clone();
    v81.Visible = true;
    v81.Parent = l_Effect_0;
    l_TweenService_0:Create(v81, v65, {
        Size = UDim2.fromScale(1.3, 1.3)
    }):Play();
    v25(function(v82) --[[ Line: 172 ]]
        -- upvalues: l_Frame_0 (ref)
        v82.UIStroke.Thickness = l_Frame_0.UIStroke.Thickness;
        v82.UICorner.CornerRadius = l_Frame_0.UICorner.CornerRadius;
    end).Parent = l_Frame_0;
    task.delay(v65.Time, function() --[[ Line: 177 ]]
        -- upvalues: l_TweenService_0 (ref), v81 (copy), v66 (ref)
        l_TweenService_0:Create(v81, v66, {
            ImageTransparency = 1
        }):Play();
        task.wait(v66.Time);
        v81:Destroy();
    end);
end;
local v84 = 0;
local function _() --[[ Line: 185 ]] --[[ Name: notifyLuck ]]
    -- upvalues: v84 (ref), v39 (copy), v40 (copy), v16 (copy)
    local v85 = os.clock();
    if v85 - v84 < 5 then
        return;
    else
        v84 = v85;
        v39(("Your Season feels %*!"):format((v40.autoColor("a little luckier", v16.Text.Green))), {
            Sound = "NotificationSeasonQuick"
        });
        return;
    end;
end;
local function v88() --[[ Line: 195 ]] --[[ Name: updateTooltipState ]]
    -- upvalues: l_Frame_0 (copy), v21 (copy), l_ScreenGui_0 (copy)
    local l_Visible_0 = l_Frame_0.Close.Visible;
    if not v21:IsOpen("Season") then
        l_Visible_0 = true;
    elseif l_Frame_0.Cover.Visible then
        l_Visible_0 = false;
    end;
    l_ScreenGui_0.Tooltip.Visible = l_Visible_0;
end;
local v89 = 0;
local v90 = TweenInfo.new(0.35, Enum.EasingStyle.Linear);
local function v101(v91) --[[ Line: 207 ]] --[[ Name: renderItemPage ]]
    -- upvalues: v74 (ref), l_Frame_0 (copy), l_TweenService_0 (copy), v90 (copy), v28 (copy), v9 (copy), v73 (ref), l_Template_1 (copy), v26 (copy), v29 (copy), v89 (ref), v72 (ref)
    if not v74 then
        return;
    else
        if v91 then
            local v92 = l_Frame_0.Top.Items.Frame:Clone();
            l_Frame_0.Top.Items.Frame.Position = UDim2.fromScale(1.5, 1);
            v92.Parent = l_Frame_0.Top.Items;
            l_TweenService_0:Create(l_Frame_0.Top.Items.Frame, v90, {
                Position = UDim2.fromScale(0.5, 1)
            }):Play();
            l_TweenService_0:Create(v92, v90, {
                Position = UDim2.fromScale(-1.5, 1)
            }):Play();
            task.delay(v90.Time, function() --[[ Line: 217 ]]
                -- upvalues: v92 (copy), v28 (ref)
                for _, v94 in v92:GetChildren() do
                    if v94:IsA("Frame") then
                        v28:UpdateIcon(v94);
                    end;
                end;
                v92:Destroy();
            end);
        end;
        for _, v96 in l_Frame_0.Top.Items.Frame:GetChildren() do
            if v96:IsA("Frame") then
                v28:UpdateIcon(v96);
                v9.None(v96.Unknown);
                v96:Destroy();
            end;
        end;
        for v97 = (v73 - 1) * 5 + 1, v73 * 5 do
            local v98 = v74[v97];
            if v98 then
                local v99 = v28:GetRarity(v98.Item) == "Secret";
                local v100 = l_Template_1:Clone();
                v100.LayoutOrder = v97;
                v100.Unknown.Visible = v99;
                v100.Label.ImageColor3 = v99 and Color3.new() or Color3.new(1, 1, 1);
                if v99 then
                    v9.Cycle(v100.Unknown, "Rainbow", {
                        Speed = 0.4
                    });
                end;
                v100.Parent = l_Frame_0.Top.Items.Frame;
                v28:UpdateIcon(v100, v98.Item);
                v26:OnEnter(v100.Button, function() --[[ Line: 253 ]]
                    -- upvalues: v99 (copy), v29 (ref), v98 (copy)
                    if v99 then
                        return;
                    else
                        return v29.fromItem(v98.Item);
                    end;
                end);
            else
                break;
            end;
        end;
        v89 = os.clock();
        l_Frame_0.Top.Items.Page.Text = ("%* / %*"):format(v73, v72);
        l_Frame_0.Top.Items.Page.Visible = v72 > 1;
        return;
    end;
end;
local v102 = 0;
local v103 = 0;
local function v105() --[[ Line: 268 ]] --[[ Name: claimEffect ]]
    -- upvalues: v103 (ref), v102 (ref), v23 (copy), v20 (copy), v75 (copy), v78 (copy), v83 (copy)
    local v104 = os.clock();
    if v104 - v103 > 20 then
        v102 = 0;
    end;
    v103 = v104;
    v102 = v102 + 1;
    if v102 % 5 == 0 then
        v23("Fireworks");
    end;
    v20:Emit(v20.Bottom, 15);
    v75();
    task.defer(v78);
    task.defer(v83);
end;
local l_Cover_0 = l_Frame_0.Cover;
local function v112() --[[ Line: 288 ]] --[[ Name: tryInfinitePrompt ]]
    -- upvalues: v6 (copy), v21 (copy), l_Cover_0 (copy), v13 (copy), l_Frame_0 (copy), l_ScreenGui_0 (copy), l_TweenService_0 (copy), v30 (copy), v65 (copy), v9 (copy), v23 (copy)
    local l_v6_CurrentSeason_0 = v6:GetCurrentSeason();
    if not l_v6_CurrentSeason_0 then
        return;
    elseif not v21:IsOpen("Season") then
        return;
    elseif l_Cover_0.Visible then
        return;
    else
        local v108 = v13:Get();
        if not v108 then
            return;
        elseif v108.Season.IsInfinite or v108.Season.Level < #l_v6_CurrentSeason_0.Track then
            return;
        else
            l_Cover_0.BackgroundTransparency = 1;
            l_Cover_0.Icon.Visible = false;
            l_Cover_0.Info["1"].Visible = false;
            l_Cover_0.Info["2"].Visible = false;
            l_Cover_0.Action.Visible = false;
            l_Cover_0.Icon.UIScale.Scale = 1.25;
            l_Cover_0.Visible = true;
            local l_Visible_1 = l_Frame_0.Close.Visible;
            if not v21:IsOpen("Season") then
                l_Visible_1 = true;
            elseif l_Frame_0.Cover.Visible then
                l_Visible_1 = false;
            end;
            l_ScreenGui_0.Tooltip.Visible = l_Visible_1;
            l_TweenService_0:Create(l_Cover_0, TweenInfo.new(0.5), {
                BackgroundTransparency = 0.25
            }):Play();
            task.wait(0.5);
            l_Cover_0.Icon.Visible = true;
            v30(l_Cover_0.Icon, 0, v65);
            l_TweenService_0:Create(l_Cover_0.Icon.UIScale, v65, {
                Scale = 1
            }):Play();
            v9.Shift(l_Cover_0.Icon.Inner, "RainbowSideways", {
                Speed = 0.5
            });
            v9.Cycle(l_Cover_0.Icon.Track.Highlight, "Rainbow", {
                Speed = 0.5
            });
            v9.Cycle(l_Cover_0.Icon.Infinite.Highlight, "Rainbow", {
                Speed = 0.5
            });
            task.wait(0.75);
            for v110 = 1, 2 do
                local v111 = l_Cover_0.Info[tostring(v110)];
                v111.Visible = true;
                v111.Label.Position = UDim2.fromOffset(0, -10);
                v30(v111, 0, v65);
                v23("PetMove");
                l_TweenService_0:Create(v111.Label, TweenInfo.new(0.5), {
                    Position = UDim2.new()
                }):Play();
                task.wait(0.65);
            end;
            task.wait(0.5);
            l_Cover_0.Action.Visible = true;
            return;
        end;
    end;
end;
local function v114() --[[ Line: 343 ]] --[[ Name: updateScroller ]]
    -- upvalues: v71 (ref), l_Rewards_0 (copy), l_ScreenGui_0 (copy)
    if v71 == "Standard" then
        local v113 = l_Rewards_0.UIPadding.PaddingLeft.Offset + l_Rewards_0.UIPadding.PaddingRight.Offset;
        l_Rewards_0.CanvasSize = UDim2.new(0, l_Rewards_0.Track.UIListLayout.AbsoluteContentSize.X / l_ScreenGui_0.UIScale.Scale + v113, 0, 0);
        return;
    else
        l_Rewards_0.CanvasSize = UDim2.new();
        return;
    end;
end;
local function v119() --[[ Line: 353 ]] --[[ Name: updateTheme ]]
    -- upvalues: v13 (copy), v71 (ref), l_Frame_0 (copy), v9 (copy), v16 (copy), l_ScreenGui_0 (copy), l_Rewards_0 (copy), v114 (copy)
    local v115 = v13:Get();
    if not v115 then
        return;
    else
        local v116 = v115.Season.IsInfinite and "Infinite" or "Standard";
        if v71 == v116 then
            return;
        else
            local v117 = v116 == "Infinite";
            local l_Button_0 = l_Frame_0.Top.Buttons.Rewards.Button;
            if v117 then
                l_Frame_0.Top.Points.Bar.BackgroundColor3 = Color3.new();
                l_Frame_0.UIGradient.Color = ColorSequence.new(Color3.fromHex("#0f101d"), Color3.fromHex("#28383f"));
                l_Frame_0.Streak.UIStroke.Color = Color3.new();
                l_Frame_0.Background.ImageTransparency = 0.9;
                v9.Shift(l_Button_0.Effect, "RainbowSideways", {
                    Speed = 0.5
                });
            else
                l_Frame_0.Top.Points.Bar.BackgroundColor3 = v16.Color.Default;
                l_Frame_0.UIGradient.Color = ColorSequence.new(Color3.fromHex("#217ad9"), Color3.fromHex("#1badec"));
                l_Frame_0.Streak.UIStroke.Color = Color3.fromHex("#00295e");
                l_Frame_0.Background.ImageTransparency = 0.5;
                v9.None(l_Button_0.Effect);
            end;
            l_Frame_0.Streak.Background.ImageTransparency = l_Frame_0.Background.ImageTransparency;
            l_Frame_0.Streak.UIGradient.Color = l_Frame_0.UIGradient.Color;
            l_Button_0.Effect.Visible = v117;
            l_Button_0.Container.Label.Text = v117 and "Infinite" or "Rewards";
            l_Button_0.Container.Icon.Image = v117 and "rbxassetid://138348432102058" or "rbxassetid://73818475082467";
            task.defer(function() --[[ Line: 384 ]]
                -- upvalues: l_Button_0 (copy), l_ScreenGui_0 (ref)
                l_Button_0.Container.Label.Size = UDim2.new(0, l_Button_0.Container.Label.TextBounds.X / l_ScreenGui_0.UIScale.Scale, 1, 0);
            end);
            l_Frame_0.UIStroke.Rainbow.Enabled = v117;
            l_Frame_0.UIStroke.Color = v117 and Color3.new(1, 1, 1) or v16.Color.Default;
            l_Frame_0.Top.Points.Icon.Image = v117 and "rbxassetid://129235881917550" or "rbxassetid://85704526714022";
            l_Frame_0.Top.Items.Visible = v117;
            l_Rewards_0.Track.Visible = not v117;
            l_Rewards_0.Infinite.Visible = v117;
            v71 = v116;
            v114();
            return;
        end;
    end;
end;
for _, v121 in l_Frame_0.Top.Buttons:GetChildren() do
    if v121:IsA("Frame") then
        local l_FirstChild_0 = v121.Button:FindFirstChild("Label", true);
        local function v124() --[[ Line: 407 ]] --[[ Name: updateSize ]]
            -- upvalues: l_FirstChild_0 (copy), l_UIScale_0 (copy)
            local v123 = math.ceil(l_FirstChild_0.TextBounds.X / l_UIScale_0.Scale) + 1;
            l_FirstChild_0.Size = UDim2.new(0, v123, 1, 0);
        end;
        l_FirstChild_0:GetPropertyChangedSignal("TextBounds"):Connect(v124);
        l_UIScale_0:GetPropertyChangedSignal("Scale"):Connect(v124);
        local v125 = math.ceil(l_FirstChild_0.TextBounds.X / l_UIScale_0.Scale) + 1;
        l_FirstChild_0.Size = UDim2.new(0, v125, 1, 0);
    end;
end;
local function v149(v126) --[[ Line: 418 ]] --[[ Name: setPage ]]
    -- upvalues: v6 (copy), v13 (copy), v61 (copy), v28 (copy), v17 (copy), v8 (copy), l_Premium_0 (copy), l_ScreenGui_0 (copy), l_Frame_0 (copy), v16 (copy), v15 (copy), v56 (ref)
    local l_v6_CurrentSeason_1 = v6:GetCurrentSeason();
    if not l_v6_CurrentSeason_1 then
        return;
    else
        local v128 = v13:Get();
        if not v128 then
            return;
        else
            for _, v130 in v61 do
                v130.Cleanup();
                v130.Element:Destroy();
            end;
            table.clear(v61);
            if not v128.Season.Premium and v126 == "Premium" then
                local v131 = v128.Season.IsInfinite and #l_v6_CurrentSeason_1.Track or v128.Season.Level;
                local v132 = {};
                for v133 = 1, v131 do
                    table.insert(v132, l_v6_CurrentSeason_1.Track[v133].Premium);
                end;
                local v134 = v28:Combine(v132);
                table.sort(v134, function(v135, v136) --[[ Line: 442 ]]
                    -- upvalues: v28 (ref), v17 (ref)
                    local l_v28_Rarity_0 = v28:GetRarity(v135);
                    local l_v28_Rarity_1 = v28:GetRarity(v136);
                    if l_v28_Rarity_0 ~= l_v28_Rarity_1 then
                        return v17.RarityOrder[l_v28_Rarity_0] < v17.RarityOrder[l_v28_Rarity_1];
                    else
                        return v28:GetAmount(v135) < v28:GetAmount(v136);
                    end;
                end);
                for v139, v140 in v134 do
                    local v141, v142 = v8(v140, true);
                    v141.Size = UDim2.fromOffset(100, 100);
                    v141.Button.Inner.Label.Visible = v140.Type ~= "Pet";
                    v141.Button.Inner.Label.TextSize = 18;
                    v141.LayoutOrder = #v134 - v139;
                    v141.Parent = l_Premium_0.Content.Missed.Items;
                    table.insert(v61, {
                        Element = v141, 
                        Cleanup = v142
                    });
                end;
                task.defer(function() --[[ Line: 464 ]]
                    -- upvalues: l_Premium_0 (ref), l_ScreenGui_0 (ref), v61 (ref)
                    local v143 = math.min(255, (l_Premium_0.Content.Missed.Items.UIListLayout.AbsoluteContentSize / l_ScreenGui_0.UIScale.Scale).Y + 50);
                    l_Premium_0.Content.Size = UDim2.new(1, -350, 1, v143 == 255 and 0 or -100);
                    l_Premium_0.Content.Missed.Size = UDim2.new(1, 0, 0, v143);
                    l_Premium_0.Content.Missed.Visible = #v61 > 0;
                end);
            else
                l_Premium_0.Content.Size = UDim2.new(1, -350, 1, -100);
            end;
            for _, v145 in l_Frame_0.Top.Buttons:GetChildren() do
                if v145:IsA("Frame") then
                    local l_Inactive_0 = v16.Button.Inactive;
                    if v145.Name == v126 then
                        l_Inactive_0 = v126 == "Premium" and v16.Button.Orange or v16.Button.Default;
                    end;
                    v15(v145.Button, l_Inactive_0);
                end;
            end;
            for _, v148 in l_Frame_0.Content:GetChildren() do
                v148.Visible = v126 == v148.Name;
            end;
            l_Frame_0.Top.UnlockAll.Button.Visible = v126 == "Rewards";
            v56 = v126;
            return;
        end;
    end;
end;
local function v163(v150, v151) --[[ Line: 495 ]] --[[ Name: updateChallenges ]]
    -- upvalues: v71 (ref), l_Challenges_0 (copy), v32 (copy), v62 (copy), v14 (copy), v28 (copy), l_TextService_0 (copy), v16 (copy)
    local v152 = v71 == "Infinite";
    local v153 = v151 == "Hourly" and l_Challenges_0.Hourly.List or l_Challenges_0.Daily.List;
    for v154 = 1, 3 do
        local v155 = ("%*-challenge-%*"):format(string.lower(v151), v154);
        local l_v32_ById_0 = v32:FindById(v150, v155);
        if l_v32_ById_0 then
            local v157 = l_v32_ById_0.Tasks[1];
            local v158 = l_v32_ById_0.Rewards[1];
            local v159 = l_v32_ById_0.Progress[1] / v32:GetRequirement(v157);
            local v160 = v62:Get();
            v160.Name = v155;
            v160.LayoutOrder = v154;
            v160.Completed.Visible = l_v32_ById_0.Claimed or false;
            v160.Content.Bar.Fill.Size = UDim2.new(v159, 0, 1, 6);
            v160.Content.Bar.Label.Text = ("%*%%"):format((math.ceil(v159 * 100)));
            v160.Content.Label.Text = v32:FormatTask(v157);
            v32:UpdateIcon(v160.Icon, l_v32_ById_0);
            local l_Label_0 = v160.Content.Reward.Label;
            l_Label_0.Text = v14(v28:GetAmount(v158));
            l_Label_0.Size = UDim2.fromOffset(l_TextService_0:GetTextSize(l_Label_0.Text, l_Label_0.TextSize, l_Label_0.Font, Vector2.new(1e999)).X, 30);
            local v162 = v152 and Color3.new() or v16.Color.Default;
            v160.BackgroundColor3 = v152 and Color3.fromRGB(43, 61, 79) or Color3.fromRGB(156, 224, 243);
            v160.Completed.BackgroundColor3 = v160.BackgroundColor3;
            v160.Content.Bar.BackgroundColor3 = v162;
            v160.UIStroke.Color = v162;
            v160.Content.Bar.UIStroke.Color = v162;
            v160.Content.Bar.Label.UIStroke.Color = v162;
            v160.Content.Bar.Fill.UIStroke.Color = v162;
            v160.Content.Label.UIStroke.Color = v162;
            v160.Parent = v153;
        end;
    end;
end;
local v164 = nil;
local v165 = nil;
local v166 = false;
local function v235() --[[ Line: 539 ]] --[[ Name: update ]]
    -- upvalues: v6 (copy), v13 (copy), v58 (copy), v60 (copy), v17 (copy), v15 (copy), v16 (copy), v59 (copy), l_TweenService_0 (copy), v70 (copy), l_Template_0 (copy), v14 (copy), l_Rewards_0 (copy), v8 (copy), v28 (copy), v9 (copy), v18 (copy), v166 (ref), v26 (copy), l_MarketplaceService_0 (copy), l_LocalPlayer_0 (copy), v43 (copy), v36 (copy), v19 (copy), v105 (copy), l_ScreenGui_0 (copy), l_Premium_0 (copy), v165 (ref), v21 (copy), v56 (ref), v39 (copy), v40 (copy), v149 (copy), v57 (copy), v164 (ref), v23 (copy), v80 (copy), v83 (copy), v20 (copy), v78 (copy), v163 (copy), v62 (copy), l_Frame_0 (copy)
    local l_v6_CurrentSeason_2 = v6:GetCurrentSeason();
    if not l_v6_CurrentSeason_2 then
        return;
    else
        local v168 = v13:Get();
        if not v168 then
            return;
        else
            local l_Level_0 = v168.Season.Level;
            local l_Points_0 = v168.Season.Points;
            local v171 = 0;
            local v172 = false;
            for v173, v174 in v58.Elements do
                local l_v6_Requirement_0 = v6:GetRequirement(l_v6_CurrentSeason_2, v173);
                local l_v6_Requirement_1 = v6:GetRequirement(l_v6_CurrentSeason_2, v173 + 1);
                local v177 = math.clamp((l_Points_0 - l_v6_Requirement_0) / (l_v6_Requirement_1 - l_v6_Requirement_0), 0, 1);
                local v178 = 0;
                local v179 = 0;
                if v177 > 0.5 then
                    v179 = (v177 - 0.5) * 2;
                    v178 = 1;
                else
                    v178 = v177 * 2;
                end;
                local v180 = v58.Elements[v173 + 1];
                if v180 then
                    v180.BarLeft.Fill.Size = UDim2.new(v179, 0, 1, -6);
                end;
                local l_Button_1 = v174.Action.Button;
                local v182 = v173 <= l_Level_0;
                local v183 = false;
                if l_Points_0 < l_v6_Requirement_0 then
                    v183 = not v182 and not v172;
                end;
                if v183 and l_Level_0 + 1 < v173 then
                    v183 = false;
                end;
                local v184 = false;
                if v183 then
                    local l_v6_SkipProduct_0 = v6:GetSkipProduct(v168);
                    local v186 = l_v6_SkipProduct_0 and v60[tostring(l_v6_SkipProduct_0)];
                    l_Button_1.Label.Text = ("%*%*"):format(v17.RobuxUnicode, v186 or "__");
                    v172 = true;
                    v184 = true;
                    v15(l_Button_1, v16.Button.Pink);
                elseif v173 <= l_Level_0 + 1 then
                    v184 = true;
                    l_Button_1.Label.Text = "Claim";
                    v15(l_Button_1, v16.Button.Green);
                else
                    l_Button_1.Label.Text = ("TIER %*"):format(v173);
                    v15(l_Button_1, v16.Button.Inactive);
                end;
                if v184 then
                    l_Button_1.Label.TextSize = 36;
                    v174.Action.Size = UDim2.fromOffset(175, 55);
                    v174.Action.Position = UDim2.new(0.5, 0, 0, -10);
                else
                    l_Button_1.Label.TextSize = 30;
                    v174.Action.Size = UDim2.fromOffset(155, 45);
                    v174.Action.Position = UDim2.fromScale(0.5, 0);
                end;
                if not v168.Season.IsInfinite and l_v6_Requirement_0 < l_Points_0 and not v182 then
                    v171 = v171 + 1;
                end;
                l_Button_1.Title.Visible = v183;
                v174.Luck.Visible = false;
                v174.Action.Claimed.Visible = v182;
                v174.Action.Button.Visible = not v182;
                v174.Amount.Image = l_v6_Requirement_0 <= l_Points_0 and "rbxassetid://85704526714022" or "rbxassetid://104878601436372";
                v174.BarRight.Fill.Size = UDim2.new(v178, 0, 1, -6);
            end;
            if v168.Season.IsInfinite then
                v172 = -1;
                for v187 = #v59, 1, -1 do
                    local v188 = v59[v187];
                    local v189 = (v188.Index - l_Level_0) * 230;
                    if v188.Element.Position.X.Offset ~= v189 then
                        l_TweenService_0:Create(v188.Element, v70, {
                            Position = UDim2.fromOffset(v189, 0)
                        }):Play();
                        if v189 < 0 then
                            v188.Element:SetAttribute("IgnoreBar", true);
                            v188.Element.BarLeft.Fill.Size = UDim2.new(1, 0, 1, -6);
                            v188.Element.BarRight.Fill.Size = UDim2.new(1, 0, 1, -6);
                            task.delay(v70.Time, function() --[[ Line: 637 ]]
                                -- upvalues: v188 (copy), v59 (ref), v187 (copy)
                                v188.Cleanup();
                                table.remove(v59, v187);
                                task.defer(function() --[[ Line: 640 ]]
                                    -- upvalues: v188 (ref)
                                    v188.Element:Destroy();
                                end);
                            end);
                        end;
                    end;
                    v172 = math.max(v172, v188.Index);
                end;
                if v172 == -1 then
                    v172 = l_Level_0 - 1;
                end;
                local v190 = #v59;
                while v190 <= 5 do
                    local v191 = v172 + 1;
                    local v192 = v191 - l_Level_0;
                    local l_v6_InfiniteSegment_0 = v6:GetInfiniteSegment(v168, l_v6_CurrentSeason_2, v191, true);
                    local l_v6_InfinityRewards_0 = v6:GetInfinityRewards(v168, v191);
                    local v195 = l_Template_0:Clone();
                    v195.Name = "Infinite" .. v191;
                    v195.Position = UDim2.fromOffset(v192 * 230, 0);
                    v195.BarLeft.BackgroundColor3 = Color3.new();
                    v195.BarRight.BackgroundColor3 = Color3.new();
                    v195.Amount.Label.Text = l_v6_InfiniteSegment_0.Requirement == 0 and "FREE" or v14(l_v6_InfiniteSegment_0.Requirement);
                    v195.Parent = l_Rewards_0.Infinite;
                    local v196, v197 = v8(l_v6_InfinityRewards_0.Free, true);
                    local v198, v199 = v8(l_v6_InfinityRewards_0.Premium, true);
                    if v28:GetRarity(l_v6_InfinityRewards_0.Premium) ~= "Legendary" and v28:GetRarity(l_v6_InfinityRewards_0.Premium) ~= "Secret" then
                        v9.Shift(v198.Button, "Gold", {
                            Speed = 0.5
                        });
                    end;
                    v9.Shift(v198.Button.Inner, "Gold", {
                        Speed = 0.25
                    });
                    v196.Size = UDim2.fromScale(1, 1);
                    v196.Parent = v195.Free;
                    v198.Size = UDim2.fromScale(1, 1);
                    v198.Button.Inner.BackgroundColor3 = Color3.fromRGB(255, 179, 169);
                    v198.Parent = v195.Premium;
                    v18(v195.Action.Button, function() --[[ Line: 681 ]]
                        -- upvalues: v166 (ref), v70 (ref), v195 (copy), v13 (ref), v6 (ref), v26 (ref), l_MarketplaceService_0 (ref), l_LocalPlayer_0 (ref), l_v6_InfinityRewards_0 (copy), v43 (ref), v36 (ref), v19 (ref), v105 (ref)
                        if v166 then
                            return;
                        else
                            v166 = true;
                            task.delay(v70.Time + 0.1, function() --[[ Line: 686 ]]
                                -- upvalues: v166 (ref)
                                v166 = false;
                            end);
                            if v195.Action.Button.Title.Visible then
                                local v200 = v13:Get();
                                if not v200 then
                                    return;
                                else
                                    local l_v6_SkipProduct_1 = v6:GetSkipProduct(v200);
                                    if l_v6_SkipProduct_1 then
                                        v26:Hide();
                                        l_MarketplaceService_0:PromptProductPurchase(l_LocalPlayer_0, l_v6_SkipProduct_1);
                                        return;
                                    end;
                                end;
                            elseif v195.Action.Button:GetAttribute("CanClaim") then
                                local v202 = v13:Get();
                                if not v202 then
                                    return;
                                else
                                    local v203 = {
                                        l_v6_InfinityRewards_0.Free
                                    };
                                    if v202.Season.Premium then
                                        table.insert(v203, l_v6_InfinityRewards_0.Premium);
                                    end;
                                    for _, v205 in v203 do
                                        if v205.Type == "Pet" and not v43(v202) then
                                            return;
                                        end;
                                    end;
                                    for _, v207 in v203 do
                                        v36(v207);
                                    end;
                                    if v202.Season.Premium then
                                        v36(l_v6_InfinityRewards_0.Premium);
                                    end;
                                    v36(l_v6_InfinityRewards_0.Free);
                                    v19:FireServer("ClaimSeason");
                                    v105();
                                end;
                            end;
                            return;
                        end;
                    end);
                    table.insert(v59, {
                        Index = v191, 
                        Element = v195, 
                        Segment = l_v6_InfiniteSegment_0, 
                        Cleanup = function() --[[ Line: 736 ]] --[[ Name: Cleanup ]]
                            -- upvalues: v199 (copy), v197 (copy)
                            v199();
                            v197();
                        end
                    });
                    v172 = v191;
                    v190 = v190 + 1;
                end;
                local v208 = true;
                local v209 = false;
                for _, v211 in v59 do
                    local l_Action_0 = v211.Element.Action;
                    local v213 = v211.Index == l_Level_0;
                    local l_LastTrueCost_0 = v211.Segment.LastTrueCost;
                    local v215 = nil;
                    for _, v217 in v59 do
                        if v217.Index == v211.Index + 1 then
                            v215 = v217;
                            break;
                        end;
                    end;
                    if v215 and not v215.Element:GetAttribute("IgnoreBar") then
                        local l_LastTrueCost_1 = v215.Segment.LastTrueCost;
                        local v219 = math.clamp((l_Points_0 - l_LastTrueCost_0) / (l_LastTrueCost_1 - l_LastTrueCost_0), 0, 1);
                        local v220 = 0;
                        local v221 = 0;
                        if v219 > 0.5 then
                            v221 = (v219 - 0.5) * 2;
                            v220 = 1;
                        else
                            v220 = v219 * 2;
                        end;
                        if v211.Segment.Requirement == 0 and v208 and v215.Segment.Requirement == 0 then
                            v220 = 1;
                            v221 = 1;
                        end;
                        v215.Element.BarLeft.Fill.Size = UDim2.new(v221, 0, 1, -6);
                        if v213 then
                            if v211.Segment.Requirement > 0 then
                                v211.Element.BarLeft.Fill.Size = UDim2.new(math.clamp(l_Points_0 / v211.Segment.Requirement, 0, 1), 0, 1, -6);
                            elseif v208 then
                                v211.Element.BarLeft.Fill.Size = UDim2.new(1, 0, 1, -6);
                                v211.Element.BarRight.Fill.Size = UDim2.new(1, 0, 1, -6);
                            end;
                        end;
                        v211.Element.BarRight.Fill.Size = UDim2.new(v220, 0, 1, -6);
                    end;
                    if l_Points_0 < v211.Segment.Requirement then
                        v208 = false;
                    end;
                    if v213 then
                        l_Action_0.Button.Label.TextSize = 36;
                        l_Action_0.Size = UDim2.fromOffset(175, 55);
                        l_Action_0.Position = UDim2.new(0.5, 0, 0, -10);
                    else
                        l_Action_0.Button.Label.TextSize = 30;
                        l_Action_0.Size = UDim2.fromOffset(155, 45);
                        l_Action_0.Position = UDim2.fromScale(0.5, 0);
                    end;
                    if not v208 and not v209 then
                        local l_v6_SkipProduct_2 = v6:GetSkipProduct(v168);
                        local v223 = l_v6_SkipProduct_2 and v60[tostring(l_v6_SkipProduct_2)];
                        l_Action_0.Button.Label.Text = ("%*%*"):format(v17.RobuxUnicode, v223 or "__");
                        v209 = true;
                        l_Action_0.Button.Title.Visible = true;
                        v15(l_Action_0.Button, v16.Button.Pink);
                    elseif v213 or v208 then
                        l_Action_0.Button.Title.Visible = false;
                        l_Action_0.Button.Label.Text = "Claim";
                        l_Action_0.Button:SetAttribute("CanClaim", true);
                        v15(l_Action_0.Button, v16.Button.Green);
                    else
                        l_Action_0.Button.Title.Visible = false;
                        l_Action_0.Button.Label.Text = v211.Segment.Requirement == 0 and "FREE" or "Locked";
                        v15(l_Action_0.Button, v16.Button.Inactive);
                    end;
                    if not v213 and not l_Action_0.Button.Title.Visible then
                        l_Action_0.Button:SetAttribute("CanClaim", false);
                        v15(l_Action_0.Button, v16.Button.Inactive);
                    end;
                    v211.Element.Luck.Visible = v168.Season.IsInfinite and v6:GetLuckMultiplier(v211.Index) < v6.MaxLuck;
                    v211.Element.Luck.Label.Text = ("+%*%%"):format((math.ceil(v6.LuckScale * 100)));
                    v211.Element.Amount.Image = v208 and "rbxassetid://85704526714022" or "rbxassetid://104878601436372";
                    task.defer(function() --[[ Line: 832 ]]
                        -- upvalues: v211 (copy), l_ScreenGui_0 (ref)
                        v211.Element.Luck.Label.Size = UDim2.new(0, v211.Element.Luck.Label.TextBounds.X / l_ScreenGui_0.UIScale.Scale, 1, 0);
                    end);
                end;
            end;
            v172 = v168.Season.Premium;
            if v172 then
                v9.Cycle(l_Premium_0.Content.Owned, "Shiny", {
                    Speed = 0.5
                });
            else
                v9.None(l_Premium_0.Content.Owned);
            end;
            l_Premium_0.Content.Missed.Visible = not v172;
            l_Premium_0.Content.Owned.Visible = v172;
            l_Premium_0.Content.Purchase.Visible = not v172;
            if v171 ~= v165 then
                if v165 and v165 < v171 and (not v21:IsOpen("Season") or v56 ~= "Rewards") and l_ScreenGui_0.HUD.Right.Season.Visible then
                    v39(("You have %* to claim!"):format((v40.autoColor("Season Rewards", v16.Text.Yellow))), {
                        Sound = "NotificationSeason", 
                        Button = function(v224) --[[ Line: 857 ]] --[[ Name: Button ]]
                            -- upvalues: v15 (ref), v16 (ref), v18 (ref), v13 (ref), v149 (ref), v21 (ref), l_TweenService_0 (ref), l_Rewards_0 (ref), v70 (ref), l_ScreenGui_0 (ref)
                            v224.Label.Text = "Open";
                            v15(v224, v16.Button.Orange);
                            v18(v224, function() --[[ Line: 860 ]]
                                -- upvalues: v13 (ref), v149 (ref), v21 (ref), l_TweenService_0 (ref), l_Rewards_0 (ref), v70 (ref), l_ScreenGui_0 (ref)
                                local v225 = v13:Get();
                                local v226 = v225 and v225.Season.Level or 0;
                                v149("Rewards");
                                v21:Open("Season");
                                l_TweenService_0:Create(l_Rewards_0, v70, {
                                    CanvasPosition = Vector2.new(230 * v226 * l_ScreenGui_0.UIScale.Scale, 0)
                                }):Play();
                            end);
                        end
                    });
                end;
                v165 = v171;
            end;
            for _, v228 in v57 do
                v228.Visible = v171 > 0;
                v228.Label.Text = v171 > 9 and "!" or tostring(v171);
            end;
            if v164 == nil then
                v164 = v172;
            elseif v172 ~= v164 then
                task.spawn(function() --[[ Line: 883 ]]
                    -- upvalues: v23 (ref), v80 (ref), v83 (ref)
                    v23("Fireworks");
                    v23("SparkleExplode");
                    for v229 = 1, 8 do
                        if v229 % 2 == 0 then
                            v80();
                        end;
                        task.defer(v83);
                        task.wait(0.2);
                    end;
                end);
                v20:Emit(v20.Bottom, 15);
                task.defer(v78);
                v164 = v172;
            end;
            v163(v168, "Hourly");
            v163(v168, "Daily");
            v62:Done();
            l_Frame_0.Top.Points.Bar.Label.Text = v14(l_Points_0);
            local l_Label_1 = l_Frame_0.Streak.Luck.Label;
            local l_v6_LuckMultiplier_0 = v6:GetLuckMultiplier(l_Level_0);
            l_Label_1.Text = ("%*%%"):format((math.floor((l_v6_LuckMultiplier_0 - 1) * 100)));
            l_Frame_0.Streak.Max.Visible = l_v6_LuckMultiplier_0 == v6.MaxLuck;
            l_Frame_0.Streak.Visible = v168.Season.IsInfinite;
            task.defer(function() --[[ Line: 914 ]]
                -- upvalues: l_Label_1 (copy), l_ScreenGui_0 (ref)
                l_Label_1.Size = UDim2.new(0, l_Label_1.TextBounds.X / l_ScreenGui_0.UIScale.Scale, 1, 0);
            end);
            local l_v6_Requirement_2 = v6:GetRequirement(l_v6_CurrentSeason_2, #l_v6_CurrentSeason_2.Track);
            local l_UnlockAll_0 = l_Frame_0.Top.UnlockAll;
            local v234 = false;
            if v168.Season.Level ~= #l_v6_CurrentSeason_2.Track then
                v234 = not v168.Season.IsInfinite and v168.Season.Points < l_v6_Requirement_2;
            end;
            l_UnlockAll_0.Visible = v234;
            return;
        end;
    end;
end;
for _, v237 in l_Frame_0.Top.Buttons:GetChildren() do
    if v237:IsA("Frame") then
        v18(v237.Button, function() --[[ Line: 928 ]]
            -- upvalues: v149 (copy), v237 (copy)
            v149(v237.Name);
        end);
    end;
end;
v149(v56);
v15(l_Frame_0.Top.Buttons.Rewards.Button, v16.Button.Blue);
v15(l_Frame_0.Top.Buttons.Challenges.Button, v16.Button.Blue);
v15(l_Frame_0.Top.Buttons.Premium.Button, v16.Button.Orange);
v33(l_Premium_0.Content.Missed.Items, l_Premium_0.Content.Missed.Items.UIListLayout);
local v238 = false;
local v239 = nil;
v239 = function(v240) --[[ Line: 944 ]] --[[ Name: updateCurrentSeason ]]
    -- upvalues: l_Frame_0 (copy), v58 (copy), v63 (copy), v28 (copy), v72 (ref), v73 (ref), v74 (ref), v164 (ref), l_Template_0 (copy), v14 (copy), v6 (copy), l_Rewards_0 (copy), v18 (copy), v238 (ref), v13 (copy), v112 (copy), v43 (copy), v36 (copy), l_TweenService_0 (copy), v70 (copy), l_ScreenGui_0 (copy), v19 (copy), v105 (copy), v26 (copy), l_MarketplaceService_0 (copy), l_LocalPlayer_0 (copy), v8 (copy), v9 (copy), v235 (copy), v101 (copy), v114 (copy)
    local v241 = v240 ~= nil;
    l_Frame_0.Top.Visible = v241;
    l_Frame_0.Content.Visible = v241;
    l_Frame_0.NoSeason.Visible = not v241;
    if not v241 then
        l_Frame_0.Streak.Visible = false;
    end;
    if v241 then
        l_Frame_0.Size = UDim2.fromOffset(850, 700);
    else
        l_Frame_0.Size = UDim2.fromOffset(500, 400);
    end;
    if not v240 then
        return;
    else
        for _, v243 in v58.Elements do
            v243:Destroy();
        end;
        v58.Maid:Cleanup();
        table.clear(v63);
        local v244 = table.clone(v240.Pool);
        local v245 = {};
        for v246 = #v244, 1, -1 do
            local l_v28_Name_0 = v28:GetName(v244[v246].Item);
            if v245[l_v28_Name_0] or v244[v246].Item.Type == "Currency" then
                table.remove(v244, v246);
            else
                v245[l_v28_Name_0] = true;
            end;
        end;
        table.sort(v244, function(v248, v249) --[[ Line: 980 ]]
            return v248.Chance < v249.Chance;
        end);
        v72 = math.ceil(#v244 / 5);
        v73 = 1;
        v74 = v244;
        v164 = nil;
        for v250, v251 in v240.Track do
            local v252 = l_Template_0:Clone();
            v252.Name = ("Tier %*"):format(v250);
            v252.BarLeft.Visible = v250 ~= 1;
            v252.BarRight.Visible = v250 ~= #v240.Track;
            v252.Amount.Label.Text = v14(v6:GetRequirement(v240, v250));
            v252.LayoutOrder = v250;
            v252.Parent = l_Rewards_0.Track;
            local l_Button_2 = v252.Action.Button;
            v18(l_Button_2, function() --[[ Line: 999 ]]
                -- upvalues: v238 (ref), l_Button_2 (copy), v250 (copy), v240 (copy), v13 (ref), v251 (copy), v112 (ref), v43 (ref), v36 (ref), l_TweenService_0 (ref), l_Rewards_0 (ref), v70 (ref), l_ScreenGui_0 (ref), v19 (ref), v105 (ref), v6 (ref), v26 (ref), l_MarketplaceService_0 (ref), l_LocalPlayer_0 (ref)
                if v238 then
                    return;
                else
                    v238 = true;
                    task.delay(0.25, function() --[[ Line: 1004 ]]
                        -- upvalues: v238 (ref)
                        v238 = false;
                    end);
                    if l_Button_2.Label.Text == "Claim" then
                        if v250 == #v240.Track then
                            local v254 = v13:Get();
                            local v255 = true;
                            if v251.Free.Type ~= "Pet" then
                                v255 = v254 and v254.Season.Premium and v251.Premium.Type == "Pet";
                            end;
                            if not v255 then
                                task.defer(v112);
                            end;
                        end;
                        local v256 = v13:Get();
                        if not v256 then
                            return;
                        else
                            local v257 = {
                                v240.Track[v250].Free
                            };
                            if v256.Season.Premium then
                                table.insert(v257, v240.Track[v250].Premium);
                            end;
                            for _, v259 in v257 do
                                if v259.Type == "Pet" and not v43(v256) then
                                    return;
                                end;
                            end;
                            for _, v261 in v257 do
                                v36(v261);
                            end;
                            l_TweenService_0:Create(l_Rewards_0, v70, {
                                CanvasPosition = Vector2.new(230 * v250 * l_ScreenGui_0.UIScale.Scale, 0)
                            }):Play();
                            v19:FireServer("ClaimSeason");
                            task.spawn(v105);
                            return;
                        end;
                    else
                        if l_Button_2.Title.Visible then
                            local v262 = v13:Get();
                            if not v262 then
                                return;
                            else
                                local l_v6_SkipProduct_3 = v6:GetSkipProduct(v262);
                                if l_v6_SkipProduct_3 then
                                    v26:Hide();
                                    l_MarketplaceService_0:PromptProductPurchase(l_LocalPlayer_0, l_v6_SkipProduct_3);
                                end;
                            end;
                        end;
                        return;
                    end;
                end;
            end, function() --[[ Line: 1059 ]]
                -- upvalues: l_Button_2 (copy)
                return string.sub(l_Button_2.Label.Text, 1, 4) ~= "TIER";
            end);
            local v264, v265 = v8(v251.Free, true);
            local v266, v267 = v8(v251.Premium, true);
            if v28:GetRarity(v251.Premium) ~= "Legendary" and v28:GetRarity(v251.Premium) ~= "Secret" then
                v9.Shift(v266.Button, "Gold", {
                    Speed = 0.5
                });
            end;
            v9.Shift(v266.Button.Inner, "Gold", {
                Speed = 0.25
            });
            v58.Maid:Add(v267);
            v58.Maid:Add(v265);
            v264.Size = UDim2.fromScale(1, 1);
            v264.Parent = v252.Free;
            v266.Size = UDim2.fromScale(1, 1);
            v266.Button.Inner.BackgroundColor3 = Color3.fromRGB(255, 179, 169);
            v266.Parent = v252.Premium;
            v58.Elements[v250] = v252;
        end;
        v235();
        v101();
        task.defer(v114);
        return;
    end;
end;
v239(v6:GetCurrentSeason());
v6.Changed:Connect(v239);
for _, v269 in v6.Skips do
    v38:ConnectProductChanged(v269, function(v270) --[[ Line: 1092 ]]
        -- upvalues: v60 (copy), v269 (copy), v235 (copy)
        if v270 and v270.PriceInRobux then
            v60[tostring(v269)] = v270.PriceInRobux;
        end;
        v235();
    end);
end;
v19.Event("SeasonItemsClaimed"):Connect(function() --[[ Line: 1101 ]]
    -- upvalues: v6 (copy), v13 (copy), v36 (copy), l_TweenService_0 (copy), l_Rewards_0 (copy), v70 (copy), l_ScreenGui_0 (copy), v105 (copy), v41 (copy), v21 (copy)
    local l_v6_CurrentSeason_3 = v6:GetCurrentSeason();
    if not l_v6_CurrentSeason_3 then
        return;
    else
        local v272 = v13:Get();
        if not v272 then
            return;
        else
            local l_Level_1 = v272.Season.Level;
            if not v272.Season.IsInfinite then
                if v272.Season.Premium then
                    v36(l_v6_CurrentSeason_3.Track[l_Level_1].Premium);
                end;
                v36(l_v6_CurrentSeason_3.Track[l_Level_1].Free);
                l_TweenService_0:Create(l_Rewards_0, v70, {
                    CanvasPosition = Vector2.new(230 * l_Level_1 * l_ScreenGui_0.UIScale.Scale, 0)
                }):Play();
                task.spawn(v105);
                task.wait(0.5);
                repeat
                    task.wait(0.1);
                until not v41:IsHatching();
                v21:Open("Season");
            end;
            return;
        end;
    end;
end);
v19.Event("SeasonUnlockAll"):Connect(function() --[[ Line: 1129 ]]
    -- upvalues: v78 (copy), v80 (copy), v83 (copy), v20 (copy), v23 (copy), v235 (copy)
    task.spawn(v78);
    task.spawn(function() --[[ Line: 1131 ]]
        -- upvalues: v80 (ref)
        v80();
        task.wait(0.3);
        v80();
        task.wait(0.3);
        v80();
        task.wait(0.3);
    end);
    task.spawn(function() --[[ Line: 1137 ]]
        -- upvalues: v83 (ref)
        for _ = 1, 4 do
            v83();
            task.wait(0.2);
        end;
    end);
    v20:Emit(v20.Bottom, 20);
    v23("UnlockAll");
    v235();
end);
v11(0.5, function() --[[ Line: 1148 ]]
    -- upvalues: v6 (copy), l_Frame_0 (copy), v12 (copy)
    local l_v6_CurrentSeason_4 = v6:GetCurrentSeason();
    if not l_v6_CurrentSeason_4 then
        return;
    else
        local l_v6_TimeLeft_0 = v6:GetTimeLeft(l_v6_CurrentSeason_4);
        l_Frame_0.Top.Timer.Label.Text = v12.formatTime(l_v6_TimeLeft_0, true);
        return;
    end;
end);
v15(l_Cover_0.Action.Button, v16.Button.Green);
v18(l_Cover_0.Action.Button, function() --[[ Line: 1159 ]]
    -- upvalues: l_Cover_0 (copy), v64 (copy), l_ScreenGui_0 (copy), l_Frame_0 (copy), v23 (copy), l_ReplicatedStorage_0 (copy), l_TweenService_0 (copy), l_Effect_0 (copy), l_CurrentCamera_0 (copy), v25 (copy), v19 (copy), v65 (copy), v80 (copy), v26 (copy)
    if l_Cover_0.White.BackgroundTransparency < 1 then
        return;
    else
        local v277 = true;
        v64.Enabled = true;
        v64.Rate = 20;
        l_ScreenGui_0.HUD.Visible = false;
        l_Cover_0.White.Visible = true;
        l_Frame_0.Close.Visible = false;
        v23(l_ReplicatedStorage_0.Assets.Sounds.Season.InfiniteStart);
        l_TweenService_0:Create(l_Cover_0.White, TweenInfo.new(1), {
            BackgroundTransparency = 0
        }):Play();
        l_TweenService_0:Create(l_Effect_0.Beam, TweenInfo.new(0.35), {
            BackgroundTransparency = 0.65
        }):Play();
        l_TweenService_0:Create(l_Cover_0.White.UIStroke, TweenInfo.new(1), {
            Transparency = 0
        }):Play();
        l_TweenService_0:Create(l_CurrentCamera_0, TweenInfo.new(3, Enum.EasingStyle.Sine), {
            FieldOfView = 85
        }):Play();
        l_TweenService_0:Create(l_Frame_0, TweenInfo.new(3, Enum.EasingStyle.Sine), {
            Position = UDim2.new(0.5, 0, 0.5, -100)
        }):Play();
        l_TweenService_0:Create(l_Frame_0, TweenInfo.new(3, Enum.EasingStyle.Sine), {
            Position = UDim2.new(0.5, 0, 0.5, -100)
        }):Play();
        task.spawn(function() --[[ Line: 1176 ]]
            -- upvalues: v277 (ref), v25 (ref), l_Frame_0 (ref)
            while v277 do
                v25(function(v278) --[[ Line: 1178 ]]
                    -- upvalues: l_Frame_0 (ref)
                    v278.UIStroke.Thickness = l_Frame_0.UIStroke.Thickness;
                    v278.UICorner.CornerRadius = l_Frame_0.UICorner.CornerRadius;
                end).Parent = l_Frame_0;
                task.wait(0.25);
            end;
        end);
        task.wait(1);
        l_Cover_0.BackgroundTransparency = 1;
        l_Cover_0.Action.Visible = false;
        l_Cover_0.Icon.Visible = false;
        l_Cover_0.Info.Visible = false;
        v19:FireServer("BeginSeasonInfinite");
        task.wait(1.75);
        v277 = false;
        v23("ChestWhoosh");
        l_TweenService_0:Create(l_Frame_0, TweenInfo.new(0.5, Enum.EasingStyle.Back, Enum.EasingDirection.In), {
            Position = UDim2.fromScale(0.5, 0.5)
        }):Play();
        l_TweenService_0:Create(l_CurrentCamera_0, TweenInfo.new(0.5, Enum.EasingStyle.Back, Enum.EasingDirection.In), {
            FieldOfView = 70
        }):Play();
        task.delay(0.25, function() --[[ Line: 1198 ]]
            -- upvalues: v64 (ref), l_TweenService_0 (ref), l_Cover_0 (ref), v65 (ref), l_Effect_0 (ref)
            v64.Rate = 0;
            l_TweenService_0:Create(l_Cover_0.White, v65, {
                BackgroundTransparency = 1
            }):Play();
            l_TweenService_0:Create(l_Effect_0.Beam, v65, {
                BackgroundTransparency = 1
            }):Play();
            l_TweenService_0:Create(l_Cover_0.White.UIStroke, v65, {
                Transparency = 1
            }):Play();
            task.wait(v65.Time);
            l_Cover_0.Action.Visible = true;
            l_Cover_0.Icon.Visible = true;
            l_Cover_0.Info.Visible = true;
            l_Cover_0.Visible = false;
        end);
        task.wait(0.5);
        l_ScreenGui_0.HUD.Visible = true;
        l_Frame_0.Close.Visible = true;
        v80();
        v23("SparkleExplode");
        l_ScreenGui_0.Tooltip.Frame.Visible = false;
        l_ScreenGui_0.Tooltip.Visible = true;
        v26:Hide();
        return;
    end;
end);
v15(l_Frame_0.Close.Button, v16.Button.Red);
v18(l_Frame_0.Close.Button, function() --[[ Line: 1220 ]]
    -- upvalues: v21 (copy)
    v21:Close();
end);
local l_Skip_0 = l_Challenges_0.Hourly.Skip;
local l_Skip_1 = l_Challenges_0.Daily.Skip;
local v281 = nil;
local v282 = nil;
local l_l_Skip_0_0 = l_Skip_0 --[[ copy: 101 -> 106 ]];
do
    local l_v281_0, l_v282_0 = v281, v282;
    local function _() --[[ Line: 1231 ]] --[[ Name: update ]]
        -- upvalues: l_l_Skip_0_0 (copy), v17 (copy), l_v281_0 (ref), l_Skip_1 (copy), l_v282_0 (ref)
        l_l_Skip_0_0.Button.Label.Text = ("%*%*"):format(v17.RobuxUnicode, l_v281_0 or "__");
        l_Skip_1.Button.Label.Text = ("%*%*"):format(v17.RobuxUnicode, l_v282_0 or "__");
    end;
    v38:ConnectProductChanged(v6.ProductId, function(v287) --[[ Line: 1237 ]]
        -- upvalues: l_Premium_0 (copy), v17 (copy)
        l_Premium_0.Content.Purchase.Button.Label.Text = v287 and ("%*%*"):format(v17.RobuxUnicode, v287.PriceInRobux) or "Get Premium";
    end);
    v15(l_Premium_0.Content.Purchase.Button, v16.Button.Orange);
    v18(l_Premium_0.Content.Purchase.Button, function() --[[ Line: 1242 ]]
        -- upvalues: v37 (copy), l_MarketplaceService_0 (copy), l_LocalPlayer_0 (copy), v6 (copy)
        v37:Show();
        l_MarketplaceService_0:PromptProductPurchase(l_LocalPlayer_0, v6.ProductId);
    end);
    v15(l_Skip_1.Button, v16.Button.Green);
    v18(l_Skip_1.Button, function() --[[ Line: 1248 ]]
        -- upvalues: v37 (copy), l_MarketplaceService_0 (copy), l_LocalPlayer_0 (copy), v6 (copy)
        v37:Show();
        l_MarketplaceService_0:PromptProductPurchase(l_LocalPlayer_0, v6.DailySkip);
    end);
    v15(l_Skip_0.Button, v16.Button.Green);
    v18(l_Skip_0.Button, function() --[[ Line: 1254 ]]
        -- upvalues: v37 (copy), l_MarketplaceService_0 (copy), l_LocalPlayer_0 (copy), v6 (copy)
        v37:Show();
        l_MarketplaceService_0:PromptProductPurchase(l_LocalPlayer_0, v6.HourlySkip);
    end);
    v15(l_Frame_0.Top.UnlockAll.Button, v16.Button.Pink);
    v18(l_Frame_0.Top.UnlockAll.Button, function() --[[ Line: 1260 ]]
        -- upvalues: l_MarketplaceService_0 (copy), l_LocalPlayer_0 (copy), v6 (copy)
        l_MarketplaceService_0:PromptProductPurchase(l_LocalPlayer_0, v6.UnlockAll);
    end);
    v38:ConnectProductChanged(v6.HourlySkip, function(v288) --[[ Line: 1264 ]]
        -- upvalues: l_v281_0 (ref), l_l_Skip_0_0 (copy), v17 (copy), l_Skip_1 (copy), l_v282_0 (ref)
        if v288 and v288.PriceInRobux then
            l_v281_0 = v288.PriceInRobux;
        end;
        l_l_Skip_0_0.Button.Label.Text = ("%*%*"):format(v17.RobuxUnicode, l_v281_0 or "__");
        l_Skip_1.Button.Label.Text = ("%*%*"):format(v17.RobuxUnicode, l_v282_0 or "__");
    end);
    v38:ConnectProductChanged(v6.DailySkip, function(v289) --[[ Line: 1271 ]]
        -- upvalues: l_v282_0 (ref), l_l_Skip_0_0 (copy), v17 (copy), l_v281_0 (ref), l_Skip_1 (copy)
        if v289 and v289.PriceInRobux then
            l_v282_0 = v289.PriceInRobux;
        end;
        l_l_Skip_0_0.Button.Label.Text = ("%*%*"):format(v17.RobuxUnicode, l_v281_0 or "__");
        l_Skip_1.Button.Label.Text = ("%*%*"):format(v17.RobuxUnicode, l_v282_0 or "__");
    end);
    v13:ConnectDataChanged("Quests", function(v290) --[[ Line: 1278 ]]
        -- upvalues: l_l_Skip_0_0 (copy), l_Skip_1 (copy)
        local v291 = 0;
        local v292 = 0;
        for _, v294 in v290.Quests do
            if v294.Claimed then
                if string.find(v294.Id, "daily%-challenge") then
                    v291 = v291 + 1;
                elseif string.find(v294.Id, "hourly%-challenge") then
                    v292 = v292 + 1;
                end;
            end;
        end;
        l_l_Skip_0_0.Visible = v292 < 3;
        l_Skip_1.Visible = v291 < 3;
    end);
end;
l_Cover_0:GetPropertyChangedSignal("Visible"):Connect(function() --[[ Line: 1296 ]]
    -- upvalues: l_ScreenGui_0 (copy), l_Cover_0 (copy)
    l_ScreenGui_0.Tooltip.Frame.Visible = not l_Cover_0.Visible;
end);
v114();
l_Rewards_0.Track.UIListLayout:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(v235);
l_Rewards_0:GetPropertyChangedSignal("CanvasPosition"):Connect(function() --[[ Line: 1302 ]]
    -- upvalues: v26 (copy)
    v26:Hide();
end);
v10:Add(l_Frame_0.Top.Buttons.Premium.Effect);
v10:Add(l_Premium_0.Content.Purchase.Effect);
v13:ConnectDataChanged("Season", v119);
v13:ConnectDataChanged({
    "Season", 
    "Quests"
}, v235);
v21.Changed:Connect(function(v295) --[[ Line: 1312 ]]
    -- upvalues: l_Frame_0 (copy), v21 (copy), l_ScreenGui_0 (copy), v71 (ref), v13 (copy), v112 (copy), l_Rewards_0 (copy), v76 (ref)
    if v295 == "Season" then
        local l_Visible_2 = l_Frame_0.Close.Visible;
        if not v21:IsOpen("Season") then
            l_Visible_2 = true;
        elseif l_Frame_0.Cover.Visible then
            l_Visible_2 = false;
        end;
        l_ScreenGui_0.Tooltip.Visible = l_Visible_2;
        if v71 == "Standard" then
            l_Visible_2 = v13:Get();
            if not l_Visible_2 then
                return;
            else
                v112();
                l_Rewards_0.CanvasPosition = Vector2.new(230 * l_Visible_2.Season.Level * l_ScreenGui_0.UIScale.Scale, 0);
            end;
        end;
    end;
    v76 = v76 + 1;
end);
v21:BindOnClosed("Season", v88);
l_Frame_0.Close:GetPropertyChangedSignal("Visible"):Connect(v88);
v26:OnEnter(l_Frame_0.Streak.Info.Button, function() --[[ Line: 1333 ]]
    -- upvalues: v13 (copy), l_Frame_0 (copy), v6 (copy), v29 (copy), v40 (copy), v16 (copy)
    local v297 = v13:Get();
    if not v297 then
        return;
    else
        local _ = l_Frame_0.Streak.Luck.Label;
        local l_v6_LuckMultiplier_1 = v6:GetLuckMultiplier(v297.Season.Level);
        return v29.new():Width(290):Title("rbxassetid://77981464621340", "Seasonal Luck", v40.autoColor(("+%*%% Luck"):format((math.floor((l_v6_LuckMultiplier_1 - 1) * 100))), v16.Text.Green)):Add({
            Type = "Text", 
            Text = ("%* increases the chance of finding %* in the Infinity Pass!"):format(v40.autoColor("Seasonal Luck", v16.Text.Green), (v40.autoColor("Legendary and Secret items", v16.Text.Pink))), 
            Size = 28
        }):Build();
    end;
end);
v11(0.25, function() --[[ Line: 1353 ]]
    -- upvalues: v13 (copy), v12 (copy), l_Challenges_0 (copy), v71 (ref), v72 (ref), v89 (ref), v73 (ref), v101 (copy)
    local v300 = v13:Get();
    if not v300 then
        return;
    else
        local v301 = v12.now();
        local v302 = v300.Season.Challenges.Daily * v12.secondsInDay;
        l_Challenges_0.Daily.Title.Timer.Text = v12.formatTime((math.max(0, v12.secondsInDay - (v301 - v302))));
        local v303 = v300.Season.Challenges.Hourly * v12.secondsInHour;
        l_Challenges_0.Hourly.Title.Timer.Text = v12.formatTime((math.max(0, v12.secondsInHour - (v301 - v303))));
        if v71 == "Standard" then
            return;
        else
            if v72 > 1 and os.clock() - v89 > 4 then
                v73 = v73 + 1;
                if v72 < v73 then
                    v73 = 1;
                end;
                v101(true);
            end;
            return;
        end;
    end;
end);
l_Skip_0 = 0;
l_RunService_0.Heartbeat:Connect(function(v304) --[[ Line: 1379 ]]
    -- upvalues: v71 (ref), l_Frame_0 (copy), l_Skip_0 (ref)
    if v71 == "Infinite" then
        l_Frame_0.UIStroke.Rainbow.Rotation = l_Skip_0 % 360;
        l_Skip_0 = l_Skip_0 + v304 * 35;
    end;
end);
v149(v56);
return {};
ModuleScript: Settings
-- Saved by UniversalSynSaveInstance (Join to Copy Games) https://discord.gg/wx4ThpAsmw

local l_ReplicatedStorage_0 = game:GetService("ReplicatedStorage");
local l_Players_0 = game:GetService("Players");
local l_TweenService_0 = game:GetService("TweenService");
local l_UserInputService_0 = game:GetService("UserInputService");
local _ = game:GetService("GuiService");
local v5 = require(l_ReplicatedStorage_0.Shared.Data.Settings);
local v6 = require(l_ReplicatedStorage_0.Client.Framework.Services.LocalData);
local _ = require(l_ReplicatedStorage_0.Shared.Types);
local v8 = require(l_ReplicatedStorage_0.Shared.Framework.Network.Remote);
local v9 = require(l_ReplicatedStorage_0.Client.Gui.Utils.ClickableButton);
local v10 = require(l_ReplicatedStorage_0.Client.Gui.GuiFrame);
local v11 = require(l_ReplicatedStorage_0.Client.Framework.Utilities.Gui.HookScrollingFrame);
local v12 = require(l_ReplicatedStorage_0.Client.Gui.Utils.GetKeyCodeString);
local _ = require(l_ReplicatedStorage_0.Client.Gui.Utils.AutoButtonColor);
local v14 = require(l_ReplicatedStorage_0.Shared.Palette);
local v15 = require(l_ReplicatedStorage_0.Client.Framework.Services.InputMode);
local l_ScreenGui_0 = l_Players_0.LocalPlayer.PlayerGui.ScreenGui;
local l_UIScale_0 = l_ScreenGui_0.UIScale;
local l_Frame_0 = l_ScreenGui_0.Settings.Frame;
local l_ScrollingFrame_0 = l_Frame_0.Main.ScrollingFrame;
local l_Template_0 = l_ScrollingFrame_0.Template;
l_Template_0.Parent = nil;
local l_Template_1 = l_Template_0.Items.Template;
l_Template_1.Parent = nil;
local v22 = TweenInfo.new(0.1, Enum.EasingStyle.Sine, Enum.EasingDirection.Out);
local v23 = nil;
local l_Color_0 = v14.Button.Inactive.Color;
local l_Color_1 = v14.Button.Green.Color;
local l_l_Color_1_0 = l_Color_1 --[[ copy: 26 -> 41 ]];
local l_l_Color_0_0 = l_Color_0 --[[ copy: 25 -> 42 ]];
v23 = function(v28, v29) --[[ Line: 44 ]]
    -- upvalues: l_TweenService_0 (copy), v22 (copy), l_l_Color_1_0 (copy), l_l_Color_0_0 (copy), v6 (copy), v8 (copy)
    v28.Action.Toggle.Visible = true;
    v28.Action.Keybind.Visible = false;
    v28.Action.Slider.Visible = false;
    local v30 = nil;
    local function v32(v31) --[[ Line: 51 ]] --[[ Name: update ]]
        -- upvalues: v30 (ref), l_TweenService_0 (ref), v28 (copy), v22 (ref), l_l_Color_1_0 (ref), l_l_Color_0_0 (ref)
        if v31 == v30 then
            return;
        else
            l_TweenService_0:Create(v28.Action.Toggle.Blob, v22, {
                AnchorPoint = Vector2.new(v31 == true and 1 or 0, 0), 
                Position = UDim2.fromScale(v31 == true and 1 or 0, 0)
            }):Play();
            v28.Action.Toggle.UIGradient.Color = if v31 == true then l_l_Color_1_0 else l_l_Color_0_0;
            v30 = v31;
            return;
        end;
    end;
    v6:ConnectDataChanged("Settings", function(v33) --[[ Line: 68 ]]
        -- upvalues: v32 (copy), v29 (copy)
        v32(v33.Settings[v29]);
    end);
    v28.Action.Toggle.Activated:Connect(function() --[[ Line: 72 ]]
        -- upvalues: v8 (ref), v29 (copy), v30 (ref)
        v8:FireServer("SetSetting", v29, not v30);
    end);
end;
l_Color_0 = nil;
l_Color_0 = function(v34, v35) --[[ Line: 81 ]]
    -- upvalues: v6 (copy), v14 (copy), v12 (copy), v15 (copy), l_UIScale_0 (copy), l_UserInputService_0 (copy), v8 (copy)
    v34.Action.Toggle.Visible = false;
    v34.Action.Keybind.Visible = true;
    v34.Action.Slider.Visible = false;
    local v36 = nil;
    local function _() --[[ Line: 87 ]] --[[ Name: disconnect ]]
        -- upvalues: v36 (ref)
        if v36 then
            v36:Disconnect();
            v36 = nil;
        end;
    end;
    local function v41() --[[ Line: 94 ]] --[[ Name: update ]]
        -- upvalues: v6 (ref), v34 (copy), v14 (ref), v35 (copy), v12 (ref), v15 (ref)
        local v38 = v6:Get();
        if not v38 then
            return;
        else
            if v34.Action.Keybind:IsFocused() then
                v34.Action.Keybind.Label.Text = "Press a key";
                v34.Action.Keybind.Label.UIStroke.Thickness = 1.5;
                v34.Action.Keybind.Label.UIStroke.Transparency = 0.25;
                v34.Action.Keybind.Background.UIStroke.Transparency = 0.25;
                v34.Action.Keybind.Background.UIGradient.Color = v14.Button.Empty.Color;
            else
                v34.Action.Keybind.Background.UIStroke.Transparency = 0;
                local v39 = v38.Settings[v35];
                local v40 = Enum.KeyCode[v39];
                if v40 == Enum.KeyCode.Unknown then
                    v34.Action.Keybind.Label.Text = "Not bound";
                    v34.Action.Keybind.Label.UIStroke.Thickness = 2;
                    v34.Action.Keybind.Label.UIStroke.Transparency = 0.4;
                    v34.Action.Keybind.Background.UIGradient.Color = v14.Button.Inactive.Color;
                else
                    v34.Action.Keybind.Label.Text = v12(v40);
                    v34.Action.Keybind.Label.UIStroke.Thickness = 2.5;
                    v34.Action.Keybind.Label.UIStroke.Transparency = 0;
                    v34.Action.Keybind.Background.UIGradient.Color = v14.Button.Default.Color;
                end;
            end;
            v34.Visible = v15.Mode == "Keyboard";
            return;
        end;
    end;
    local function v43() --[[ Line: 130 ]] --[[ Name: updateSize ]]
        -- upvalues: v34 (copy), l_UIScale_0 (ref)
        local v42 = math.max(50, (math.ceil(v34.Action.Keybind.Label.TextBounds.X / l_UIScale_0.Scale)));
        v34.Action.Keybind.Size = UDim2.new(0, v42 + 20, 1, 0);
    end;
    v34.Action.Keybind.Label:GetPropertyChangedSignal("TextBounds"):Connect(v43);
    l_UIScale_0:GetPropertyChangedSignal("Scale"):Connect(v43);
    v6:ConnectDataChanged("Settings", v41);
    v34.Action.Keybind.Focused:Connect(function() --[[ Line: 139 ]]
        -- upvalues: v6 (ref), v36 (ref), v41 (copy), l_UserInputService_0 (ref), v8 (ref), v35 (copy), v34 (copy)
        if not v6:Get() then
            return;
        else
            if v36 then
                v36:Disconnect();
                v36 = nil;
            end;
            v41();
            v36 = l_UserInputService_0.InputBegan:Connect(function(v44, _) --[[ Line: 148 ]]
                -- upvalues: v8 (ref), v35 (ref), v34 (ref), v36 (ref), v41 (ref)
                if v44.UserInputType ~= Enum.UserInputType.Keyboard then
                    return;
                else
                    if v44.KeyCode ~= Enum.KeyCode.Unknown then
                        v8:FireServer("SetSetting", v35, v44.KeyCode);
                    end;
                    v34.Action.Keybind:ReleaseFocus();
                    if v36 then
                        v36:Disconnect();
                        v36 = nil;
                    end;
                    v41();
                    return;
                end;
            end);
            return;
        end;
    end);
    v34.Action.Keybind.FocusLost:Connect(function() --[[ Line: 161 ]]
        -- upvalues: v36 (ref), v41 (copy)
        if v36 then
            v36:Disconnect();
            v36 = nil;
        end;
        v41();
    end);
    v15.Changed:Connect(v41);
end;
l_Color_1 = nil;
l_Color_1 = function(v46, v47, v48) --[[ Line: 174 ]]
    -- upvalues: v8 (copy), l_TweenService_0 (copy), v22 (copy), l_UserInputService_0 (copy), v6 (copy), v10 (copy)
    v46.Action.Toggle.Visible = false;
    v46.Action.Keybind.Visible = false;
    v46.Action.Slider.Visible = true;
    local l_Slider_0 = v46.Action.Slider;
    local l_Display_0 = l_Slider_0.Display;
    local l_Handle_0 = l_Slider_0.Handle;
    local l_Tooltip_0 = l_Handle_0.Tooltip;
    l_Tooltip_0.BackgroundTransparency = 1;
    l_Tooltip_0.TextTransparency = 1;
    l_Tooltip_0.UIStrokeText.Transparency = 1;
    l_Tooltip_0.UIStrokeBorder.Transparency = 1;
    local l_Min_0 = v48.Min;
    local l_Max_0 = v48.Max;
    local l_Step_0 = v48.Step;
    local v56 = false;
    local v57 = nil;
    local v58 = 0;
    local function _(v59) --[[ Line: 198 ]] --[[ Name: callback ]]
        -- upvalues: v8 (ref), v47 (copy)
        v8:FireServer("SetSetting", v47, v59);
    end;
    local function v63(v61) --[[ Line: 203 ]] --[[ Name: update ]]
        -- upvalues: l_Min_0 (copy), l_Max_0 (copy), l_Display_0 (copy), l_Handle_0 (copy), l_Tooltip_0 (copy)
        local v62 = (v61 - l_Min_0) / (l_Max_0 - l_Min_0);
        l_Display_0.Fill.Size = UDim2.fromScale(math.max(0.1, v62), 1);
        l_Handle_0.AnchorPoint = Vector2.new(v62, 0.5);
        l_Handle_0.Position = UDim2.fromScale(v62, 0.5);
        l_Tooltip_0.Text = ("%*%%"):format((math.round(v62 * 100)));
    end;
    local function v68(v64) --[[ Line: 211 ]] --[[ Name: dragged ]]
        -- upvalues: l_Display_0 (copy), l_Min_0 (copy), l_Max_0 (copy), l_Step_0 (copy), v57 (ref), v63 (copy), l_TweenService_0 (ref), l_Tooltip_0 (copy), v22 (ref), v58 (ref)
        local v65 = math.clamp((v64 - l_Display_0.AbsolutePosition.X) / l_Display_0.AbsoluteSize.X, 0, 1);
        local v66 = l_Min_0 + math.round(v65 * (l_Max_0 - l_Min_0) / l_Step_0) * l_Step_0;
        v57 = v66;
        v63(v66);
        l_TweenService_0:Create(l_Tooltip_0, v22, {
            BackgroundTransparency = 0.1, 
            TextTransparency = 0
        }):Play();
        l_TweenService_0:Create(l_Tooltip_0.UIStrokeText, v22, {
            Transparency = 0
        }):Play();
        l_TweenService_0:Create(l_Tooltip_0.UIStrokeBorder, v22, {
            Transparency = 0
        }):Play();
        local v67 = v58 + 1;
        v58 = v67;
        task.delay(1, function() --[[ Line: 232 ]]
            -- upvalues: v58 (ref), v67 (copy), l_TweenService_0 (ref), l_Tooltip_0 (ref), v22 (ref)
            if v58 == v67 then
                l_TweenService_0:Create(l_Tooltip_0, v22, {
                    BackgroundTransparency = 1, 
                    TextTransparency = 1
                }):Play();
                l_TweenService_0:Create(l_Tooltip_0.UIStrokeText, v22, {
                    Transparency = 1
                }):Play();
                l_TweenService_0:Create(l_Tooltip_0.UIStrokeBorder, v22, {
                    Transparency = 1
                }):Play();
            end;
        end);
    end;
    local function v69() --[[ Line: 248 ]] --[[ Name: released ]]
        -- upvalues: v56 (ref), v57 (ref), v8 (ref), v47 (copy)
        v56 = false;
        if v57 then
            v8:FireServer("SetSetting", v47, v57);
        end;
    end;
    l_Slider_0.InputBegan:Connect(function(v70) --[[ Line: 255 ]]
        -- upvalues: v56 (ref), v68 (copy)
        local l_UserInputType_0 = v70.UserInputType;
        if l_UserInputType_0 == Enum.UserInputType.MouseButton1 or l_UserInputType_0 == Enum.UserInputType.Touch then
            v56 = true;
            v68(v70.Position.X);
        end;
    end);
    l_Slider_0.InputEnded:Connect(function(v72) --[[ Line: 263 ]]
        -- upvalues: v56 (ref), v57 (ref), v8 (ref), v47 (copy)
        local l_UserInputType_1 = v72.UserInputType;
        if l_UserInputType_1 == Enum.UserInputType.MouseButton1 or l_UserInputType_1 == Enum.UserInputType.Touch then
            v56 = false;
            if v57 then
                v8:FireServer("SetSetting", v47, v57);
            end;
        end;
    end);
    l_UserInputService_0.InputChanged:Connect(function(v74) --[[ Line: 270 ]]
        -- upvalues: v56 (ref), v68 (copy)
        if not v56 then
            return;
        else
            local l_UserInputType_2 = v74.UserInputType;
            if l_UserInputType_2 == Enum.UserInputType.MouseMovement or l_UserInputType_2 == Enum.UserInputType.Touch then
                v68(v74.Position.X);
            end;
            return;
        end;
    end);
    v6:ConnectDataChanged("Settings", function(v76) --[[ Line: 281 ]]
        -- upvalues: v47 (copy), v63 (copy)
        local v77 = v76.Settings[v47];
        v63(v77);
    end);
    v10:BindOnClosed("Settings", v69);
end;
for v78, v79 in v5 do
    local v80 = l_Template_0:Clone();
    v80.LayoutOrder = v78;
    v80.Name = v79.Name;
    v80.Label.Text = v79.Name;
    local v81 = true;
    for v82, v83 in v79.Settings do
        local v84 = l_Template_1:Clone();
        v84.LayoutOrder = v82;
        v84.Name = v83.Name;
        v84.Information.Label.Text = v83.Name;
        v84.ZIndex = -v82;
        local v85 = nil;
        if v83.Description ~= nil then
            v84.Information.Description.Visible = true;
            v84.Information.Description.Text = v83.Description;
            v85 = 75;
        else
            v84.Information.Description.Visible = false;
            v85 = 50;
        end;
        v84.Size = UDim2.new(1, 0, 0, v85);
        v84.Parent = v80.Items;
        if v83.Data.Type == "Toggle" then
            v23(v84, v83.Name);
        elseif v83.Data.Type == "Keybind" then
            l_Color_0(v84, v83.Name);
        elseif v83.Data.Type == "Slider" then
            l_Color_1(v84, v83.Name, v83.Data);
        end;
        if v83.Data.Type ~= "Keybind" then
            v81 = false;
        end;
    end;
    do
        local l_v81_0 = v81;
        local function v87() --[[ Line: 338 ]] --[[ Name: updateFromInputMode ]]
            -- upvalues: v80 (copy), l_v81_0 (ref), v15 (copy)
            v80.Visible = not l_v81_0 or v15.Mode == "Keyboard";
        end;
        v15.Changed:Connect(v87);
        v80.Parent = l_ScrollingFrame_0;
        local l_UIListLayout_0 = v80.Items.UIListLayout;
        local function v90() --[[ Line: 346 ]] --[[ Name: updateSize ]]
            -- upvalues: l_UIListLayout_0 (copy), l_UIScale_0 (copy), v80 (copy)
            local v89 = math.ceil(l_UIListLayout_0.AbsoluteContentSize.Y / l_UIScale_0.Scale);
            v80.Size = UDim2.new(1, 0, 0, v89 + 50);
        end;
        l_UIListLayout_0:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(v90);
        l_UIScale_0:GetPropertyChangedSignal("Scale"):Connect(v90);
    end;
end;
v11(l_ScrollingFrame_0, l_ScrollingFrame_0.UIListLayout);
v9(l_Frame_0.Top.Close.Button, function() --[[ Line: 359 ]]
    -- upvalues: v10 (copy)
    v10:Close();
end);
return {};
ModuleScript: Shiny
-- Saved by UniversalSynSaveInstance (Join to Copy Games) https://discord.gg/wx4ThpAsmw

local l_Players_0 = game:GetService("Players");
local l_ReplicatedStorage_0 = game:GetService("ReplicatedStorage");
local v2 = require(l_ReplicatedStorage_0.Client.Framework.Services.LocalData);
local _ = require(l_ReplicatedStorage_0.Shared.Types);
local v4 = require(l_ReplicatedStorage_0.Shared.Constants);
local v5 = require(l_ReplicatedStorage_0.Client.Gui.Utils.AutoButtonColor);
local v6 = require(l_ReplicatedStorage_0.Shared.Palette);
local v7 = require(l_ReplicatedStorage_0.Client.Gui.Utils.ClickableButton);
local _ = require(l_ReplicatedStorage_0.Client.Framework.Utilities.Gui.HookScrollingFrame);
local v9 = require(l_ReplicatedStorage_0.Client.Gui.GuiFrame);
local v10 = require(l_ReplicatedStorage_0.Shared.Framework.Network.Remote);
local v11 = require(l_ReplicatedStorage_0.Client.Gui.Utils.ItemFrame);
local v12 = require(l_ReplicatedStorage_0.Client.Gui.Utils.UpdateWhileGuiOpen);
local v13 = require(l_ReplicatedStorage_0.Client.Gui.Tooltip);
local v14 = require(l_ReplicatedStorage_0.Shared.Data.Builders.TooltipBuilder);
local v15 = require(l_ReplicatedStorage_0.Shared.Utils.ShinyUtil);
local v16 = require(l_ReplicatedStorage_0.Shared.Utils.PetLevelUtil);
local v17 = require(l_ReplicatedStorage_0.Shared.Utils.RichText);
local v18 = require(l_ReplicatedStorage_0.Shared.Data.Pets);
local v19 = require(l_ReplicatedStorage_0.Client.Gui.Frames.PetChoosePrompt);
local v20 = require(l_ReplicatedStorage_0.Shared.Framework.Utilities.String.FormatSuffix);
local l_ScreenGui_0 = l_Players_0.LocalPlayer.PlayerGui.ScreenGui;
local _ = l_ScreenGui_0.UIScale;
local l_Frame_0 = l_ScreenGui_0.Shiny.Frame;
local l_Grid_0 = l_Frame_0.Inner.Main.Content.Grid;
local v25 = nil;
local v26 = false;
local v27 = {};
local v28 = nil;
local function v31() --[[ Line: 45 ]] --[[ Name: clearEntries ]]
    -- upvalues: v27 (copy), v28 (ref)
    for _, v30 in v27 do
        v30.Cleanup();
        v30.Element:Destroy();
    end;
    table.clear(v27);
    if v28 then
        v28.Cleanup();
        v28.Element:Destroy();
        v28 = nil;
    end;
end;
l_Grid_0.Template.Parent = nil;
local l_TemplateMissing_0 = l_Grid_0.TemplateMissing;
l_TemplateMissing_0.Parent = nil;
local v33 = 0;
for _, v35 in v4.ShinyCountRequired do
    v33 = math.max(v33, v35);
end;
local v36 = {};
for v37 = 1, v33 do
    local v38 = l_TemplateMissing_0:Clone();
    v38.LayoutOrder = v37;
    v38.Visible = false;
    v38.Parent = l_Grid_0;
    v36[v37] = v38;
end;
local l_Button_0 = l_Frame_0.Inner.Main.Content.Output.Shiny.Button;
local l_Button_1 = l_Frame_0.Inner.Main.Content.Output.Change.Button;
local l_Button_2 = l_Frame_0.Inner.Main.NoSelection.Change.Button;
local l_Item_0 = l_Frame_0.Inner.Main.Content.Output.Item;
l_Item_0.BackgroundTransparency = 1;
local function v70() --[[ Line: 88 ]] --[[ Name: update ]]
    -- upvalues: v26 (ref), v2 (copy), v25 (ref), v31 (copy), v15 (copy), l_Grid_0 (copy), v11 (copy), v27 (copy), v16 (copy), v17 (copy), v13 (copy), v14 (copy), v18 (copy), v33 (ref), v36 (copy), l_Frame_0 (copy), l_Button_0 (copy), v20 (copy), l_Item_0 (copy), v28 (ref)
    if v26 then
        return;
    else
        local v43 = v2:Get();
        local v44 = nil;
        if v43 and v25 then
            for _, v46 in v43.Pets do
                if v46.Id == v25 then
                    v44 = v46;
                    break;
                end;
            end;
        end;
        v31();
        if v43 and v25 and v44 then
            local l_v15_Pets_0 = v15:GetPets(v43, v44);
            local l_v15_RequiredCount_0 = v15:GetRequiredCount(v44);
            local v49 = 0;
            local v50 = l_v15_RequiredCount_0 <= 9 and 115 or 90;
            local v51 = l_v15_RequiredCount_0 <= 9 and 15 or 8;
            l_Grid_0.UIListLayout.Padding = UDim.new(0, v51);
            for _, v53 in l_v15_Pets_0 do
                local l_Amount_0 = v53.Item.Amount;
                for _ = 1, l_Amount_0 do
                    local v56 = table.clone(v53.Item);
                    v56.Amount = nil;
                    local v57, v58 = v11(v56);
                    v57.Size = UDim2.fromOffset(v50, v50);
                    v57.LayoutOrder = #v27;
                    v57.Button.Inner.Label.Visible = false;
                    v57.Button.Inner.Secret.Visible = false;
                    local l_v16_LevelFromXP_0 = v16:GetLevelFromXP(v53.Item.Name, v53.Item.XP or 0);
                    v57.Button.Inner.Bottom.Text = v17.autoStroke((tostring(l_v16_LevelFromXP_0)));
                    v57.Button.Inner.Bottom.TextSize = 22;
                    v57.Parent = l_Grid_0;
                    v13:OnEnter(v57.Button, function() --[[ Line: 134 ]]
                        -- upvalues: v14 (ref), v53 (copy)
                        return v14.fromPet(v53.Item);
                    end);
                    table.insert(v27, {
                        Element = v57, 
                        Cleanup = v58
                    });
                end;
                v49 = v49 + l_Amount_0;
            end;
            local l_Normal_0 = v18[v44.Name].Images.Normal;
            if v44.Mythic then
                l_Normal_0 = v18[v44.Name].Images.Mythic or l_Normal_0;
            end;
            for v61 = 1, v33 do
                v36[v61].Inner.Icon.Image = l_Normal_0;
                v36[v61].Size = UDim2.fromOffset(v50, v50);
                local v62 = v36[v61];
                local v63 = false;
                if v49 < v61 then
                    v63 = v61 <= l_v15_RequiredCount_0;
                end;
                v62.Visible = v63;
            end;
            local v64 = l_v15_RequiredCount_0 - v49;
            l_Frame_0.Inner.Main.Content.Missing.Text = ("You need %* more of this pet to make a shiny!"):format(v64);
            l_Frame_0.Inner.Main.Content.Missing.Visible = v64 > 0;
            local v65 = v64 <= 0;
            l_Button_0.UIGradient.Transparency = NumberSequence.new(v65 and 0 or 0.3);
            l_Button_0.UIStroke.Transparency = v65 and 0 or 0.5;
            l_Button_0.Label.TextTransparency = v65 and 0 or 0.4;
            l_Button_0.Label.UIStroke.Transparency = v65 and 0 or 0.5;
            l_Button_0.Active = v65;
            l_Button_0.Selectable = v65;
            local l_v15_OwnedCount_0 = v15:GetOwnedCount(v43, v44);
            l_Button_0.Label.Text = ("Shiny (%*/%*)"):format(v20(l_v15_OwnedCount_0, 1000), l_v15_RequiredCount_0);
            local v67 = {
                Type = "Pet", 
                Name = v44.Name, 
                Shiny = true, 
                Mythic = v44.Mythic, 
                XP = 0
            };
            local v68, v69 = v11(v67);
            v68.Size = UDim2.fromScale(1, 1);
            v68.Parent = l_Item_0;
            v13:OnEnter(v68.Button, function() --[[ Line: 185 ]]
                -- upvalues: v14 (ref), v67 (copy)
                return v14.fromPet(v67);
            end);
            v28 = {
                Element = v68, 
                Cleanup = v69
            };
            l_Frame_0.Inner.Main.Content.Visible = true;
            l_Frame_0.Inner.Main.NoSelection.Visible = false;
            return;
        else
            l_Frame_0.Inner.Main.Content.Visible = false;
            l_Frame_0.Inner.Main.NoSelection.Visible = true;
            return;
        end;
    end;
end;
local v71 = v10.Event("MadePetShiny");
v5(l_Button_0, v6.Button.Gold);
v7(l_Button_0, function() --[[ Line: 209 ]]
    -- upvalues: v26 (ref), v25 (ref), v2 (copy), v10 (copy), v15 (copy), v70 (copy), v71 (copy)
    if v26 or not v25 then
        return;
    else
        local v72 = v2:Get();
        if not v72 then
            return;
        else
            local v73 = nil;
            for _, v75 in v72.Pets do
                if v75.Id == v25 then
                    v73 = v75;
                    break;
                end;
            end;
            if not v73 then
                return;
            else
                v26 = true;
                v10:FireServer("MakePetShiny", v25);
                local v76 = nil;
                local function v80() --[[ Line: 235 ]] --[[ Name: finish ]]
                    -- upvalues: v76 (ref), v26 (ref), v25 (ref), v72 (ref), v2 (ref), v73 (ref), v15 (ref), v70 (ref)
                    v76:Disconnect();
                    v26 = false;
                    v25 = nil;
                    v72 = v2:Get();
                    if v72 then
                        local v77 = 1e999;
                        for _, v79 in v72.Pets do
                            if v79.Name == v73.Name and v79.Mythic == v73.Mythic and v15:CanUse(v79) and v79.XP < v77 then
                                v25 = v79.Id;
                                v77 = v79.XP;
                            end;
                        end;
                    end;
                    v70();
                end;
                v76 = v71:Connect(function(v81) --[[ Line: 257 ]]
                    -- upvalues: v25 (ref), v80 (copy)
                    if v81 == v25 then
                        v80();
                    end;
                end);
                task.delay(0.5, function() --[[ Line: 263 ]]
                    -- upvalues: v76 (ref), v80 (copy)
                    if v76.Connected then
                        v80();
                    end;
                end);
                return;
            end;
        end;
    end;
end);
local function v84() --[[ Line: 271 ]] --[[ Name: selectPet ]]
    -- upvalues: v19 (copy), v25 (ref), v70 (copy)
    v19:Open(function(v82) --[[ Line: 272 ]]
        return v82.Shiny ~= true;
    end, function(v83) --[[ Line: 274 ]]
        -- upvalues: v25 (ref), v70 (ref)
        v25 = v83.Id;
        v70();
    end, "Shiny", "Only non-shiny pets can be made shiny!");
end;
v5(l_Button_1, v6.Button.Default);
v7(l_Button_1, v84);
v5(l_Button_2, v6.Button.Purple);
v7(l_Button_2, v84);
v12("Shiny", {
    "Pets"
}, v70);
v70();
v5(l_Frame_0.Top.Close.Button, v6.Button.Red);
v7(l_Frame_0.Top.Close.Button, function() --[[ Line: 298 ]]
    -- upvalues: v9 (copy)
    v9:Open("Inventory");
end);
return {
    SetSelectedPetId = function(_, v86) --[[ Line: 306 ]] --[[ Name: SetSelectedPetId ]]
        -- upvalues: v25 (ref), v70 (copy)
        v25 = v86;
        v70();
    end, 
    PromptSelectPet = function(_) --[[ Line: 311 ]] --[[ Name: PromptSelectPet ]]
        -- upvalues: v19 (copy), v25 (ref), v70 (copy)
        v19:Open(function(v88) --[[ Line: 272 ]]
            return v88.Shiny ~= true;
        end, function(v89) --[[ Line: 274 ]]
            -- upvalues: v25 (ref), v70 (ref)
            v25 = v89.Id;
            v70();
        end, "Shiny", "Only non-shiny pets can be made shiny!");
    end
};
ModuleScript: Shop
-- Saved by UniversalSynSaveInstance (Join to Copy Games) https://discord.gg/wx4ThpAsmw

local l_Players_0 = game:GetService("Players");
local l_ReplicatedStorage_0 = game:GetService("ReplicatedStorage");
local l_MarketplaceService_0 = game:GetService("MarketplaceService");
local l_RunService_0 = game:GetService("RunService");
local l_TweenService_0 = game:GetService("TweenService");
local l_CollectionService_0 = game:GetService("CollectionService");
local l_TextChatService_0 = game:GetService("TextChatService");
local v7 = require(l_ReplicatedStorage_0.Shared.Framework.Utilities.ProductInfo);
local v8 = require(l_ReplicatedStorage_0.Shared.Data.Products);
local v9 = require(l_ReplicatedStorage_0.Shared.Constants);
local v10 = require(l_ReplicatedStorage_0.Shared.Utils.Stats.ItemUtil);
local v11 = require(l_ReplicatedStorage_0.Client.Gui.Tooltip);
local v12 = require(l_ReplicatedStorage_0.Shared.Data.Builders.TooltipBuilder);
local v13 = require(l_ReplicatedStorage_0.Client.Gui.Utils.ClickableButton);
local v14 = require(l_ReplicatedStorage_0.Client.Gui.Utils.AutoButtonColor);
local v15 = require(l_ReplicatedStorage_0.Shared.Palette);
local v16 = require(l_ReplicatedStorage_0.Client.Gui.GuiFrame);
local v17 = require(l_ReplicatedStorage_0.Client.Gui.Utils.Shiny);
local v18 = require(l_ReplicatedStorage_0.Shared.Utils.AnimateColor);
local v19 = require(l_ReplicatedStorage_0.Shared.Framework.Utilities.Math.Time);
local v20 = require(l_ReplicatedStorage_0.Shared.Framework.Utilities.String.FormatCommas);
local v21 = require(l_ReplicatedStorage_0.Shared.Data.Gamepasses);
local v22 = require(l_ReplicatedStorage_0.Client.Framework.Services.LocalData);
local v23 = require(l_ReplicatedStorage_0.Client.Framework.Utilities.Gui.HookScrollingFrame);
local v24 = require(l_ReplicatedStorage_0.Shared.Framework.Network.Remote);
local v25 = require(l_ReplicatedStorage_0.Client.Gui.Utils.Notification);
local v26 = require(l_ReplicatedStorage_0.Shared.Utils.RichText);
local v27 = require(l_ReplicatedStorage_0.Shared.Utils.Stats.QuestUtil);
local v28 = require(l_ReplicatedStorage_0.Client.Gui.Utils.Infinity);
local v29 = require(l_ReplicatedStorage_0.Shared.Framework.Utilities.every);
local v30 = require(l_ReplicatedStorage_0.Client.Gui.GetScreenGuiHolder);
local v31 = require(l_ReplicatedStorage_0.Client.Gui.Animations.ProcessingPurchase);
local v32 = require(l_ReplicatedStorage_0.Client.Gui.Prompt);
local v33 = require(l_ReplicatedStorage_0.Shared.Data.Builders.PromptBuilder);
local v34 = require(l_ReplicatedStorage_0.Client.Gui.Utils.PlayLocalSound);
local _ = require(l_ReplicatedStorage_0.Shared.Utils.Stats.StatsUtil);
local v36 = require(l_ReplicatedStorage_0.Shared.Framework.Utilities.String.FormatSuffix);
local l_LocalPlayer_0 = l_Players_0.LocalPlayer;
local l_ScreenGui_0 = l_LocalPlayer_0.PlayerGui.ScreenGui;
local l_Frame_0 = l_ScreenGui_0.RobuxShop.Frame;
local l_List_0 = l_Frame_0.Content.List;
local v41 = nil;
local function _() --[[ Line: 51 ]] --[[ Name: CreateEffect ]]
    -- upvalues: v41 (ref), v19 (copy), v9 (copy), l_List_0 (copy), l_ScreenGui_0 (copy), l_RunService_0 (copy)
    if v41 then
        v41:Disconnect();
    end;
    local v42 = 0;
    local function v46(v43) --[[ Line: 57 ]] --[[ Name: update ]]
        -- upvalues: v19 (ref), v9 (ref), l_List_0 (ref), l_ScreenGui_0 (ref), v42 (ref)
        local v44 = v19.now();
        if v44 - 0 > 0.25 then
            local v45 = v9.ExclusivePetEnd.UnixTimestamp - v44;
            l_List_0.Exclusive.Top.Timer.Text = v19.formatTime(v45);
            l_List_0.Exclusive.Visible = v45 > 1;
        end;
        l_ScreenGui_0.RobuxShop.Radial.Rotation = v42 * 4 % 360;
        v42 = v42 + v43;
    end;
    v46(0);
    v41 = l_RunService_0.Heartbeat:Connect(v46);
end;
local function v57(v48) --[[ Line: 73 ]] --[[ Name: getSegmentY ]]
    -- upvalues: l_List_0 (copy)
    local v49 = {};
    for _, v51 in l_List_0:GetChildren() do
        if v51:IsA("Frame") and v51.Visible then
            table.insert(v49, v51);
        end;
    end;
    table.sort(v49, function(v52, v53) --[[ Line: 80 ]]
        return v52.LayoutOrder < v53.LayoutOrder;
    end);
    local v54 = 0;
    for _, v56 in v49 do
        if v56.Name == v48 then
            return v54;
        else
            v54 = v54 + (v56.Size.Y.Offset + l_List_0.UIListLayout.Padding.Offset);
        end;
    end;
    return v54;
end;
local function _(v58) --[[ Line: 95 ]] --[[ Name: updateBounds ]]
    -- upvalues: l_ScreenGui_0 (copy)
    v58.Size = UDim2.new(v58.Size.X.Scale, v58.TextBounds.X / l_ScreenGui_0.UIScale.Scale, v58.Size.Y.Scale, v58.Size.Y.Offset);
end;
local v980 = nil;
local l_Exclusive_0 = l_List_0.Aura;
local v981 = v8["aura-1"];
local v982 = v8["aura-2"];
local v984 = nil;
local v985 = nil;
local v986 = nil;
local l_l_Exclusive_0_0 = l_Exclusive_0;

do
	local l_v984_0, l_v985_0, l_v986_0 = v984, v985, v986;

	v980 = function()
		for v74 = 1, 2 do
			local l_FirstChild_0 = l_l_Exclusive_0_0.Items:FindFirstChild("Entry" .. v74);
			if l_FirstChild_0 then
				l_FirstChild_0.Product.Button.Cost.Label.Text = ("%*%*"):format(
					v9.RobuxUnicode,
					tostring(v74 == 1 and l_v984_0 or l_v985_0 or "__")
				);
			end;
		end;
	end;

	for v77 = 1, 2 do
		local v78 = v77 == 1 and v981 or v982;
		local l_Item_0 = v78.Item;

		local l_FirstChild_2 = l_Exclusive_0.Items:FindFirstChild("Entry" .. v77);
		if l_FirstChild_2 then
			v11:OnEnter(l_FirstChild_2.Icon.Hover, function()
				return v12.fromItem(l_Item_0);
			end);
			v10:UpdateIcon(l_FirstChild_2.Icon, l_Item_0);
			v14(l_FirstChild_2.Product.Button, v15.Button.Green);
			v13(l_FirstChild_2.Product.Button, function()
				v31:Show();
				l_MarketplaceService_0:PromptProductPurchase(l_LocalPlayer_0, v78.ProductId);
			end);
		end;
	end;

	v7:ConnectProductChanged(v981.ProductId, function(v84)
		if v84 and v84.PriceInRobux then
			l_v984_0 = v84.PriceInRobux;
		end;
		v980();
	end);

	v7:ConnectProductChanged(v982.ProductId, function(v85)
		if v85 and v85.PriceInRobux then
			l_v985_0 = v85.PriceInRobux;
		end;
		v980();
	end);
end;
local v1070 = nil;
local l_Exclusive_0 = l_List_0.ChanceChest;
local v1071 = v8["chest-1"];
local v1072 = v8["chest-2"]; -- chest-2 eklendi
local v1074 = nil;
local v1075 = nil;
local v1076 = nil;
local l_l_Exclusive_0_0 = l_Exclusive_0;

do
	local l_v1074_0, l_v1075_0, l_v1076_0 = v1074, v1075, v1076;

	v1070 = function()
		for v74 = 1, 2 do
			local l_FirstChild_0 = l_l_Exclusive_0_0.Items:FindFirstChild("Entry" .. v74);
			if l_FirstChild_0 then
				l_FirstChild_0.Product.Button.Cost.Label.Text = ("%*%*"):format(
					v9.RobuxUnicode,
					tostring(v74 == 1 and l_v1074_0 or l_v1075_0 or "__")
				);
			end;
		end;
	end;

	for v77 = 1, 2 do
		local v78 = v77 == 1 and v1071 or v1072; -- chest-1 ya da chest-2 seimi
		local l_Item_0 = v78.Item;

		local l_FirstChild_2 = l_Exclusive_0.Items:FindFirstChild("Entry" .. v77);
		if l_FirstChild_2 then
			v11:OnEnter(l_FirstChild_2.Icon.Hover, function()
				return v12.fromItem(l_Item_0);
			end);
			v10:UpdateIcon(l_FirstChild_2.Icon, l_Item_0);
			v14(l_FirstChild_2.Product.Button, v15.Button.Green);
			v13(l_FirstChild_2.Product.Button, function()
				v31:Show();
				l_MarketplaceService_0:PromptProductPurchase(l_LocalPlayer_0, v78.ProductId);
			end);
		end;
	end;

	v7:ConnectProductChanged(v1071.ProductId, function(v84)
		if v84 and v84.PriceInRobux then
			l_v1074_0 = v84.PriceInRobux;
		end;
		v1070();
	end);

	v7:ConnectProductChanged(v1072.ProductId, function(v85) -- chest-2 iin baland
		if v85 and v85.PriceInRobux then
			l_v1075_0 = v85.PriceInRobux;
		end;
		v1070();
	end);
end;
local v1010 = nil;
local l_Exclusive_0 = l_List_0.Egg;
local v1011 = v8["egg-1"];
local v1012 = v8["egg-2"];
local v1013 = v8["egg-3"];
local v1017 = v8["egg-4"];
local v1014 = nil;
local v1015 = nil;
local v1016 = nil;
local v1018 = nil;
local l_l_Exclusive_0_0 = l_Exclusive_0;

do
	local l_v1014_0, l_v1015_0, l_v1016_0, l_v1018_0 = v1014, v1015, v1016, v1018;

	v1010 = function()
		for v74 = 1, 4 do
			local l_FirstChild_0 = l_l_Exclusive_0_0.Items:FindFirstChild("Entry" .. v74);
			if l_FirstChild_0 then
				local price = (v74 == 1 and l_v1014_0) or
					(v74 == 2 and l_v1015_0) or
					(v74 == 3 and l_v1016_0) or
					(v74 == 4 and l_v1018_0) or "__";

				l_FirstChild_0.Product.Button.Cost.Label.Text = ("%*%*"):format(
					v9.RobuxUnicode,
					tostring(price)
				);
			end;
		end;
	end;

	for v77 = 1, 4 do
		local v78 = (v77 == 1 and v1011) or
			(v77 == 2 and v1012) or
			(v77 == 3 and v1013) or
			(v77 == 4 and v1017);

		local l_Item_0 = v78.Item;
		local l_FirstChild_2 = l_Exclusive_0.Items:FindFirstChild("Entry" .. v77);
		if l_FirstChild_2 then
			v11:OnEnter(l_FirstChild_2.Icon.Hover, function()
				return v12.fromItem(l_Item_0);
			end);
			v10:UpdateIcon(l_FirstChild_2.Icon, l_Item_0);
			v14(l_FirstChild_2.Product.Button, v15.Button.Green);
			v13(l_FirstChild_2.Product.Button, function()
				v31:Show();
				l_MarketplaceService_0:PromptProductPurchase(l_LocalPlayer_0, v78.ProductId);
			end);
		end;
	end;

	v7:ConnectProductChanged(v1011.ProductId, function(v84)
		if v84 and v84.PriceInRobux then
			l_v1014_0 = v84.PriceInRobux;
		end;
		v1010();
	end);

	v7:ConnectProductChanged(v1012.ProductId, function(v85)
		if v85 and v85.PriceInRobux then
			l_v1015_0 = v85.PriceInRobux;
		end;
		v1010();
	end);

	v7:ConnectProductChanged(v1013.ProductId, function(v86)
		if v86 and v86.PriceInRobux then
			l_v1016_0 = v86.PriceInRobux;
		end;
		v1010();
	end);

	v7:ConnectProductChanged(v1017.ProductId, function(v87)
		if v87 and v87.PriceInRobux then
			l_v1018_0 = v87.PriceInRobux;
		end;
		v1010();
	end);
end;
local v60 = nil;
local l_Exclusive_0 = l_List_0.Exclusive;
local v62 = v8["exclusive-1"];
local v63 = v8["exclusive-2"];
local v64 = v8["exclusive-bundle"];
local v65 = nil;
local v66 = nil;
local v67 = nil;
local l_l_Exclusive_0_0 = l_Exclusive_0 --[[ copy: 46 -> 70 ]];
do
    local l_v65_0, l_v66_0, l_v67_0 = v65, v66, v67;
    v60 = function() --[[ Line: 117 ]] --[[ Name: updateExclusive ]]
        -- upvalues: l_l_Exclusive_0_0 (copy), v9 (copy), l_v67_0 (ref), l_v65_0 (ref), l_v66_0 (ref), l_ScreenGui_0 (copy)
        local l_Before_0 = l_l_Exclusive_0_0.Bundle.Product.Button.Cost.Before;
        local l_Label_0 = l_l_Exclusive_0_0.Bundle.Product.Button.Cost.Label;
        l_Label_0.Text = ("%*%*"):format(v9.RobuxUnicode, (tostring(l_v67_0 or "__")));
        if l_v65_0 and l_v66_0 then
            l_Before_0.Text = ("%*%*"):format(v9.RobuxUnicode, (tostring(l_v65_0 + l_v66_0)));
        else
            l_Before_0.Text = ("%*%*"):format(v9.RobuxUnicode, "__");
        end;
        for v74 = 1, 2 do
            local l_FirstChild_0 = l_l_Exclusive_0_0.Items:FindFirstChild("Entry" .. v74);
            if l_FirstChild_0 then
                l_FirstChild_0.Product.Button.Cost.Label.Text = ("%*%*"):format(v9.RobuxUnicode, (tostring(v74 == 1 and l_v65_0 or l_v66_0 or "__")));
            end;
        end;
        task.defer(function() --[[ Line: 135 ]]
            -- upvalues: l_Before_0 (copy), l_ScreenGui_0 (ref), l_Label_0 (copy)
            local l_l_Before_0_0 = l_Before_0;
            l_l_Before_0_0.Size = UDim2.new(l_l_Before_0_0.Size.X.Scale, l_l_Before_0_0.TextBounds.X / l_ScreenGui_0.UIScale.Scale, l_l_Before_0_0.Size.Y.Scale, l_l_Before_0_0.Size.Y.Offset);
            l_l_Before_0_0 = l_Label_0;
            l_l_Before_0_0.Size = UDim2.new(l_l_Before_0_0.Size.X.Scale, l_l_Before_0_0.TextBounds.X / l_ScreenGui_0.UIScale.Scale, l_l_Before_0_0.Size.Y.Scale, l_l_Before_0_0.Size.Y.Offset);
        end);
    end;
    for v77 = 1, 2 do
        local v78 = v77 == 1 and v62 or v63;
        local l_Item_0 = v78.Item;
        local l_FirstChild_1 = l_Exclusive_0.Bundle:FindFirstChild("Entry" .. v77);
        if l_FirstChild_1 then
            v11:OnEnter(l_FirstChild_1.Hover, function() --[[ Line: 146 ]]
                -- upvalues: v12 (copy), l_Item_0 (copy)
                return v12.fromItem(l_Item_0);
            end);
            v10:UpdateIcon(l_FirstChild_1, l_Item_0);
        end;
        local l_FirstChild_2 = l_Exclusive_0.Items:FindFirstChild("Entry" .. v77);
        if l_FirstChild_2 then
            v11:OnEnter(l_FirstChild_2.Icon.Hover, function() --[[ Line: 154 ]]
                -- upvalues: v12 (copy), l_Item_0 (copy)
                return v12.fromItem(l_Item_0);
            end);
            v10:UpdateIcon(l_FirstChild_2.Icon, l_Item_0);
            local l_v10_Rarity_0 = v10:GetRarity(l_Item_0);
            l_FirstChild_2.Title.Text = v10:GetName(l_Item_0);
            l_FirstChild_2.Rarity.Text = l_v10_Rarity_0;
            if l_v10_Rarity_0 == "Legendary" then
                v18.Cycle(l_FirstChild_2.Rarity, "Rainbow", {
                    Speed = 0.4
                });
            else
                l_FirstChild_2.Rarity.TextColor3 = v9.RarityColors[l_v10_Rarity_0];
            end;
            v14(l_FirstChild_2.Product.Button, v15.Button.Green);
            v13(l_FirstChild_2.Product.Button, function() --[[ Line: 170 ]]
                -- upvalues: v31 (copy), l_MarketplaceService_0 (copy), l_LocalPlayer_0 (copy), v78 (copy)
                v31:Show();
                l_MarketplaceService_0:PromptProductPurchase(l_LocalPlayer_0, v78.ProductId);
            end);
        end;
    end;
    v14(l_Exclusive_0.Bundle.Product.Button, v15.Button.Orange);
    local l_v64_0 = v64 --[[ copy: 49 -> 71 ]];
    v13(l_Exclusive_0.Bundle.Product.Button, function() --[[ Line: 178 ]]
        -- upvalues: v31 (copy), l_MarketplaceService_0 (copy), l_LocalPlayer_0 (copy), l_v64_0 (copy)
        v31:Show();
        l_MarketplaceService_0:PromptProductPurchase(l_LocalPlayer_0, l_v64_0.ProductId);
    end);
    v7:ConnectProductChanged(v62.ProductId, function(v84) --[[ Line: 183 ]]
        -- upvalues: l_v65_0 (ref), v60 (ref)
        if v84 and v84.PriceInRobux then
            l_v65_0 = v84.PriceInRobux;
        end;
        v60();
    end);
    v7:ConnectProductChanged(v63.ProductId, function(v85) --[[ Line: 190 ]]
        -- upvalues: l_v66_0 (ref), v60 (ref)
        if v85 and v85.PriceInRobux then
            l_v66_0 = v85.PriceInRobux;
        end;
        v60();
    end);
    v7:ConnectProductChanged(v64.ProductId, function(v86) --[[ Line: 197 ]]
        -- upvalues: l_v67_0 (ref), v60 (ref)
        if v86 and v86.PriceInRobux then
            l_v67_0 = v86.PriceInRobux;
        end;
        v60();
    end);
    local l_l_Exclusive_0_1 = l_Exclusive_0 --[[ copy: 46 -> 72 ]];
    v16:BindOnOpened("RobuxShop", function() --[[ Line: 204 ]]
        -- upvalues: v17 (copy), l_l_Exclusive_0_1 (copy)
        v17:Add(l_l_Exclusive_0_1.Bundle.Product.Effect);
    end);
    v16:BindOnClosed("RobuxShop", function() --[[ Line: 208 ]]
        -- upvalues: v17 (copy), l_l_Exclusive_0_1 (copy)
        v17:Remove(l_l_Exclusive_0_1.Bundle.Product.Effect);
    end);
end;
l_Exclusive_0 = nil;
v62 = l_List_0.Gems.Content;
v63 = 1;
v64 = nil;
v65 = nil;
v66 = nil;
v67 = v8["gems-1"];
local v88 = v8["gems-2"];
local v89 = v8["gems-3"];
local l_v89_0 = v89 --[[ copy: 54 -> 73 ]];
local l_v62_0 = v62 --[[ copy: 47 -> 74 ]];
local l_v67_1 = v67 --[[ copy: 52 -> 75 ]];
local l_v88_0 = v88 --[[ copy: 53 -> 76 ]];
do
    local l_v63_0, l_v64_1, l_v65_1, l_v66_1 = v63, v64, v65, v66;
    l_Exclusive_0 = function() --[[ Line: 229 ]] --[[ Name: updateGems ]]
        -- upvalues: l_v89_0 (copy), l_v62_0 (copy), l_v66_1 (ref), l_v63_0 (ref), v9 (copy), v10 (copy), v36 (copy), l_v67_1 (copy), l_v88_0 (copy), v20 (copy), l_ScreenGui_0 (copy)
        local l_Item_1 = l_v89_0.Items[1].Item;
        local l_Cost_0 = l_v62_0["gems-3"].Product.Button.Cost;
        if l_v66_1 then
            l_Cost_0.Before.Visible = l_v63_0 > 12;
            l_Cost_0.Before.Text = ("%*%*"):format(v9.RobuxUnicode, (math.ceil(v10:GetAmount(l_Item_1) / l_v63_0)));
            l_Cost_0.Label.Text = ("%*%*"):format(v9.RobuxUnicode, l_v66_1 > 0 and l_v66_1 or "__");
        end;
        l_v62_0["gems-1"].Top.Label.Text = v36(v10:GetAmount(l_v67_1.Item), 10000);
        l_v62_0["gems-2"].Top.Label.Text = v36(v10:GetAmount(l_v88_0.Item), 10000);
        l_v62_0["gems-3"].Top.Label.Text = v20(v10:GetAmount(l_Item_1));
        task.defer(function() --[[ Line: 242 ]]
            -- upvalues: l_Cost_0 (copy), l_ScreenGui_0 (ref), l_v62_0 (ref)
            local l_Label_1 = l_Cost_0.Label;
            l_Label_1.Size = UDim2.new(l_Label_1.Size.X.Scale, l_Label_1.TextBounds.X / l_ScreenGui_0.UIScale.Scale, l_Label_1.Size.Y.Scale, l_Label_1.Size.Y.Offset);
            l_Label_1 = l_Cost_0.Before;
            l_Label_1.Size = UDim2.new(l_Label_1.Size.X.Scale, l_Label_1.TextBounds.X / l_ScreenGui_0.UIScale.Scale, l_Label_1.Size.Y.Scale, l_Label_1.Size.Y.Offset);
            l_Label_1 = l_v62_0["gems-1"].Top.Label;
            l_Label_1.Size = UDim2.new(l_Label_1.Size.X.Scale, l_Label_1.TextBounds.X / l_ScreenGui_0.UIScale.Scale, l_Label_1.Size.Y.Scale, l_Label_1.Size.Y.Offset);
            l_Label_1 = l_v62_0["gems-2"].Top.Label;
            l_Label_1.Size = UDim2.new(l_Label_1.Size.X.Scale, l_Label_1.TextBounds.X / l_ScreenGui_0.UIScale.Scale, l_Label_1.Size.Y.Scale, l_Label_1.Size.Y.Offset);
        end);
    end;
    for v101, v102 in v89.Items do
        if v101 ~= 1 then
            local l_FirstChild_3 = v62["gems-3"].Items:FindFirstChild("Entry" .. v101 - 1);
            if v10:GetRarity(v102.Item) == "Legendary" then
                v18.Cycle(l_FirstChild_3.Chance, "Rainbow", {
                    Speed = 0.4
                });
            end;
            local l_v10_Amount_0 = v10:GetAmount(v102.Item);
            l_FirstChild_3.Chance.Text = ("%*%%"):format(v102.Chance);
            l_FirstChild_3.Amount.Text = ("x%*"):format(l_v10_Amount_0);
            l_FirstChild_3.Amount.Visible = l_v10_Amount_0 > 1;
            v10:UpdateIcon(l_FirstChild_3, v102.Item);
            v11:OnEnter(l_FirstChild_3.Hover, function() --[[ Line: 266 ]]
                -- upvalues: v12 (copy), v102 (copy)
                return v12.fromItem(v102.Item);
            end);
        end;
    end;
    for _, v106 in v62:GetChildren() do
        if v106:IsA("Frame") then
            v14(v106.Product.Button, v15.Button.Green);
            v13(v106.Product.Button, function() --[[ Line: 274 ]]
                -- upvalues: v31 (copy), l_MarketplaceService_0 (copy), l_LocalPlayer_0 (copy), v8 (copy), v106 (copy)
                v31:Show();
                l_MarketplaceService_0:PromptProductPurchase(l_LocalPlayer_0, v8[v106.Name].ProductId);
            end);
        end;
    end;
    v18.Cycle(v62["gems-3"].Best, "Rainbow", {
        Speed = 0.2
    });
    local l_v67_2 = v67 --[[ copy: 52 -> 77 ]];
    local l_v62_1 = v62 --[[ copy: 47 -> 78 ]];
    v7:ConnectProductChanged(v67.ProductId, function(v109) --[[ Line: 283 ]]
        -- upvalues: l_v64_1 (ref), l_v63_0 (ref), v10 (copy), l_v67_2 (copy), l_v62_1 (copy), v9 (copy), l_Exclusive_0 (ref)
        if v109 and v109.PriceInRobux then
            l_v64_1 = v109.PriceInRobux;
            l_v63_0 = math.ceil(v10:GetAmount(l_v67_2.Item) / v109.PriceInRobux);
        end;
        l_v62_1["gems-1"].Product.Button.Label.Text = ("%*%*"):format(v9.RobuxUnicode, l_v64_1 or "__");
        l_Exclusive_0();
    end);
    v7:ConnectProductChanged(v88.ProductId, function(v110) --[[ Line: 292 ]]
        -- upvalues: l_v65_1 (ref), l_v62_1 (copy), v9 (copy), l_Exclusive_0 (ref)
        if v110 and v110.PriceInRobux then
            l_v65_1 = v110.PriceInRobux;
        end;
        l_v62_1["gems-2"].Product.Button.Label.Text = ("%*%*"):format(v9.RobuxUnicode, l_v65_1 or "__");
        l_Exclusive_0();
    end);
    v7:ConnectProductChanged(v89.ProductId, function(v111) --[[ Line: 300 ]]
        -- upvalues: l_v66_1 (ref), l_Exclusive_0 (ref)
        if v111 and v111.PriceInRobux then
            l_v66_1 = v111.PriceInRobux;
        end;
        l_Exclusive_0();
    end);
    l_Exclusive_0();
    v22:ConnectDataChanged("PolicyInfo", function(v112) --[[ Line: 309 ]]
        -- upvalues: l_v62_1 (copy)
        l_v62_1["gems-3"].Items.Entry1.Visible = not v112.PolicyInfo.ArePaidRandomItemsRestricted;
    end);
end;
v62 = {};
local l_v62_2 = v62 --[[ copy: 47 -> 79 ]];
v63 = function(v114) --[[ Line: 337 ]] --[[ Name: createBoard ]]
    -- upvalues: l_v62_2 (copy), v21 (copy), v30 (copy), v9 (copy), v22 (copy), v17 (copy), v14 (copy), v15 (copy), v13 (copy), v31 (copy), l_MarketplaceService_0 (copy), l_LocalPlayer_0 (copy), v7 (copy)
    if l_v62_2[v114] then
        return;
    else
        local v115 = v21[v114.Name];
        if not v115 then
            return;
        else
            local v116 = nil;
            local v117 = nil;
            local v118 = nil;
            local l_SurfaceGui_0 = v114.Display.SurfaceGui;
            l_SurfaceGui_0.Parent = v30();
            l_SurfaceGui_0.Title.Text = v114.Name;
            l_SurfaceGui_0.Adornee = v114.Display;
            local function v120() --[[ Line: 355 ]] --[[ Name: update ]]
                -- upvalues: l_SurfaceGui_0 (copy), v116 (ref), v9 (ref), v117 (ref), v118 (ref)
                l_SurfaceGui_0.Description.Text = v116 or "Failed to load";
                l_SurfaceGui_0.Product.Button.Label.Text = ("%*%*"):format(v9.RobuxUnicode, v117 or "__");
                l_SurfaceGui_0.Icon.Image = v118 or v9.UnknownImage;
                l_SurfaceGui_0.Description.TextScaled = false;
                task.defer(function() --[[ Line: 360 ]]
                    -- upvalues: l_SurfaceGui_0 (ref)
                    l_SurfaceGui_0.Description.TextScaled = not l_SurfaceGui_0.Description.TextFits;
                end);
            end;
            local v121 = v22:Get();
            local v122 = v121 and v121.Passes[v114.Name] or false;
            l_SurfaceGui_0.Product.Button.Visible = not v122;
            l_SurfaceGui_0.Product.Owned.Visible = v122;
            v17:Add(l_SurfaceGui_0.Product.Button);
            v14(l_SurfaceGui_0.Product.Button, v15.Button.Orange);
            v13(l_SurfaceGui_0.Product.Button, function() --[[ Line: 373 ]]
                -- upvalues: v31 (ref), l_MarketplaceService_0 (ref), l_LocalPlayer_0 (ref), v115 (copy)
                v31:Show();
                l_MarketplaceService_0:PromptGamePassPurchase(l_LocalPlayer_0, v115.Id);
            end);
            v7:ConnectGamepassChanged(v115.Id, function(v123) --[[ Line: 378 ]]
                -- upvalues: v116 (ref), v117 (ref), v118 (ref), v120 (copy)
                if v123 then
                    v116 = v123.Description;
                    v117 = v123.PriceInRobux;
                    v118 = ("rbxassetid://%*"):format(v123.IconImageAssetId);
                end;
                v120();
            end);
            l_v62_2[v114] = l_SurfaceGui_0;
            return;
        end;
    end;
end;
v64 = l_ScreenGui_0.GiftingPrompt;
v65 = v64.Frame.Inner.Frame;
v66 = v65.List;
v67 = v66.Template;
v67.Parent = nil;
v88 = {};
v89 = nil;
local v124 = nil;
local v125 = {};
local l_v65_2 = v65 --[[ copy: 50 -> 80 ]];
local l_v125_0 = v125 --[[ copy: 56 -> 81 ]];
local l_v88_1 = v88 --[[ copy: 53 -> 82 ]];
local l_v67_3 = v67 --[[ copy: 52 -> 83 ]];
do
    local l_v89_1, l_v124_0 = v89, v124;
    local function v132() --[[ Line: 406 ]] --[[ Name: updateGift ]]
        -- upvalues: l_Players_0 (copy), l_v89_1 (ref), l_v65_2 (copy), l_v124_0 (ref), l_v125_0 (copy), v9 (copy), l_v88_1 (copy), l_LocalPlayer_0 (copy), l_v67_3 (copy), v13 (copy), v132 (copy), v66 (copy)
        local l_l_Players_0_Players_0 = l_Players_0:GetPlayers();
        if l_v89_1 and not table.find(l_l_Players_0_Players_0, l_v89_1) then
            l_v89_1 = nil;
        end;
        if l_v89_1 then
            l_v65_2.Description.Text = ("Selected <font color=\"rgb(27,173,236)\">%*</font> to gift <font color=\"rgb(251,121,255)\">%*</font>!"):format(l_v89_1.Name, l_v124_0);
        elseif l_v124_0 then
            l_v65_2.Description.Text = ("Choose a player to gift <font color=\"rgb(251,121,255)\">%*</font> to!"):format(l_v124_0);
        else
            l_v65_2.Description.Text = "No pass selected";
        end;
        l_v65_2.Buttons.Buy.Visible = l_v124_0 and l_v89_1;
        l_v65_2.Buttons.SelectPlayer.Visible = l_v124_0 and not l_v89_1;
        if l_v124_0 then
            local v134 = l_v125_0[l_v124_0];
            l_v65_2.Buttons.Buy.Button.Label.Text = ("%*%*"):format(v9.RobuxUnicode, v134 and v134.PriceInRobux or "__");
        end;
        for v135, v136 in l_v88_1 do
            if not table.find(l_l_Players_0_Players_0, v135) then
                v136:Destroy();
                l_v88_1[v135] = nil;
            end;
        end;
        for v137, v138 in l_l_Players_0_Players_0 do
            if v138 ~= l_LocalPlayer_0 then
                local v139 = l_v88_1[v138];
                if not v139 then
                    local v140 = l_v67_3:Clone();
                    v140.Name = ("%*/%*"):format(v138.UserId, v138.Name);
                    v140.Button.Icon.Image = ("rbxthumb://type=AvatarHeadShot&id=%*&w=100&h=100"):format(v138.UserId);
                    v140.Button.DisplayName.Text = v138.DisplayName;
                    v140.Button.Username.Text = ("@%*"):format(v138.Name);
                    v13(v140.Button, function() --[[ Line: 452 ]]
                        -- upvalues: l_v89_1 (ref), v138 (copy), v132 (ref)
                        l_v89_1 = v138;
                        v132();
                    end);
                    v140.Parent = v66;
                    l_v88_1[v138] = v140;
                    v139 = v140;
                end;
                local v141 = v138 == l_v89_1;
                v139.Button.UIStroke.Transparency = v141 and 0 or 0.4;
                v139.Button.UIStroke.Thickness = v141 and 2.5 or 2;
                v139.Button.BackgroundTransparency = v141 and 0 or 0.3;
                v139.Button.DisplayName.TextTransparency = v141 and 0 or 0.1;
                v139.Button.DisplayName.UIStroke.Transparency = v141 and 0 or 0.2;
                v139.Button.Username.TextTransparency = v141 and 0 or 0.1;
                v139.Button.Username.UIStroke.Transparency = v141 and 0 or 0.2;
                v139.Button.Icon.ImageTransparency = v141 and 0 or 0.1;
                v139.Button.Icon.UIStroke.Transparency = v141 and 0 or 0.2;
                v139.LayoutOrder = v137;
            end;
        end;
    end;
    for v142, v143 in v21 do
        v7.fromGamepass(v143.Id, function(v144) --[[ Line: 479 ]]
            -- upvalues: v125 (copy), v142 (copy), v132 (copy)
            if v144 ~= nil then
                v125[v142] = v144;
                v132();
            end;
        end);
    end;
    l_Players_0.PlayerAdded:Connect(v132);
    l_Players_0.PlayerRemoving:Connect(v132);
    v132();
    v23(v66, v66.UIGridLayout);
    v14(v64.Frame.Top.Close.Button, v15.Button.Red);
    v13(v64.Frame.Top.Close.Button, function() --[[ Line: 495 ]]
        -- upvalues: v16 (copy)
        v16:Open("RobuxShop");
    end);
    v14(v65.Buttons.Cancel.Button, v15.Button.Red);
    v13(v65.Buttons.Cancel.Button, function() --[[ Line: 500 ]]
        -- upvalues: v16 (copy)
        v16:Open("RobuxShop");
    end);
    local v145 = false;
    v14(v65.Buttons.Buy.Button, v15.Button.Green);
    v13(v65.Buttons.Buy.Button, function() --[[ Line: 507 ]]
        -- upvalues: v145 (ref), l_v124_0 (ref), l_v89_1 (ref), v21 (copy), v31 (copy), v24 (copy), v33 (copy), v32 (copy), l_MarketplaceService_0 (copy), l_LocalPlayer_0 (copy), v16 (copy)
        if v145 or not l_v124_0 or not l_v89_1 then
            return;
        elseif v21[l_v124_0].GiftProductId <= 0 then
            return warn("[temporary] cannot gift this pass - giftid is 0 which would trigger error");
        else
            v145 = true;
            v31:Show();
            local v146, v147 = v24:InvokeServer("TryGiftPlayer", l_v89_1, l_v124_0);
            if not v146 then
                v31:Hide();
                local v148 = v33.new("Uh Oh!");
                v148:Text(v147 or "An error occurred, please try again later!");
                v32(v148:Build());
            else
                local v149 = v21[l_v124_0];
                l_MarketplaceService_0:PromptProductPurchase(l_LocalPlayer_0, v149.GiftProductId);
            end;
            task.delay(1, function() --[[ Line: 533 ]]
                -- upvalues: v16 (ref), v145 (ref)
                v16:Open("RobuxShop");
                v145 = false;
            end);
            return;
        end;
    end);
    v16:BindOnClosed("GiftingPrompt", function() --[[ Line: 539 ]]
        -- upvalues: l_v124_0 (ref), l_v89_1 (ref), v132 (copy)
        l_v124_0 = nil;
        l_v89_1 = nil;
        v132();
    end);
    local function _(v150, v151) --[[ Line: 546 ]] --[[ Name: applyWordColor ]]
        return (("<font color=\"#%*\">%*</font>"):format(v151:ToHex(), v150));
    end;
    local function _(v153) --[[ Line: 550 ]] --[[ Name: makeName ]]
        -- upvalues: v15 (copy)
        local v154 = ("%* (@%*)"):format(v153.DisplayName, v153.Name);
        return (("<font color=\"#%*\">%*</font>"):format(v15.Text.Pink:ToHex(), v154));
    end;
    v24.Event("GiftSuccess"):Connect(function(v156, v157, v158) --[[ Line: 554 ]]
        -- upvalues: v15 (copy), l_TextChatService_0 (copy), l_LocalPlayer_0 (copy), v33 (copy), v14 (copy), v13 (copy), v32 (copy)
        local v159 = ("<font color=\"#%*\">%*</font>"):format(v15.Text.Yellow:ToHex(), v158);
        local l_TextChannels_0 = l_TextChatService_0:FindFirstChild("TextChannels");
        if l_TextChannels_0 ~= nil then
            local l_RBXGeneral_0 = l_TextChannels_0:FindFirstChild("RBXGeneral");
            if l_RBXGeneral_0 then
                local v162 = ("%* (@%*)"):format(v156.DisplayName, v156.Name);
                local v163 = ("<font color=\"#%*\">%*</font>"):format(v15.Text.Pink:ToHex(), v162);
                local v164 = ("%* (@%*)"):format(v157.DisplayName, v157.Name);
                l_RBXGeneral_0:DisplaySystemMessage((("%* gifted the %* gamepass to %*!"):format(v163, v159, (("<font color=\"#%*\">%*</font>"):format(v15.Text.Pink:ToHex(), v164)))));
            end;
        end;
        if v156 == l_LocalPlayer_0 then
            local v165 = v33.new("Gift!");
            local v166 = "Successfully gifted %* to %*!";
            local l_v159_0 = v159;
            local v168 = ("%* (@%*)"):format(v157.DisplayName, v157.Name);
            v165:Text((v166:format(l_v159_0, (("<font color=\"#%*\">%*</font>"):format(v15.Text.Pink:ToHex(), v168)))));
            v165:Button(function(v169, v170) --[[ Line: 574 ]]
                -- upvalues: v14 (ref), v15 (ref), v13 (ref)
                v169.Label.Text = "Okay";
                v14(v169, v15.Button.Purple);
                v13(v169, v170);
            end);
            v32(v165:Build());
            return;
        else
            if v157 == l_LocalPlayer_0 then
                local v171 = v33.new("Gift!");
                local v172 = "%* gifted you the %* Gamepass!";
                local v173 = ("%* (@%*)"):format(v156.DisplayName, v156.Name);
                v171:Text((v172:format(("<font color=\"#%*\">%*</font>"):format(v15.Text.Pink:ToHex(), v173), v159)));
                v171:Button(function(v174, v175) --[[ Line: 584 ]]
                    -- upvalues: v14 (ref), v15 (ref), v13 (ref)
                    v174.Label.Text = "Claim";
                    v14(v174, v15.Button.Purple);
                    v13(v174, v175);
                end);
                v32(v171:Build());
            end;
            return;
        end;
    end);
    local l_Template_0 = l_List_0.Gamepasses.Content.Template;
    l_Template_0.Parent = nil;
    local v177 = {};
    for v178, v179 in v21 do
        local v180 = l_Template_0:Clone();
        v180.Name = v178;
        v180.LayoutOrder = v179.LayoutOrder;
        v180.Background.ImageColor3 = v179.Palette.Accent;
        v180.UIGradient.Color = v179.Palette.Gradient;
        v180.Title.Text = v178;
        local function v182(v181) --[[ Line: 611 ]] --[[ Name: updateInfo ]]
            -- upvalues: v180 (copy), v9 (copy)
            v180.Buttons.Buy.Button.Label.Text = ("%*%*"):format(v9.RobuxUnicode, v181 and v181.PriceInRobux or "__");
            v180.Icon.Image = if v181 then ("rbxassetid://%*"):format(v181.IconImageAssetId) else v9.UnknownImage;
            v180.Description.Text = v181 and v181.Description or "Loading...";
            v180.Description.TextScaled = false;
            task.defer(function() --[[ Line: 616 ]]
                -- upvalues: v180 (ref)
                v180.Description.TextScaled = not v180.Description.TextFits;
            end);
        end;
        v182();
        v7:ConnectGamepassChanged(v179.Id, function(v183) --[[ Line: 622 ]]
            -- upvalues: v182 (copy)
            if v183 then
                v182(v183);
            end;
        end);
        v14(v180.Buttons.Buy.Button, v15.Button.Green);
        v13(v180.Buttons.Buy.Button, function() --[[ Line: 629 ]]
            -- upvalues: v31 (copy), l_MarketplaceService_0 (copy), l_LocalPlayer_0 (copy), v179 (copy)
            v31:Show();
            l_MarketplaceService_0:PromptGamePassPurchase(l_LocalPlayer_0, v179.Id);
        end);
        v14(v180.Buttons.Gift.Button, v15.Button.Default);
        v13(v180.Buttons.Gift.Button, function() --[[ Line: 635 ]]
            -- upvalues: l_v124_0 (ref), v178 (copy), v132 (copy), v16 (copy)
            l_v124_0 = v178;
            v132();
            v16:Open("GiftingPrompt");
        end);
        v180.Parent = l_List_0.Gamepasses.Content;
        v177[v178] = v180;
    end;
    local l_v62_3 = v62 --[[ copy: 47 -> 84 ]];
    local function v192() --[[ Line: 646 ]] --[[ Name: updatePasses ]]
        -- upvalues: v22 (copy), v177 (copy), l_v62_3 (copy)
        local v185 = v22:Get();
        if not v185 then
            return;
        else
            for v186, v187 in v177 do
                local v188 = v185.Passes[v186] == true;
                v187.Icon.Owned.Visible = v188;
                v187.Buttons.Buy.Visible = not v188;
                v187.Buttons.Owned.Visible = v188;
            end;
            for v189, v190 in l_v62_3 do
                local v191 = v185.Passes[v189.Name] == true;
                v190.Product.Owned.Visible = v191;
                v190.Product.Button.Visible = not v191;
            end;
            return;
        end;
    end;
    for _, v194 in l_CollectionService_0:GetTagged("PassBoard") do
        v63(v194);
    end;
    l_CollectionService_0:GetInstanceAddedSignal("PassBoard"):Connect(v63);
    v22:ConnectDataChanged("Passes", v192);
end;
v62 = false;
v63 = l_List_0.Redeem;
v14(v63.Bar.Redeem.Button, v15.Button.Default);
local l_v63_1 = v63 --[[ copy: 48 -> 85 ]];
do
    local l_v62_4 = v62;
    v13(v63.Bar.Redeem.Button, function() --[[ Line: 682 ]]
        -- upvalues: l_v62_4 (ref), l_v63_1 (copy), v22 (copy), v24 (copy), v25 (copy), v26 (copy), v15 (copy)
        if l_v62_4 or l_v63_1.Bar.TextBox.Text == "" then
            return;
        else
            local l_Text_0 = l_v63_1.Bar.TextBox.Text;
            l_v62_4 = true;
            l_v63_1.Bar.TextBox.Text = "";
            local v198 = "\240\159\142\137 Successfully redeemed code! \240\159\142\137";
            local v199 = true;
            local v200 = v22:Get();
            if v200 and table.find(v200.Redeemed, string.lower(l_Text_0)) then
                v198 = "This code has already been redeemed";
                v199 = false;
            elseif not v24:InvokeServer("RedeemCode", l_Text_0) then
                v198 = "Invalid Code";
                v199 = false;
            end;
            v25(v26.autoColor(v198, v199 and Color3.fromRGB(25, 205, 255) or v15.Text.Red), {
                Sound = v199 and "GenericSuccess" or "PopupFailure", 
                BypassTutorial = true
            });
            l_v62_4 = false;
            return;
        end;
    end);
end;
v62 = nil;
v63 = l_Frame_0.Sidebar.Buttons;
local l_v63_2 = v63 --[[ copy: 48 -> 86 ]];
v64 = function() --[[ Line: 716 ]] --[[ Name: updateSidebar ]]
    -- upvalues: l_v63_2 (copy), l_ScreenGui_0 (copy), l_Frame_0 (copy)
    local v202 = l_v63_2.UIListLayout.AbsoluteContentSize.Y / l_ScreenGui_0.UIScale.Scale;
    l_Frame_0.Sidebar.Size = UDim2.fromOffset(90, v202 + 40);
end;
v62 = function(v203) --[[ Line: 721 ]] --[[ Name: setPage ]]
    -- upvalues: v57 (copy), l_TweenService_0 (copy), l_List_0 (copy), l_ScreenGui_0 (copy)
    local v204 = math.max(0, v57(v203) - 100);
    l_TweenService_0:Create(l_List_0, TweenInfo.new(0.3, Enum.EasingStyle.Quart), {
        CanvasPosition = Vector2.new(0, v204 * l_ScreenGui_0.UIScale.Scale)
    }):Play();
end;
for _, v206 in l_List_0:GetChildren() do
    if v206:IsA("Frame") then
        v124 = function() --[[ Line: 732 ]] --[[ Name: update ]]
            -- upvalues: v63 (copy), v206 (copy)
            local l_v63_FirstChild_0 = v63:FindFirstChild(v206.Name);
            if l_v63_FirstChild_0 then
                l_v63_FirstChild_0.Visible = v206.Visible;
            end;
        end;
       local vv125 = v63:FindFirstChild(v206.Name);
        if vv125 then
            vv125.Visible = v206.Visible;
        end;
        v206:GetPropertyChangedSignal("Visible"):Connect(v124);
    end;
end;
for _, v209 in v63:GetChildren() do
    if v209:IsA("Frame") then
        v13(v209.Button, function() --[[ Line: 744 ]]
            -- upvalues: v62 (ref), v209 (copy)
            v62(v209.Name);
        end);
    end;
end;
v65 = v63.UIListLayout.AbsoluteContentSize.Y / l_ScreenGui_0.UIScale.Scale;
l_Frame_0.Sidebar.Size = UDim2.fromOffset(90, v65 + 40);
v63.UIListLayout:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(v64);
v63 = l_List_0.Discord.Verify;
for _, v211 in l_List_0.Discord.Items:GetChildren() do
    if v211:IsA("Frame") then
        v11:OnEnter(v211.Hover, function() --[[ Line: 763 ]]
            -- upvalues: v22 (copy), v27 (copy), v211 (copy), v12 (copy)
            local v212 = v22:Get();
            if not v212 then
                return;
            else
                local l_v27_ById_0 = v27:FindById(v212, "discord");
                if not l_v27_ById_0 then
                    return;
                else
                    local v214 = l_v27_ById_0.Rewards[v211.LayoutOrder];
                    if not v214 then
                        return;
                    else
                        return v12.fromItem(v214);
                    end;
                end;
            end;
        end);
    end;
end;
v14(v63.Button, v15.Button.Default);
v13(v63.Button, function() --[[ Line: 782 ]]
    -- upvalues: v28 (copy), v63 (copy), v29 (copy), v24 (copy), v25 (copy), v26 (copy), v15 (copy)
    local _, v216 = v28(v63.Infinity);
    local v217 = 0;
    local v218 = v29(0.5, function() --[[ Line: 785 ]]
        -- upvalues: v63 (ref), v217 (ref)
        v63.Label.MaxVisibleGraphemes = v217 + 9;
        v217 = (v217 + 1) % 3;
    end);
    local function _() --[[ Line: 790 ]] --[[ Name: cleanup ]]
        -- upvalues: v216 (copy), v218 (copy)
        v216();
        v218:Disconnect();
    end;
    v63.Button.Visible = false;
    v63.Label.Visible = true;
    v63.Infinity.Visible = true;
    task.wait(1.5);
    if not v24:InvokeServer("VerifyDiscord") then
        v25(v26.autoColor("Please message /verify to the BGS Bot", v15.Text.Red), {
            Sound = "NotificationHelp"
        });
    end;
    v216();
    v218:Disconnect();
    v63.Button.Visible = true;
    v63.Label.Visible = false;
    v63.Infinity.Visible = false;
end);
v22:ConnectDataChanged({
    "PolicyInfo", 
    "Quests", 
    "QuestsCompleted"
}, function(v220) --[[ Line: 816 ]]
    -- upvalues: l_List_0 (copy), v26 (copy), v15 (copy), l_ScreenGui_0 (copy), l_Frame_0 (copy), v27 (copy), v10 (copy)
    local v221 = table.find(v220.PolicyInfo.AllowedExternalLinkReferences, "X") ~= nil;
    l_List_0.Redeem.Top.Label.Position = UDim2.fromOffset(v221 and 115 or 0, 0);
    l_List_0.Redeem.Top.Icon1.Visible = v221;
    l_List_0.Redeem.Top.Icon2.Visible = v221;
    l_List_0.Redeem.Top.SubTitle.Text = v221 and "Join <font color=\"#22c4ff\">Blaze Games Community</font> to redeem codes!" or ("Claim special %*!"):format((v26.autoColor("items & bonuses", v15.Text.Yellow)));
    l_ScreenGui_0.HUD.Left.Buttons.Codes.Button.Icon.Image = v221 and "rbxassetid://129380912997137" or "rbxassetid://121401017387099";
    l_Frame_0.Sidebar.Buttons.Redeem.Button.Icon.Image = l_ScreenGui_0.HUD.Left.Buttons.Codes.Button.Icon.Image;
    local v222 = table.find(v220.PolicyInfo.AllowedExternalLinkReferences, "Discord") ~= nil;
    if v222 then
        local l_v27_ById_1 = v27:FindById(v220, "discord");
        if l_v27_ById_1 then
            for _, v225 in l_List_0.Discord.Items:GetChildren() do
                if v225:IsA("Frame") then
                    local v226 = l_v27_ById_1.Rewards[v225.LayoutOrder];
                    if v226 then
                        v10:UpdateIcon(v225, v226);
                        v10:FormatAmount(v225.Amount, v226);
                    end;
                    v225.Visible = v226 ~= nil;
                end;
            end;
        end;
        v222 = l_v27_ById_1 ~= nil;
    end;
    l_List_0.Discord.Visible = v222;
end);
v14(l_Frame_0.Close, v15.Button.Red);
v13(l_Frame_0.Close, function() --[[ Line: 854 ]]
    -- upvalues: v16 (copy)
    v16:Close();
end);
v16:BindOnOpened("RobuxShop", function() --[[ Line: 858 ]]
    -- upvalues: v41 (ref), v19 (copy), v9 (copy), l_List_0 (copy), l_ScreenGui_0 (copy), l_RunService_0 (copy), v34 (copy)
    if v41 then
        v41:Disconnect();
    end;
    local v227 = 0;
    do
        local l_v227_0 = v227;
        local function v232(v229) --[[ Line: 57 ]] --[[ Name: update ]]
            -- upvalues: v19 (ref), v9 (ref), l_List_0 (ref), l_ScreenGui_0 (ref), l_v227_0 (ref)
            local v230 = v19.now();
            if v230 - 0 > 0.25 then
                local v231 = v9.ExclusivePetEnd.UnixTimestamp - v230;
                l_List_0.Exclusive.Top.Timer.Text = v19.formatTime(v231);
                l_List_0.Exclusive.Visible = v231 > 1;
            end;
            l_ScreenGui_0.RobuxShop.Radial.Rotation = l_v227_0 * 4 % 360;
            l_v227_0 = l_v227_0 + v229;
        end;
        v232(0);
        v41 = l_RunService_0.Heartbeat:Connect(v232);
    end;
    v34("RobuxShop");
end);
v16:BindOnClosed("RobuxShop", function() --[[ Line: 862 ]]
    -- upvalues: v41 (ref)
    if v41 then
        v41:Disconnect();
        v41 = nil;
    end;
end);
task.defer(function() --[[ Line: 869 ]]
    -- upvalues: l_List_0 (copy), l_ScreenGui_0 (copy)
    l_List_0.Gamepasses.Size = UDim2.new(1, 0, 0, 60 + l_List_0.Gamepasses.Content.UIGridLayout.AbsoluteContentSize.Y / l_ScreenGui_0.UIScale.Scale);
end);
v23(l_List_0, l_List_0.UIListLayout);
return {
    setPage = v62
};
ModuleScript: StarterBundle
-- Saved by UniversalSynSaveInstance (Join to Copy Games) https://discord.gg/wx4ThpAsmw

local l_Players_0 = game:GetService("Players");
local l_ReplicatedStorage_0 = game:GetService("ReplicatedStorage");
local l_RunService_0 = game:GetService("RunService");
local l_MarketplaceService_0 = game:GetService("MarketplaceService");
local v4 = require(l_ReplicatedStorage_0.Client.Framework.Services.LocalData);
local v5 = require(l_ReplicatedStorage_0.Shared.Framework.Utilities.Math.Time);
local v6 = require(l_ReplicatedStorage_0.Client.Gui.GuiFrame);
local v7 = require(l_ReplicatedStorage_0.Client.Gui.Utils.AutoButtonColor);
local v8 = require(l_ReplicatedStorage_0.Shared.Palette);
local v9 = require(l_ReplicatedStorage_0.Client.Gui.Utils.ClickableButton);
local _ = require(l_ReplicatedStorage_0.Client.Gui.Utils.PlayLocalSound);
local v11 = require(l_ReplicatedStorage_0.Shared.Framework.Utilities.ProductInfo);
local v12 = require(l_ReplicatedStorage_0.Shared.Constants);
local v13 = require(l_ReplicatedStorage_0.Client.Gui.Animations.ProcessingPurchase);
local v14 = require(l_ReplicatedStorage_0.Client.Gui.Utils.ItemFrame);
local v15 = require(l_ReplicatedStorage_0.Client.Effects.HatchEgg);
local l_LocalPlayer_0 = l_Players_0.LocalPlayer;
local l_ScreenGui_0 = l_LocalPlayer_0.PlayerGui.ScreenGui;
local l_Frame_0 = l_ScreenGui_0.StarterBundle.Frame;
local l_Buttons_0 = l_Frame_0.Content.Buttons;
local l_Starter_0 = l_ScreenGui_0.HUD.Left.Currency.Coins.Bundles.Starter;
local v21 = nil;
local v22 = nil;
local v23 = 0;
local v24 = {};
local function v27() --[[ Line: 34 ]] --[[ Name: cleanup ]]
    -- upvalues: v22 (ref), v24 (copy)
    if v22 then
        v22:Disconnect();
        v22 = nil;
    end;
    for v25, v26 in v24 do
        v26();
        v25:Destroy();
    end;
    table.clear(v24);
end;
local function v38() --[[ Line: 46 ]] --[[ Name: create ]]
    -- upvalues: v27 (copy), v12 (copy), v14 (copy), l_Frame_0 (copy), v24 (copy), v22 (ref), l_RunService_0 (copy), v5 (copy), v23 (ref), l_Starter_0 (copy), v6 (copy)
    v27();
    local v28 = 0;
    local v29 = 0;
    for _, v31 in v12.StarterBundle.Items do
        local v32, v33 = v14(v31, true);
        v32.Size = UDim2.fromOffset(140, 140);
        v32.Parent = l_Frame_0.Content.Items;
        v24[v32] = v33;
    end;
    v22 = l_RunService_0.Heartbeat:Connect(function(v34) --[[ Line: 58 ]]
        -- upvalues: v5 (ref), v28 (ref), v23 (ref), l_Frame_0 (ref), l_Starter_0 (ref), v27 (ref), v6 (ref), v29 (ref)
        local v35 = v5.now();
        if v35 - v28 > 0.25 then
            local v36 = v23 - v35;
            local v37 = v5.formatTime(v36);
            l_Frame_0.Timer.Text = v37;
            l_Starter_0.Button.Timer.Text = v37;
            v28 = v35;
            if v36 < 0 then
                v27();
                v6:Close();
                l_Starter_0.Visible = false;
            end;
        end;
        if v6:IsOpen("StarterBundle") then
            l_Frame_0.Parent.Radial.Rotation = v29 * 4 % 360;
            v29 = v29 + v34;
        end;
    end);
end;
v7(l_Frame_0.Close, v8.Button.Red);
v9(l_Frame_0.Close, function() --[[ Line: 81 ]]
    -- upvalues: v6 (copy)
    v6:Close();
end);
v9(l_Starter_0.Button, function() --[[ Line: 86 ]]
    -- upvalues: v6 (copy)
    v6:Open("StarterBundle");
end);
v7(l_Buttons_0.Close.Button, v8.Button.Red);
v9(l_Buttons_0.Close.Button, function() --[[ Line: 91 ]]
    -- upvalues: v6 (copy)
    v6:Close();
end);
v7(l_Buttons_0.Buy.Button, v8.Button.Green);
v9(l_Buttons_0.Buy.Button, function() --[[ Line: 96 ]]
    -- upvalues: v13 (copy), l_MarketplaceService_0 (copy), l_LocalPlayer_0 (copy), v12 (copy)
    v13:Show();
    l_MarketplaceService_0:PromptProductPurchase(l_LocalPlayer_0, v12.StarterBundle.Id);
end);
v11:ConnectProductChanged(v12.StarterBundle.Id, function(v39) --[[ Line: 101 ]]
    -- upvalues: l_Buttons_0 (copy), v12 (copy)
    l_Buttons_0.Buy.Button.Cost.Label.Text = ("%*%*"):format(v12.RobuxUnicode, v39 and v39.PriceInRobux or "__");
end);
v4:ConnectDataChanged("StarterBundle", function(v40) --[[ Line: 106 ]]
    -- upvalues: v5 (copy), v21 (ref), v15 (copy), v38 (copy), v27 (copy), v6 (copy), l_Starter_0 (copy), v23 (ref)
    local v41 = v5.now();
    local v42 = false;
    if v40.StarterBundle.FinishAt - v41 >= 0 then
        v42 = not v40.StarterBundle.Purchased;
    end;
    if v40.PolicyInfo.ArePaidRandomItemsRestricted == true then
        v42 = false;
    end;
    if v21 ~= v42 then
        if v42 then
            task.spawn(function() --[[ Line: 117 ]]
                -- upvalues: v15 (ref), v38 (ref)
                repeat
                    task.wait();
                until v15:IsHatching() == false;
                v38();
            end);
        else
            v27();
            v6:Close();
        end;
        v21 = v42;
    end;
    l_Starter_0.Visible = v42;
    v23 = v40.StarterBundle.FinishAt;
end);
return {};
ModuleScript: TradeHistory
-- Saved by UniversalSynSaveInstance (Join to Copy Games) https://discord.gg/wx4ThpAsmw

local l_ReplicatedStorage_0 = game:GetService("ReplicatedStorage");
local l_Players_0 = game:GetService("Players");
local l_LocalizationService_0 = game:GetService("LocalizationService");
local _ = require(l_ReplicatedStorage_0.Shared.Types);
local v4 = require(l_ReplicatedStorage_0.Client.Framework.Services.LocalData);
local v5 = require(l_ReplicatedStorage_0.Client.Gui.GuiFrame);
local v6 = require(l_ReplicatedStorage_0.Client.Gui.Utils.UpdateWhileGuiOpen);
local v7 = require(l_ReplicatedStorage_0.Client.Gui.Utils.AutoButtonColor);
local v8 = require(l_ReplicatedStorage_0.Client.Gui.Utils.ClickableButton);
local v9 = require(l_ReplicatedStorage_0.Shared.Palette);
local v10 = require(l_ReplicatedStorage_0.Client.Gui.Utils.ItemFrame);
local v11 = require(l_ReplicatedStorage_0.Client.Framework.Utilities.Gui.HookScrollingFrame);
local v12 = require(l_ReplicatedStorage_0.Shared.Utils.PetLevelUtil);
local v13 = require(l_ReplicatedStorage_0.Client.Gui.Tooltip);
local v14 = require(l_ReplicatedStorage_0.Shared.Data.Builders.TooltipBuilder);
local _ = require(l_ReplicatedStorage_0.Shared.Constants);
local l_LocalPlayer_0 = l_Players_0.LocalPlayer;
local l_Frame_0 = l_LocalPlayer_0.PlayerGui.ScreenGui.TradeHistory.Frame;
local l_ScrollingFrame_0 = l_Frame_0.Inner.ScrollingFrame;
local l_Template_0 = l_ScrollingFrame_0.Template;
l_Template_0.Parent = nil;
local l_Empty_0 = l_Template_0.Inner.You.Items.Empty;
l_Empty_0.Parent = nil;
local v21 = {};
local v22 = {};
local v23 = {};
local v24 = nil;
local v25 = nil;
v6("TradeHistory", "TradeHistory", function() --[[ Line: 43 ]] --[[ Name: update ]]
    -- upvalues: v23 (copy), v22 (copy), v21 (copy), v24 (ref), v4 (copy), l_LocalPlayer_0 (copy), v25 (ref), l_Template_0 (copy), v10 (copy), v12 (copy), v13 (copy), v14 (copy), l_Empty_0 (copy), l_LocalizationService_0 (copy), l_ScrollingFrame_0 (copy)
    for _, v27 in v23 do
        v27();
    end;
    for _, v29 in v22 do
        v29:Destroy();
    end;
    for _, v31 in v21 do
        v31:Destroy();
    end;
    table.clear(v23);
    table.clear(v22);
    table.clear(v21);
    local v32 = v24 or v4:Get();
    if not v32 then
        return;
    else
        for v33, v34 in v32.TradeHistory do
            local l_Party0_0 = v34.Party0;
            local l_Party1_0 = v34.Party1;
            if l_Party0_0.UserId ~= l_LocalPlayer_0.UserId and not v24 then
                local l_l_Party1_0_0 = l_Party1_0;
                l_Party1_0 = l_Party0_0;
                l_Party0_0 = l_l_Party1_0_0;
            end;
            if l_Party1_0.UserId == v25 then
                local l_l_Party1_0_1 = l_Party1_0;
                l_Party1_0 = l_Party0_0;
                l_Party0_0 = l_l_Party1_0_1;
            end;
            local v39 = l_Template_0:Clone();
            v39.LayoutOrder = v33;
            v39.Name = ("Entry%*"):format(v33);
            local v40 = "You gave";
            if v24 ~= nil then
                v40 = ("%* gave"):format(l_Party0_0.Username);
            end;
            v39.Inner.You.Title.Text = v40;
            v39.Inner.Them.Title.Text = ("%* gave"):format(l_Party1_0.Username);
            local v41 = {
                {
                    List = v39.Inner.You.Items, 
                    Items = l_Party0_0.Items
                }, 
                {
                    List = v39.Inner.Them.Items, 
                    Items = l_Party1_0.Items
                }
            };
            local v42 = math.ceil(math.max(#l_Party0_0.Items, #l_Party1_0.Items) / 4);
            for v43, v44 in v41 do
                for v45, v46 in v44.Items do
                    local v47, v48 = v10(v46);
                    table.insert(v22, v47);
                    table.insert(v23, v48);
                    local v49 = ("tradehistory/%*/%*/%*/%*/%*"):format(v46.Type, v45, v43, v34.Timestamp, v46.Name);
                    if v46.Type == "Pet" then
                        v47.Button.Inner.Label.TextSize = 22;
                        v47.Button.Inner.Secret.TextSize = 20;
                        v47.Button.Inner.Bottom.TextSize = 22;
                        v47.Button.Inner.Bottom.Text = v12:GetLevelFromXP(v46.Name, v46.XP or 0);
                        local l_Bottom_0 = v47.Button.Inner.Bottom;
                        l_Bottom_0.Position = l_Bottom_0.Position + UDim2.fromOffset(0, 2);
                    end;
                    v13:OnEnter(v47.Button, function() --[[ Line: 107 ]]
                        -- upvalues: v46 (copy), v14 (ref), v49 (copy), v24 (ref)
                        local v51 = if v46.Type == "Pet" then v14.fromPetRaw(v46) else if v46.Type == "Powerup" then v14.fromPowerupRaw(v46) else v14.fromPotionRaw(v46);
                        v51:ID(v49);
                        if v24 and v46.Type == "Pet" then
                            v51:Add({
                                Type = "Padding", 
                                Size = 10, 
                                Line = true
                            });
                            v51:Add({
                                Type = "Text", 
                                Text = v46.Id or "unknown", 
                                Size = 28
                            });
                        end;
                        return v51:Build();
                    end);
                    v47.Name = ("Item%*"):format(v45);
                    v47.Size = UDim2.fromOffset(110, 110);
                    v47.LayoutOrder = v45;
                    v47.Parent = v44.List;
                end;
                for v52 = #v44.Items + 1, v42 * 4 do
                    local v53 = l_Empty_0:Clone();
                    v53.LayoutOrder = v52;
                    v53.Parent = v44.List;
                end;
            end;
            local v54 = DateTime.fromUnixTimestamp(v34.Timestamp);
            v39.Footer.Timestamp.Text = v54:FormatLocalTime("LLL", l_LocalizationService_0.RobloxLocaleId);
            v39.Size = UDim2.new(1, 0, 0, v42 * 125 + 90);
            v39.Parent = l_ScrollingFrame_0;
            table.insert(v21, v39);
        end;
        return;
    end;
end);
v11(l_ScrollingFrame_0, l_ScrollingFrame_0.UIListLayout);
local v55 = {};
local v56 = nil;
v55.Open = function(_, v58, v59, v60) --[[ Line: 164 ]] --[[ Name: Open ]]
    -- upvalues: v56 (ref), v24 (ref), v25 (ref), v5 (copy), l_Frame_0 (copy)
    v56 = v58;
    v24 = v59;
    v25 = v60;
    v5:Open("TradeHistory");
    if v59 then
        l_Frame_0.Size = UDim2.new(0, 1100, 1, -200);
        return;
    else
        l_Frame_0.Size = UDim2.new(0, 1100, 0, 650);
        return;
    end;
end;
v5:BindOnClosed("TradeHistory", function() --[[ Line: 177 ]]
    -- upvalues: v56 (ref), v24 (ref), v25 (ref)
    v56 = nil;
    v24 = nil;
    v25 = nil;
end);
v7(l_Frame_0.Top.Close.Button, v9.Button.Red);
v8(l_Frame_0.Top.Close.Button, function() --[[ Line: 185 ]]
    -- upvalues: v56 (ref), v5 (copy), v24 (ref), v25 (ref)
    if v56 then
        v5:Open(v56);
    else
        v5:Close();
    end;
    v56 = nil;
    v24 = nil;
    v25 = nil;
end);
return v55;
ModuleScript: Trading 
-- Saved by UniversalSynSaveInstance (Join to Copy Games) https://discord.gg/wx4ThpAsmw

local l_Players_0 = game:GetService("Players");
local l_ReplicatedStorage_0 = game:GetService("ReplicatedStorage");
local l_Workspace_0 = game:GetService("Workspace");
local l_TweenService_0 = game:GetService("TweenService");
local v4 = require(l_ReplicatedStorage_0.Shared.Framework.Network.Remote);
local _ = require(l_ReplicatedStorage_0.Shared.Types);
local v6 = require(l_ReplicatedStorage_0.Client.Gui.GuiFrame);
local v7 = require(l_ReplicatedStorage_0.Shared.Constants);
local v8 = require(l_ReplicatedStorage_0.Client.Framework.Classes.VirtualGrid);
local v9 = require(l_ReplicatedStorage_0.Shared.Framework.Classes.Pool);
local v10 = require(l_ReplicatedStorage_0.Client.Gui.Utils.ClickableButton);
local v11 = require(l_ReplicatedStorage_0.Client.Gui.PetEntryAppearance);
local v12 = require(l_ReplicatedStorage_0.Shared.Utils.AnimateColor);
local v13 = require(l_ReplicatedStorage_0.Client.Gui.Utils.Shiny);
local v14 = require(l_ReplicatedStorage_0.Shared.Data.Pets);
local v15 = require(l_ReplicatedStorage_0.Shared.Utils.SortPetsList);
local v16 = require(l_ReplicatedStorage_0.Shared.Data.Builders.TooltipBuilder);
local v17 = require(l_ReplicatedStorage_0.Client.Gui.Tooltip);
local v18 = require(l_ReplicatedStorage_0.Client.Gui.Utils.AutoButtonColor);
local v19 = require(l_ReplicatedStorage_0.Shared.Palette);
local v20 = require(l_ReplicatedStorage_0.Shared.Utils.Stats.ItemUtil);
local v21 = require(l_ReplicatedStorage_0.Shared.Framework.Utilities.String.FormatCommas);
local v22 = require(l_ReplicatedStorage_0.Shared.Data.Potions);
local v23 = require(l_ReplicatedStorage_0.Client.Gui.Utils.ItemFrame);
local v24 = require(l_ReplicatedStorage_0.Shared.Utils.RichText);
local v25 = require(l_ReplicatedStorage_0.Shared.Framework.Utilities.String.FormatSuffix);
local v26 = require(l_ReplicatedStorage_0.Client.Framework.Utilities.Gui.HookScrollingFrame);
local v27 = require(l_ReplicatedStorage_0.Client.Framework.Services.LocalData);
local v28 = require(l_ReplicatedStorage_0.Shared.Data.Powerups);
local v29 = require(l_ReplicatedStorage_0.Client.Gui.Utils.UpdateWhileGuiOpen);
local v30 = require(l_ReplicatedStorage_0.Client.PetRender);
local v31 = require(l_ReplicatedStorage_0.Client.Gui.Frames.TradeHistory);
local v32 = require(l_ReplicatedStorage_0.Shared.Utils.Stats.StatsUtil);
local l_LocalPlayer_0 = l_Players_0.LocalPlayer;
local l_ScreenGui_0 = l_LocalPlayer_0.PlayerGui.ScreenGui;
local l_Trading_0 = l_ScreenGui_0.Trading;
local l_TradingMenu_0 = l_ScreenGui_0.TradingMenu;
local l_Frame_0 = l_Trading_0.Frame;
local l_Frame_1 = l_TradingMenu_0.Frame;
local v39 = {};
local v40 = nil;
local v41 = {};
local v42 = nil;
local v43 = nil;
local v44 = nil;
local v45 = nil;
local v46 = nil;
local v47 = nil;
local v48 = nil;
local l_Chat_0 = l_Frame_0.Top.Chat;
local v50 = false;
local l_Chat_1 = l_Frame_0.Inner.Chat;
local l_ScrollingFrame_0 = l_Chat_1.ScrollingFrame;
local l_Template_0 = l_ScrollingFrame_0.Template;
l_Template_0.Parent = nil;
l_ScrollingFrame_0.Template2.Parent = nil;
local v54 = {};
local v55 = 0;
do
    local l_v50_0, l_v55_0 = v50, v55;
    v42 = function() --[[ Line: 82 ]] --[[ Name: isChatOpen ]]
        -- upvalues: l_v50_0 (ref)
        return l_v50_0;
    end;
    local l_v54_0 = v54 --[[ copy: 54 -> 90 ]];
    local l_l_Template_0_0 = l_Template_0 --[[ copy: 53 -> 91 ]];
    local l_l_ScrollingFrame_0_0 = l_ScrollingFrame_0 --[[ copy: 52 -> 92 ]];
    v44 = function(v61, v62) --[[ Line: 86 ]] --[[ Name: addChatMessage ]]
        -- upvalues: l_v54_0 (copy), l_l_Template_0_0 (copy), l_LocalPlayer_0 (copy), l_ScreenGui_0 (copy), l_l_ScrollingFrame_0_0 (copy)
        local v63 = #l_v54_0 + 1;
        local v64 = l_l_Template_0_0:Clone();
        v64.LayoutOrder = v63;
        v64.Visual.TextLabel.Text = v62;
        local v65 = v61 == l_LocalPlayer_0;
        v64.Name = v61.Name;
        v64.Visual.AnchorPoint = if v65 then Vector2.new(1, 0) else Vector2.new(0, 0);
        v64.Visual.Position = if v65 then UDim2.fromScale(1, 0) else UDim2.fromOffset(55, 0);
        v64.Visual.TextLabel.AnchorPoint = if v65 then Vector2.new(1, 0) else Vector2.new(0, 0);
        v64.Visual.TextLabel.Position = if v65 then UDim2.fromScale(1, 0) else UDim2.fromScale(0, 0);
        v64.Visual.TextLabel.TextXAlignment = if v65 then Enum.TextXAlignment.Right else Enum.TextXAlignment.Left;
        v64.Visual.BackgroundColor3 = if v65 then Color3.fromRGB(0, 166, 236) else Color3.fromRGB(233, 233, 235);
        v64.Visual.UIStroke.Color = if v65 then Color3.fromRGB(0, 41, 94) else Color3.fromRGB(50, 50, 50);
        v64.Visual.TextLabel.TextColor3 = if v65 then Color3.fromRGB(255, 255, 255) else Color3.fromRGB(17, 17, 17);
        v64.Visual.TextLabel.TextStrokeTransparency = v65 and 0.5 or 1;
        local l_UserId_0 = v61.UserId;
        if l_UserId_0 == -1 then
            l_UserId_0 = 941072;
        elseif l_UserId_0 == -2 then
            l_UserId_0 = 15319024;
        end;
        v64.Icon.Visible = not v65 and (v63 == 1 or l_v54_0[v63 - 1].Name ~= v61.Name);
        v64.Icon.Image = ("rbxthumb://type=AvatarBust&w=50&h=50&id=%*"):format(l_UserId_0);
        task.defer(function() --[[ Line: 113 ]]
            -- upvalues: v64 (copy), l_ScreenGui_0 (ref)
            if v64.Parent then
                local v67 = v64.Visual.TextLabel.TextBounds / l_ScreenGui_0.UIScale.Scale;
                local v68 = math.ceil(v67.X + 20);
                local v69 = math.ceil(v67.Y + 12);
                v64.Size = UDim2.new(1, 0, 0, v69);
                v64.Visual.Size = UDim2.new(0, v68, 1, 0);
                v64.Visual.TextLabel.Size = UDim2.fromOffset(v68, v69);
            end;
        end);
        l_v54_0[v63] = v64;
        v64.Parent = l_l_ScrollingFrame_0_0;
        task.defer(function() --[[ Line: 127 ]]
            -- upvalues: l_l_ScrollingFrame_0_0 (ref), l_ScreenGui_0 (ref)
            local v70 = l_l_ScrollingFrame_0_0.UIListLayout.AbsoluteContentSize.Y - l_l_ScrollingFrame_0_0.AbsoluteWindowSize.Y;
            l_l_ScrollingFrame_0_0.CanvasPosition = Vector2.new(0, v70 / l_ScreenGui_0.UIScale.Scale);
        end);
    end;
    v45 = function() --[[ Line: 135 ]] --[[ Name: addChatNotification ]]
        -- upvalues: v42 (ref), l_v55_0 (ref), l_Chat_0 (copy)
        if not v42() then
            l_v55_0 = l_v55_0 + 1;
            l_Chat_0.Notification.Visible = true;
            l_Chat_0.Notification.Label.Text = l_v55_0 > 9 and "!" or l_v55_0;
        end;
    end;
    v46 = function() --[[ Line: 143 ]] --[[ Name: clearChatNotifications ]]
        -- upvalues: l_v55_0 (ref), l_Chat_0 (copy)
        l_v55_0 = 0;
        l_Chat_0.Notification.Visible = false;
    end;
    local l_l_Chat_1_0 = l_Chat_1 --[[ copy: 51 -> 93 ]];
    v43 = function(v72) --[[ Line: 148 ]] --[[ Name: setChatOpen ]]
        -- upvalues: l_l_Chat_1_0 (copy), l_Frame_0 (copy), l_v50_0 (ref), v17 (copy), l_Chat_0 (copy)
        l_l_Chat_1_0.Visible = v72;
        l_Frame_0.Inner.Offers.Visible = not v72;
        l_v50_0 = v72;
        if v72 == false then
            l_l_Chat_1_0.TextBox:ReleaseFocus(false);
        else
            v17:Hide();
        end;
        l_Chat_0.Button.Label.Text = v72 and "Offers" or "Chat";
    end;
    v47 = function() --[[ Line: 160 ]] --[[ Name: clearChat ]]
        -- upvalues: l_v54_0 (copy), v46 (ref), l_Chat_0 (copy)
        for _, v74 in l_v54_0 do
            v74:Destroy();
        end;
        table.clear(l_v54_0);
        v46();
        l_Chat_0.Button.Label.Text = "Chat";
    end;
    v26(l_ScrollingFrame_0, l_ScrollingFrame_0.UIListLayout);
    v10(l_Chat_0.Button, function() --[[ Line: 171 ]]
        -- upvalues: v46 (ref), v43 (ref), v42 (ref)
        v46();
        v43(not v42());
    end);
    v10(l_Chat_1.Close.Button, function() --[[ Line: 176 ]]
        -- upvalues: v43 (ref)
        v43(false);
    end);
    local v75 = false;
    local l_TextBox_0 = l_Chat_1.TextBox;
    local l_l_TextBox_0_0 = l_TextBox_0 --[[ copy: 57 -> 94 ]];
    l_TextBox_0.FocusLost:Connect(function(v78, _) --[[ Line: 182 ]]
        -- upvalues: v75 (ref), v40 (ref), l_l_TextBox_0_0 (copy), v7 (copy)
        if v75 then
            return;
        else
            if v78 then
                local v80 = if v40 then v40.ChatChannel else nil;
                if not v80 then
                    return;
                else
                    v75 = true;
                    pcall(function() --[[ Line: 195 ]]
                        -- upvalues: v80 (copy), l_l_TextBox_0_0 (ref)
                        return v80:SendAsync(l_l_TextBox_0_0.Text);
                    end);
                    l_l_TextBox_0_0.Text = "";
                    l_l_TextBox_0_0.TextTransparency = 0.5;
                    l_l_TextBox_0_0.PlaceholderText = "Please wait...";
                    l_l_TextBox_0_0.TextEditable = false;
                    task.wait(v7.TradeChatCooldown);
                    l_l_TextBox_0_0.TextTransparency = 0;
                    l_l_TextBox_0_0.PlaceholderText = "Tap here to chat...";
                    l_l_TextBox_0_0.TextEditable = true;
                    v75 = false;
                end;
            end;
            return;
        end;
    end);
end;
v50 = {
    None = "", 
    Data = "Your data is still loading!", 
    Policy = "Your country does not allow trading. Sorry!", 
    Unlock = ("Hatch %* eggs to begin trading!"):format((v21(v7.TradeEggsRequirement))), 
    Other = "Could not load information. Please try again in a minute!", 
    GloballyDisabled = "Trading is currently globally disabled!", 
    PrivateServer = "Trading is not allowed in private/VIP servers!", 
    AlreadyTrading = "You are already trading!", 
    AccountDisabled = "Trading is currently disabled for your account.", 
    Cooldown = "Trading on cooldown! Wait a bit and try again.", 
    Space = "Not enough inventory space to trade!"
};
l_Chat_1 = function() --[[ Line: 229 ]] --[[ Name: getTradeEligibilty ]]
    -- upvalues: v27 (copy), v50 (copy), v7 (copy), v40 (ref), l_LocalPlayer_0 (copy), v32 (copy)
    local v81 = v27:Get();
    if not v81 then
        return v50.Data;
    elseif v81.PolicyInfo.IsPaidItemTradingAllowed ~= true then
        return v50.Policy;
    elseif v81.Stats.Hatches < v7.TradeEggsRequirement then
        return v50.Unlock;
    else
        local l_workspace_Attribute_0 = workspace:GetAttribute("PrivateServerId");
        local l_workspace_Attribute_1 = workspace:GetAttribute("TradingEnabled");
        if l_workspace_Attribute_1 == nil or l_workspace_Attribute_0 == nil then
            return v50.Other;
        elseif l_workspace_Attribute_1 == false then
            return v50.GloballyDisabled;
        elseif l_workspace_Attribute_0 ~= "" then
            return v50.PrivateServer;
        elseif v40 ~= nil then
            return v50.AlreadyTrading;
        elseif v81.TradeModeration.Banned == true then
            return v50.AccountDisabled;
        else
            local v84 = {};
            for _, v86 in v81.Pets do
                if v84[v86.Id] then
                    return v50.AccountDisabled;
                else
                    v84[v86.Id] = true;
                end;
            end;
            local l_workspace_ServerTimeNow_0 = workspace:GetServerTimeNow();
            local l_l_LocalPlayer_0_Attribute_0 = l_LocalPlayer_0:GetAttribute("TradeCooldown");
            if l_l_LocalPlayer_0_Attribute_0 and l_workspace_ServerTimeNow_0 < l_l_LocalPlayer_0_Attribute_0 then
                return v50.Cooldown;
            elseif not v32:HasSpaceToTrade(v81) then
                return v50.Space;
            else
                return v50.None;
            end;
        end;
    end;
end;
l_ScrollingFrame_0 = function(v89) --[[ Line: 278 ]] --[[ Name: hookSearchBar ]]
    local v90 = "";
    local l_BindableEvent_0 = Instance.new("BindableEvent");
    v89:GetPropertyChangedSignal("Text"):Connect(function() --[[ Line: 282 ]]
        -- upvalues: v89 (copy), v90 (ref), l_BindableEvent_0 (copy)
        local v92 = string.lower((string.match(v89.Text, "^%s*(.-)%s*$")));
        if v90 ~= v92 then
            v90 = v92;
            l_BindableEvent_0:Fire(v92);
        end;
    end);
    return {
        Changed = l_BindableEvent_0.Event, 
        GetText = function(_) --[[ Line: 293 ]] --[[ Name: GetText ]]
            -- upvalues: v90 (ref)
            return v90;
        end, 
        ClearText = function(_) --[[ Line: 297 ]] --[[ Name: ClearText ]]
            -- upvalues: v89 (copy)
            v89.Text = "";
        end, 
        SetEnabled = function(_, v96) --[[ Line: 301 ]] --[[ Name: SetEnabled ]]
            -- upvalues: v89 (copy)
            v89.TextEditable = v96;
        end
    };
end;
l_Template_0 = l_ScrollingFrame_0(l_Frame_0.Inner.You.Search.Bar.TextBox);
v54 = l_ScrollingFrame_0(l_Frame_0.Inner.Them.Search.Bar.TextBox);
v55 = "Pets";
local v97 = "Pets";
local v98 = nil;
local l_Buttons_0 = l_Frame_0.Inner.You.Buttons;
local l_Buttons_1 = l_Frame_0.Inner.Them.Buttons;
local l_Default_0 = v19.Button.Default;
local l_Inactive_0 = v19.Button.Inactive;
local l_l_Buttons_0_0 = l_Buttons_0 --[[ copy: 58 -> 95 ]];
local l_l_Default_0_0 = l_Default_0 --[[ copy: 60 -> 96 ]];
local l_l_Inactive_0_0 = l_Inactive_0 --[[ copy: 61 -> 97 ]];
local l_l_Buttons_1_0 = l_Buttons_1 --[[ copy: 59 -> 98 ]];
v98 = function() --[[ Line: 326 ]] --[[ Name: updateTabs ]]
    -- upvalues: l_Frame_0 (copy), v55 (ref), v97 (ref), v18 (copy), l_l_Buttons_0_0 (copy), l_l_Default_0_0 (copy), l_l_Inactive_0_0 (copy), l_l_Buttons_1_0 (copy)
    l_Frame_0.Inner.You.Holder.Pets.Visible = v55 == "Pets";
    l_Frame_0.Inner.You.Holder.Items.Visible = v55 == "Items";
    l_Frame_0.Inner.Them.Holder.Pets.Visible = v97 == "Pets";
    l_Frame_0.Inner.Them.Holder.Items.Visible = v97 == "Items";
    v18(l_l_Buttons_0_0.Pets.Button, if v55 == "Pets" then l_l_Default_0_0 else l_l_Inactive_0_0);
    v18(l_l_Buttons_1_0.Pets.Button, if v97 == "Pets" then l_l_Default_0_0 else l_l_Inactive_0_0);
end;
v10(l_Buttons_0.Pets.Button, function() --[[ Line: 340 ]]
    -- upvalues: v55 (ref), v17 (copy), v98 (ref), l_Template_0 (copy)
    v55 = "Pets";
    v17:Hide();
    v98();
    l_Template_0:ClearText();
end);
v10(l_Buttons_1.Pets.Button, function() --[[ Line: 353 ]]
    -- upvalues: v97 (ref), v17 (copy), v98 (ref), v54 (copy)
    v97 = "Pets";
    v17:Hide();
    v98();
    v54:ClearText();
end);
v98();
l_Buttons_0 = l_Frame_0.Inner.You.Holder.Pets.Template;
l_Buttons_0.Parent = nil;
l_Buttons_1 = function(v107) --[[ Line: 376 ]] --[[ Name: cleanupPetEntry ]]
    -- upvalues: v11 (copy), v12 (copy), v13 (copy)
    v11.animatedGradients[v107.Inner.Background.UIGradient] = nil;
    v12.None(v107.Inner.Button);
    v12.None(v107.Inner.Button.Inner);
    v13:Remove(v107.Inner.Effect);
end;
l_Default_0 = {};
l_Inactive_0 = function(v108, v109) --[[ Line: 387 ]] --[[ Name: getPotionId ]]
    return (("Potion/%*"):format(if v109 then ("%*/%*"):format(v108, v109) else v108));
end;
local function v131(v110, v111, v112) --[[ Line: 392 ]] --[[ Name: makeEntry ]]
    -- upvalues: v23 (copy), v22 (copy), l_Buttons_0 (copy), v10 (copy), v17 (copy), v27 (copy), v40 (ref), v16 (copy), v7 (copy), v18 (copy), v19 (copy), v4 (copy)
    local v113 = ("Potion/%*"):format(if v111 then ("%*/%*"):format(v110, v111) else v110);
    local v114 = {
        Type = "Potion", 
        Name = v110, 
        Level = v111
    };
    local v115, _ = v23(v114);
    v115.Name = v110;
    v115.LayoutOrder = v22[v110].LayoutOrder * 100 + (v111 or 0);
    local v117 = l_Buttons_0.Inner.Button.Offered:Clone();
    v117.Visible = false;
    v117.Parent = v115.Button;
    v10(v115.Button, function() --[[ Line: 409 ]]
        -- upvalues: v113 (copy), v17 (ref), v27 (ref), v40 (ref), v110 (copy), v111 (copy), v114 (copy), v112 (copy), v16 (ref), v7 (ref), v18 (ref), v19 (ref), v10 (ref), v4 (ref)
        local v118 = ("%*/inventory"):format(v113);
        if v17:GetId() == v118 then
            return v17:Hide();
        else
            local v119 = v27:Get();
            if not v119 then
                return;
            elseif not v40 then
                return;
            else
                local v120 = 0;
                for _, v122 in v119.Potions do
                    if v122.Name == v110 and v122.Level == v111 then
                        v120 = v122.Amount;
                        break;
                    end;
                end;
                v114.Amount = v120;
                local v123 = 0;
                local v124 = if v112 then v40.Party0.Offer else v40.Party1.Offer;
                for _, v126 in v124 do
                    if v126.Type == "Potion" and v126.Name == v110 and v126.Level == v111 then
                        v123 = v123 + 1;
                    end;
                end;
                local v127 = v16.fromPotionRaw(v114);
                v127:ID(v118);
                if v112 then
                    if v123 < v120 and #v124 < v7.TradingSlots then
                        v127:Add({
                            Type = "Button", 
                            Callback = function(v128) --[[ Line: 444 ]] --[[ Name: Callback ]]
                                -- upvalues: v18 (ref), v19 (ref), v10 (ref), v4 (ref), v110 (ref), v111 (ref), v17 (ref)
                                v128.Action.Button.Label.Text = "Offer";
                                v18(v128.Action.Button, v19.Button.Green);
                                v10(v128.Action.Button, function() --[[ Line: 447 ]]
                                    -- upvalues: v4 (ref), v110 (ref), v111 (ref), v17 (ref)
                                    v4:FireServer("TradeAddPotion", v110, v111);
                                    v17:Hide();
                                end);
                            end
                        });
                    end;
                    if v123 > 0 then
                        v127:Add({
                            Type = "Button", 
                            Callback = function(v129) --[[ Line: 455 ]] --[[ Name: Callback ]]
                                -- upvalues: v18 (ref), v19 (ref), v10 (ref), v4 (ref), v110 (ref), v111 (ref), v17 (ref)
                                v129.Action.Button.Label.Text = "Remove";
                                v18(v129.Action.Button, v19.Button.Purple);
                                v10(v129.Action.Button, function() --[[ Line: 458 ]]
                                    -- upvalues: v4 (ref), v110 (ref), v111 (ref), v17 (ref)
                                    v4:FireServer("TradeRemovePotion", v110, v111);
                                    v17:Hide();
                                end);
                            end
                        });
                    end;
                end;
                v127:Add({
                    Type = "Button", 
                    Callback = function(v130) --[[ Line: 466 ]] --[[ Name: Callback ]]
                        -- upvalues: v18 (ref), v19 (ref), v10 (ref), v17 (ref)
                        v130.Action.Button.Label.Text = "Close";
                        v18(v130.Action.Button, v19.Button.Red);
                        v10(v130.Action.Button, function() --[[ Line: 469 ]]
                            -- upvalues: v17 (ref)
                            v17:Hide();
                        end);
                    end
                });
                v17:Apply(v127:Build());
                return;
            end;
        end;
    end);
    v115.Visible = false;
    return v113, v115;
end;
for v132 = 1, 2 do
    local v133 = {};
    local l_Items_0 = l_Frame_0.Inner.You.Holder.Items;
    if v132 == 2 then
        l_Items_0 = l_Frame_0.Inner.Them.Holder.Items;
    end;
    for v135, v136 in v22 do
        if #v136.Buff.Expiry > 1 then
            for v137 = 1, v7.PotionMaxLevel do
                local v138, v139 = v131(v135, v137, v132 == 1);
                v139.Parent = l_Items_0;
                v133[v138] = v139;
            end;
        else
            local v140, v141 = v131(v135, nil, v132 == 1);
            v141.Parent = l_Items_0;
            v133[v140] = v141;
        end;
    end;
    l_Default_0[v132] = v133;
end;
v131 = {};
local function v159(v142, v143) --[[ Line: 510 ]] --[[ Name: makeEntry ]]
    -- upvalues: v23 (copy), v28 (copy), l_Buttons_0 (copy), v10 (copy), v17 (copy), v27 (copy), v40 (ref), v16 (copy), v7 (copy), v18 (copy), v19 (copy), v4 (copy)
    local v144 = {
        Type = "Powerup", 
        Name = v142
    };
    local v145, _ = v23(v144);
    v145.Name = v142;
    v145.LayoutOrder = v28[v142].LayoutOrder * 100 + 100000;
    local v147 = l_Buttons_0.Inner.Button.Offered:Clone();
    v147.Visible = false;
    v147.Parent = v145.Button;
    v10(v145.Button, function() --[[ Line: 526 ]]
        -- upvalues: v142 (copy), v17 (ref), v27 (ref), v40 (ref), v142 (copy), v144 (copy), v143 (copy), v16 (ref), v7 (ref), v18 (ref), v19 (ref), v10 (ref), v4 (ref)
        local v148 = ("%*/inventory"):format(v142);
        if v17:GetId() == v148 then
            return v17:Hide();
        else
            local v149 = v27:Get();
            if not v149 then
                return;
            elseif not v40 then
                return;
            else
                local v150 = v149.Powerups[v142] or 0;
                v144.Amount = v150;
                local v151 = 0;
                local v152 = if v143 then v40.Party0.Offer else v40.Party1.Offer;
                for _, v154 in v152 do
                    if v154.Type == "Powerup" and v154.Name == v142 then
                        v151 = v151 + 1;
                    end;
                end;
                local v155 = v16.fromPowerupRaw(v144);
                v155:ID(v148);
                if v143 then
                    if v151 < v150 and #v152 < v7.TradingSlots then
                        v155:Add({
                            Type = "Button", 
                            Callback = function(v156) --[[ Line: 555 ]] --[[ Name: Callback ]]
                                -- upvalues: v18 (ref), v19 (ref), v10 (ref), v4 (ref), v142 (ref), v17 (ref)
                                v156.Action.Button.Label.Text = "Offer";
                                v18(v156.Action.Button, v19.Button.Green);
                                v10(v156.Action.Button, function() --[[ Line: 558 ]]
                                    -- upvalues: v4 (ref), v142 (ref), v17 (ref)
                                    v4:FireServer("TradeAddPowerup", v142);
                                    v17:Hide();
                                end);
                            end
                        });
                    end;
                    if v151 > 0 then
                        v155:Add({
                            Type = "Button", 
                            Callback = function(v157) --[[ Line: 566 ]] --[[ Name: Callback ]]
                                -- upvalues: v18 (ref), v19 (ref), v10 (ref), v4 (ref), v142 (ref), v17 (ref)
                                v157.Action.Button.Label.Text = "Remove";
                                v18(v157.Action.Button, v19.Button.Purple);
                                v10(v157.Action.Button, function() --[[ Line: 569 ]]
                                    -- upvalues: v4 (ref), v142 (ref), v17 (ref)
                                    v4:FireServer("TradeRemovePowerup", v142);
                                    v17:Hide();
                                end);
                            end
                        });
                    end;
                end;
                v155:Add({
                    Type = "Button", 
                    Callback = function(v158) --[[ Line: 577 ]] --[[ Name: Callback ]]
                        -- upvalues: v18 (ref), v19 (ref), v10 (ref), v17 (ref)
                        v158.Action.Button.Label.Text = "Close";
                        v18(v158.Action.Button, v19.Button.Red);
                        v10(v158.Action.Button, function() --[[ Line: 580 ]]
                            -- upvalues: v17 (ref)
                            v17:Hide();
                        end);
                    end
                });
                v17:Apply(v155:Build());
                return;
            end;
        end;
    end);
    v145.Visible = false;
    return v142, v145;
end;
for v160 = 1, 2 do
    local v161 = {};
    local l_Items_1 = l_Frame_0.Inner.You.Holder.Items;
    if v160 == 2 then
        l_Items_1 = l_Frame_0.Inner.Them.Holder.Items;
    end;
    for v163, _ in v28 do
        local v165, v166 = v159(v163, v160 == 1);
        v166.Parent = l_Items_1;
        v161[v165] = v166;
    end;
    v131[v160] = v161;
end;
v159 = function(v167) --[[ Line: 613 ]] --[[ Name: makePetPoolCallback ]]
    -- upvalues: l_Buttons_0 (copy), v10 (copy), v40 (ref), v17 (copy), v16 (copy), v7 (copy), v18 (copy), v19 (copy), v4 (copy)
    return function() --[[ Line: 614 ]]
        -- upvalues: l_Buttons_0 (ref), v10 (ref), v40 (ref), v167 (copy), v17 (ref), v16 (ref), v7 (ref), v18 (ref), v19 (ref), v4 (ref)
        local v168 = l_Buttons_0:Clone();
        v10(v168.Inner.Button, function() --[[ Line: 617 ]]
            -- upvalues: v40 (ref), v167 (ref), v168 (copy), v17 (ref), v16 (ref), v7 (ref), v18 (ref), v19 (ref), v10 (ref), v4 (ref)
            if not v40 then
                return;
            else
                local v169 = if v167 then v40.Party0 else v40.Party1;
                local l_Name_0 = v168.Name;
                local v171, _ = unpack(string.split(l_Name_0, ":"));
                local v173 = ("%*/inventory"):format(l_Name_0);
                if v17:GetId() == v173 then
                    return v17:Hide();
                else
                    local l_Offer_0 = v169.Offer;
                    local v175 = 0;
                    for _, v177 in l_Offer_0 do
                        if v177.Type == "Pet" and v177.Id == l_Name_0 then
                            v175 = v175 + 1;
                        end;
                    end;
                    local v178 = nil;
                    for _, v180 in v169.Inventory.Pets do
                        if v180.Id == v171 then
                            v178 = v180;
                            break;
                        end;
                    end;
                    if not v178 then
                        return;
                    else
                        local _ = v175 > 0;
                        local v182 = (v178.Amount or 1) - v175;
                        local v183 = v16.fromPetRaw(v178);
                        v183:ID(v173);
                        if v167 then
                            if (v175 <= 0 or v182 > 0) and #l_Offer_0 < v7.TradingSlots then
                                v183:Add({
                                    Type = "Button", 
                                    Callback = function(v184) --[[ Line: 659 ]] --[[ Name: Callback ]]
                                        -- upvalues: v18 (ref), v19 (ref), v10 (ref), v4 (ref), l_Name_0 (copy), v17 (ref)
                                        v184.Action.Button.Label.Text = "Offer";
                                        v18(v184.Action.Button, v19.Button.Green);
                                        v10(v184.Action.Button, function() --[[ Line: 662 ]]
                                            -- upvalues: v4 (ref), l_Name_0 (ref), v17 (ref)
                                            v4:FireServer("TradeAddPet", l_Name_0);
                                            v17:Hide();
                                        end);
                                    end
                                });
                            end;
                            if v175 > 0 then
                                v183:Add({
                                    Type = "Button", 
                                    Callback = function(v185) --[[ Line: 670 ]] --[[ Name: Callback ]]
                                        -- upvalues: v18 (ref), v19 (ref), v10 (ref), v4 (ref), l_Name_0 (copy), v17 (ref)
                                        v185.Action.Button.Label.Text = "Remove";
                                        v18(v185.Action.Button, v19.Button.Purple);
                                        v10(v185.Action.Button, function() --[[ Line: 673 ]]
                                            -- upvalues: v4 (ref), l_Name_0 (ref), v17 (ref)
                                            v4:FireServer("TradeRemovePet", l_Name_0);
                                            v17:Hide();
                                        end);
                                    end
                                });
                            end;
                        end;
                        v183:Add({
                            Type = "Button", 
                            Callback = function(v186) --[[ Line: 681 ]] --[[ Name: Callback ]]
                                -- upvalues: v18 (ref), v19 (ref), v10 (ref), v17 (ref)
                                v186.Action.Button.Label.Text = "Close";
                                v18(v186.Action.Button, v19.Button.Red);
                                v10(v186.Action.Button, function() --[[ Line: 684 ]]
                                    -- upvalues: v17 (ref)
                                    v17:Hide();
                                end);
                            end
                        });
                        v17:Apply(v183:Build());
                        return;
                    end;
                end;
            end;
        end);
        return v168;
    end;
end;
local l_new_0 = v9.new;
local v188 = true;
local l_v188_0 = v188 --[[ copy: 66 -> 99 ]];
l_new_0 = l_new_0(function() --[[ Line: 614 ]]
    -- upvalues: l_Buttons_0 (copy), v10 (copy), v40 (ref), l_v188_0 (copy), v17 (copy), v16 (copy), v7 (copy), v18 (copy), v19 (copy), v4 (copy)
    local v190 = l_Buttons_0:Clone();
    v10(v190.Inner.Button, function() --[[ Line: 617 ]]
        -- upvalues: v40 (ref), l_v188_0 (ref), v190 (copy), v17 (ref), v16 (ref), v7 (ref), v18 (ref), v19 (ref), v10 (ref), v4 (ref)
        if not v40 then
            return;
        else
            local v191 = if l_v188_0 then v40.Party0 else v40.Party1;
            local l_Name_1 = v190.Name;
            local v193, _ = unpack(string.split(l_Name_1, ":"));
            local v195 = ("%*/inventory"):format(l_Name_1);
            if v17:GetId() == v195 then
                return v17:Hide();
            else
                local l_Offer_1 = v191.Offer;
                local v197 = 0;
                for _, v199 in l_Offer_1 do
                    if v199.Type == "Pet" and v199.Id == l_Name_1 then
                        v197 = v197 + 1;
                    end;
                end;
                local v200 = nil;
                for _, v202 in v191.Inventory.Pets do
                    if v202.Id == v193 then
                        v200 = v202;
                        break;
                    end;
                end;
                if not v200 then
                    return;
                else
                    local _ = v197 > 0;
                    local v204 = (v200.Amount or 1) - v197;
                    local v205 = v16.fromPetRaw(v200);
                    v205:ID(v195);
                    if l_v188_0 then
                        if (v197 <= 0 or v204 > 0) and #l_Offer_1 < v7.TradingSlots then
                            v205:Add({
                                Type = "Button", 
                                Callback = function(v206) --[[ Line: 659 ]] --[[ Name: Callback ]]
                                    -- upvalues: v18 (ref), v19 (ref), v10 (ref), v4 (ref), l_Name_1 (copy), v17 (ref)
                                    v206.Action.Button.Label.Text = "Offer";
                                    v18(v206.Action.Button, v19.Button.Green);
                                    v10(v206.Action.Button, function() --[[ Line: 662 ]]
                                        -- upvalues: v4 (ref), l_Name_1 (ref), v17 (ref)
                                        v4:FireServer("TradeAddPet", l_Name_1);
                                        v17:Hide();
                                    end);
                                end
                            });
                        end;
                        if v197 > 0 then
                            v205:Add({
                                Type = "Button", 
                                Callback = function(v207) --[[ Line: 670 ]] --[[ Name: Callback ]]
                                    -- upvalues: v18 (ref), v19 (ref), v10 (ref), v4 (ref), l_Name_1 (copy), v17 (ref)
                                    v207.Action.Button.Label.Text = "Remove";
                                    v18(v207.Action.Button, v19.Button.Purple);
                                    v10(v207.Action.Button, function() --[[ Line: 673 ]]
                                        -- upvalues: v4 (ref), l_Name_1 (ref), v17 (ref)
                                        v4:FireServer("TradeRemovePet", l_Name_1);
                                        v17:Hide();
                                    end);
                                end
                            });
                        end;
                    end;
                    v205:Add({
                        Type = "Button", 
                        Callback = function(v208) --[[ Line: 681 ]] --[[ Name: Callback ]]
                            -- upvalues: v18 (ref), v19 (ref), v10 (ref), v17 (ref)
                            v208.Action.Button.Label.Text = "Close";
                            v18(v208.Action.Button, v19.Button.Red);
                            v10(v208.Action.Button, function() --[[ Line: 684 ]]
                                -- upvalues: v17 (ref)
                                v17:Hide();
                            end);
                        end
                    });
                    v17:Apply(v205:Build());
                    return;
                end;
            end;
        end;
    end);
    return v190;
end, l_Buttons_1);
local l_new_1 = v9.new;
local v210 = false;
local l_v210_0 = v210 --[[ copy: 67 -> 100 ]];
l_new_1 = l_new_1(function() --[[ Line: 614 ]]
    -- upvalues: l_Buttons_0 (copy), v10 (copy), v40 (ref), l_v210_0 (copy), v17 (copy), v16 (copy), v7 (copy), v18 (copy), v19 (copy), v4 (copy)
    local v212 = l_Buttons_0:Clone();
    v10(v212.Inner.Button, function() --[[ Line: 617 ]]
        -- upvalues: v40 (ref), l_v210_0 (ref), v212 (copy), v17 (ref), v16 (ref), v7 (ref), v18 (ref), v19 (ref), v10 (ref), v4 (ref)
        if not v40 then
            return;
        else
            local v213 = if l_v210_0 then v40.Party0 else v40.Party1;
            local l_Name_2 = v212.Name;
            local v215, _ = unpack(string.split(l_Name_2, ":"));
            local v217 = ("%*/inventory"):format(l_Name_2);
            if v17:GetId() == v217 then
                return v17:Hide();
            else
                local l_Offer_2 = v213.Offer;
                local v219 = 0;
                for _, v221 in l_Offer_2 do
                    if v221.Type == "Pet" and v221.Id == l_Name_2 then
                        v219 = v219 + 1;
                    end;
                end;
                local v222 = nil;
                for _, v224 in v213.Inventory.Pets do
                    if v224.Id == v215 then
                        v222 = v224;
                        break;
                    end;
                end;
                if not v222 then
                    return;
                else
                    local _ = v219 > 0;
                    local v226 = (v222.Amount or 1) - v219;
                    local v227 = v16.fromPetRaw(v222);
                    v227:ID(v217);
                    if l_v210_0 then
                        if (v219 <= 0 or v226 > 0) and #l_Offer_2 < v7.TradingSlots then
                            v227:Add({
                                Type = "Button", 
                                Callback = function(v228) --[[ Line: 659 ]] --[[ Name: Callback ]]
                                    -- upvalues: v18 (ref), v19 (ref), v10 (ref), v4 (ref), l_Name_2 (copy), v17 (ref)
                                    v228.Action.Button.Label.Text = "Offer";
                                    v18(v228.Action.Button, v19.Button.Green);
                                    v10(v228.Action.Button, function() --[[ Line: 662 ]]
                                        -- upvalues: v4 (ref), l_Name_2 (ref), v17 (ref)
                                        v4:FireServer("TradeAddPet", l_Name_2);
                                        v17:Hide();
                                    end);
                                end
                            });
                        end;
                        if v219 > 0 then
                            v227:Add({
                                Type = "Button", 
                                Callback = function(v229) --[[ Line: 670 ]] --[[ Name: Callback ]]
                                    -- upvalues: v18 (ref), v19 (ref), v10 (ref), v4 (ref), l_Name_2 (copy), v17 (ref)
                                    v229.Action.Button.Label.Text = "Remove";
                                    v18(v229.Action.Button, v19.Button.Purple);
                                    v10(v229.Action.Button, function() --[[ Line: 673 ]]
                                        -- upvalues: v4 (ref), l_Name_2 (ref), v17 (ref)
                                        v4:FireServer("TradeRemovePet", l_Name_2);
                                        v17:Hide();
                                    end);
                                end
                            });
                        end;
                    end;
                    v227:Add({
                        Type = "Button", 
                        Callback = function(v230) --[[ Line: 681 ]] --[[ Name: Callback ]]
                            -- upvalues: v18 (ref), v19 (ref), v10 (ref), v17 (ref)
                            v230.Action.Button.Label.Text = "Close";
                            v18(v230.Action.Button, v19.Button.Red);
                            v10(v230.Action.Button, function() --[[ Line: 684 ]]
                                -- upvalues: v17 (ref)
                                v17:Hide();
                            end);
                        end
                    });
                    v17:Apply(v227:Build());
                    return;
                end;
            end;
        end;
    end);
    return v212;
end, l_Buttons_1);
v188 = function(v231) --[[ Line: 700 ]] --[[ Name: makeSearchable ]]
    return string.lower((string.gsub(v231, "%s", "")));
end;
v210 = function(v232) --[[ Line: 704 ]] --[[ Name: getPetSearchName ]]
    -- upvalues: v14 (copy), v188 (copy)
    local l_Name_3 = v232.Name;
    l_Name_3 = ("%* %*"):format(v14[v232.Name].Rarity, l_Name_3);
    if v232.Mythic then
        l_Name_3 = ("Mythic %*"):format(l_Name_3);
    end;
    if v232.Shiny then
        l_Name_3 = ("Shiny %*"):format(l_Name_3);
    end;
    return v188(l_Name_3);
end;
local function v247(v234, v235) --[[ Line: 719 ]] --[[ Name: getPetsList ]]
    -- upvalues: v14 (copy), v7 (copy), v15 (copy)
    local v236 = {};
    local v237 = {};
    for _, v239 in v234 do
        local l_Name_4 = v239.Name;
        local l_Name_5 = v239.Name;
        l_Name_5 = ("%* %*"):format(v14[v239.Name].Rarity, l_Name_5);
        if v239.Mythic then
            l_Name_5 = ("Mythic %*"):format(l_Name_5);
        end;
        if v239.Shiny then
            l_Name_5 = ("Shiny %*"):format(l_Name_5);
        end;
        local v242 = string.lower((string.gsub(l_Name_5, "%s", "")));
        if #v235 <= 0 or string.find(v242, v235, 1, true) then
            if v239.Amount == nil or v239.Amount <= 1 then
                l_Name_5 = ("%*:0"):format(v239.Id);
                table.insert(v236, l_Name_5);
                v237[l_Name_5] = v239;
            else
                l_Name_5 = v239.Amount;
                local l_Rarity_0 = v14[l_Name_4].Rarity;
                if l_Name_5 <= v7.VisualStackMinSize[l_Rarity_0] then
                    for v244 = 1, l_Name_5 do
                        local v245 = ("%*:%*"):format(v239.Id, v244);
                        table.insert(v236, v245);
                        v237[v245] = v239;
                    end;
                else
                    local v246 = ("%*:stack"):format(v239.Id);
                    table.insert(v236, v246);
                    v237[v246] = v239;
                end;
            end;
        end;
    end;
    v15(v236, v237, "Rarity");
    return v236, v237;
end;
local _ = function(v248) --[[ Line: 760 ]] --[[ Name: makeGridUpdater ]]
    -- upvalues: l_new_0 (copy), l_new_1 (copy), v40 (ref), l_Template_0 (copy), v54 (copy), v247 (copy), v11 (copy)
    local l_l_new_0_0 = l_new_0;
    if not v248 then
        l_l_new_0_0 = l_new_1;
    end;
    return function(_) --[[ Line: 766 ]]
        -- upvalues: v40 (ref), l_l_new_0_0 (ref), v248 (copy), l_Template_0 (ref), v54 (ref), v247 (ref), v11 (ref)
        if not v40 then
            return function(_) --[[ Line: 768 ]]
                return nil;
            end, function() --[[ Line: 770 ]]
                -- upvalues: l_l_new_0_0 (ref)
                l_l_new_0_0:Done();
                return 0;
            end;
        else
            local v252 = if v248 then v40.Party0 else v40.Party1;
            local v253 = if v248 then l_Template_0 else v54;
            local l_Pets_0 = v252.Inventory.Pets;
            local v255, v256 = v247(l_Pets_0, v253:GetText());
            local v257 = {};
            for _, v259 in v252.Offer do
                if v259.Type == "Pet" then
                    v257[v259.Id] = (v257[v259.Id] or 0) + 1;
                end;
            end;
            return function(v260) --[[ Line: 789 ]] --[[ Name: render ]]
                -- upvalues: v40 (ref), v255 (copy), v256 (copy), l_l_new_0_0 (ref), v11 (ref), v257 (copy)
                if not v40 then
                    return nil;
                else
                    local v261 = v255[v260];
                    if not v261 then
                        return nil;
                    else
                        local v262 = v256[v261];
                        if not v262 then
                            return nil;
                        else
                            local v263 = l_l_new_0_0:Get();
                            v263.Name = v261;
                            v263.LayoutOrder = v260;
                            local _, v265 = unpack(string.split(v261, ":"));
                            local v266 = v265 == "stack";
                            v11.set(v263, v262, v266, false);
                            v263.Inner.Button.Inner.DisplayName.Visible = false;
                            local v267 = v257[v261] or 0;
                            v263.Inner.Button.Offered.Visible = v267 > 0;
                            v263.Inner.Button.Offered.Stack.Visible = v266;
                            v263.Inner.Button.Offered.Stack.Amount.Text = ("<stroke color=\"#00295E\" joins=\"miter\" thickness=\"2.5\"><font size=\"32\">x</font>%*</stroke>"):format(v267);
                            return v263;
                        end;
                    end;
                end;
            end, function() --[[ Line: 821 ]] --[[ Name: done ]]
                -- upvalues: l_l_new_0_0 (ref), v255 (copy)
                l_l_new_0_0:Done();
                return #v255;
            end;
        end;
    end;
end;
local l_new_2 = v8.new;
local l_Pets_1 = l_Frame_0.Inner.You.Holder.Pets;
local l_UIGridLayout_0 = l_Frame_0.Inner.You.Holder.Pets.UIGridLayout;
local l_l_new_0_1 = l_new_0;
local v273 = true;
local l_v273_0 = v273 --[[ copy: 75 -> 101 ]];
local v275;
do
    local l_l_l_new_0_1_0 = l_l_new_0_1;
    v275 = function(_) --[[ Line: 766 ]]
        -- upvalues: v40 (ref), l_l_l_new_0_1_0 (ref), l_v273_0 (copy), l_Template_0 (copy), v54 (copy), v247 (copy), v11 (copy)
        if not v40 then
            return function(_) --[[ Line: 768 ]]
                return nil;
            end, function() --[[ Line: 770 ]]
                -- upvalues: l_l_l_new_0_1_0 (ref)
                l_l_l_new_0_1_0:Done();
                return 0;
            end;
        else
            local v279 = if l_v273_0 then v40.Party0 else v40.Party1;
            local v280 = if l_v273_0 then l_Template_0 else v54;
            local l_Pets_2 = v279.Inventory.Pets;
            local v282, v283 = v247(l_Pets_2, v280:GetText());
            local v284 = {};
            for _, v286 in v279.Offer do
                if v286.Type == "Pet" then
                    v284[v286.Id] = (v284[v286.Id] or 0) + 1;
                end;
            end;
            return function(v287) --[[ Line: 789 ]] --[[ Name: render ]]
                -- upvalues: v40 (ref), v282 (copy), v283 (copy), l_l_l_new_0_1_0 (ref), v11 (ref), v284 (copy)
                if not v40 then
                    return nil;
                else
                    local v288 = v282[v287];
                    if not v288 then
                        return nil;
                    else
                        local v289 = v283[v288];
                        if not v289 then
                            return nil;
                        else
                            local v290 = l_l_l_new_0_1_0:Get();
                            v290.Name = v288;
                            v290.LayoutOrder = v287;
                            local _, v292 = unpack(string.split(v288, ":"));
                            local v293 = v292 == "stack";
                            v11.set(v290, v289, v293, false);
                            v290.Inner.Button.Inner.DisplayName.Visible = false;
                            local v294 = v284[v288] or 0;
                            v290.Inner.Button.Offered.Visible = v294 > 0;
                            v290.Inner.Button.Offered.Stack.Visible = v293;
                            v290.Inner.Button.Offered.Stack.Amount.Text = ("<stroke color=\"#00295E\" joins=\"miter\" thickness=\"2.5\"><font size=\"32\">x</font>%*</stroke>"):format(v294);
                            return v290;
                        end;
                    end;
                end;
            end, function() --[[ Line: 821 ]] --[[ Name: done ]]
                -- upvalues: l_l_l_new_0_1_0 (ref), v282 (copy)
                l_l_l_new_0_1_0:Done();
                return #v282;
            end;
        end;
    end;
end;
l_new_2 = l_new_2(l_Pets_1, l_UIGridLayout_0, v275);
l_Pets_1 = v8.new;
l_UIGridLayout_0 = l_Frame_0.Inner.Them.Holder.Pets;
v275 = l_Frame_0.Inner.Them.Holder.Pets.UIGridLayout;
v273 = l_new_0;
v273 = l_new_1;
local v295 = false;
local l_v295_0 = v295 --[[ copy: 76 -> 102 ]];
do
    local l_v273_1 = v273;
    l_l_new_0_1 = function(_) --[[ Line: 766 ]]
        -- upvalues: v40 (ref), l_v273_1 (ref), l_v295_0 (copy), l_Template_0 (copy), v54 (copy), v247 (copy), v11 (copy)
        if not v40 then
            return function(_) --[[ Line: 768 ]]
                return nil;
            end, function() --[[ Line: 770 ]]
                -- upvalues: l_v273_1 (ref)
                l_v273_1:Done();
                return 0;
            end;
        else
            local v300 = if l_v295_0 then v40.Party0 else v40.Party1;
            local v301 = if l_v295_0 then l_Template_0 else v54;
            local l_Pets_3 = v300.Inventory.Pets;
            local v303, v304 = v247(l_Pets_3, v301:GetText());
            local v305 = {};
            for _, v307 in v300.Offer do
                if v307.Type == "Pet" then
                    v305[v307.Id] = (v305[v307.Id] or 0) + 1;
                end;
            end;
            return function(v308) --[[ Line: 789 ]] --[[ Name: render ]]
                -- upvalues: v40 (ref), v303 (copy), v304 (copy), l_v273_1 (ref), v11 (ref), v305 (copy)
                if not v40 then
                    return nil;
                else
                    local v309 = v303[v308];
                    if not v309 then
                        return nil;
                    else
                        local v310 = v304[v309];
                        if not v310 then
                            return nil;
                        else
                            local v311 = l_v273_1:Get();
                            v311.Name = v309;
                            v311.LayoutOrder = v308;
                            local _, v313 = unpack(string.split(v309, ":"));
                            local v314 = v313 == "stack";
                            v11.set(v311, v310, v314, false);
                            v311.Inner.Button.Inner.DisplayName.Visible = false;
                            local v315 = v305[v309] or 0;
                            v311.Inner.Button.Offered.Visible = v315 > 0;
                            v311.Inner.Button.Offered.Stack.Visible = v314;
                            v311.Inner.Button.Offered.Stack.Amount.Text = ("<stroke color=\"#00295E\" joins=\"miter\" thickness=\"2.5\"><font size=\"32\">x</font>%*</stroke>"):format(v315);
                            return v311;
                        end;
                    end;
                end;
            end, function() --[[ Line: 821 ]] --[[ Name: done ]]
                -- upvalues: l_v273_1 (ref), v303 (copy)
                l_v273_1:Done();
                return #v303;
            end;
        end;
    end;
end;
l_Pets_1 = l_Pets_1(l_UIGridLayout_0, v275, l_l_new_0_1);
l_UIGridLayout_0 = {};
v275 = {};
l_l_new_0_1 = {};
v273 = l_Frame_0.Inner.Offers;
v295 = v273.You.Content.TemplatePet;
v295.Parent = nil;
local l_TemplateBlank_0 = v273.You.Content.TemplateBlank;
l_TemplateBlank_0.Parent = nil;
for v317 = 1, 2 do
    local v318 = if v317 == 1 then v273.You.Content else v273.Them.Content;
    local v319 = {};
    local v320 = {};
    local v321 = {};
    for v322 = 1, v7.TradingSlots do
        local v323 = l_TemplateBlank_0:Clone();
        v323.Name = ("Blank%*"):format(v322);
        v323.LayoutOrder = v322;
        v323.Visible = true;
        v323.Parent = v318;
        v319[v322] = v323;
        local v324 = v295:Clone();
        v324.Name = ("Entry%*"):format(v322);
        v324.LayoutOrder = v322;
        v324.Visible = false;
        v324.Parent = v318;
        v320[v322] = v324;
        v10(v324.Inner.Button, function() --[[ Line: 874 ]]
            -- upvalues: v40 (ref), v317 (copy), v322 (copy), v17 (copy), v16 (copy), l_LocalPlayer_0 (copy), v18 (copy), v19 (copy), v10 (copy), v4 (copy)
            if not v40 then
                return;
            else
                local v325 = if v317 == 1 then v40.Party0 else v40.Party1;
                local v326 = v325.Offer[v322];
                if not v326 then
                    return;
                else
                    if v326.Type == "Pet" then
                        local v327 = nil;
                        local l_Id_0 = v326.Id;
                        local v329 = ("%*/offer"):format(l_Id_0);
                        if v17:GetId() == v329 then
                            return v17:Hide();
                        else
                            local v330, _ = unpack(string.split(l_Id_0, ":"));
                            for _, v333 in v325.Inventory.Pets do
                                if v333.Id == v330 then
                                    v327 = v333;
                                    break;
                                end;
                            end;
                            local v334 = v16.fromPetRaw(v327);
                            v334:ID(v329);
                            if v325.Player == l_LocalPlayer_0 and (not v40.Party0.Accepted or not v40.Party1.Accepted) then
                                v334:Add({
                                    Type = "Button", 
                                    Callback = function(v335) --[[ Line: 906 ]] --[[ Name: Callback ]]
                                        -- upvalues: v18 (ref), v19 (ref), v10 (ref), v4 (ref), l_Id_0 (copy), v17 (ref)
                                        v335.Action.Button.Label.Text = "Remove";
                                        v18(v335.Action.Button, v19.Button.Purple);
                                        v10(v335.Action.Button, function() --[[ Line: 909 ]]
                                            -- upvalues: v4 (ref), l_Id_0 (ref), v17 (ref)
                                            v4:FireServer("TradeRemovePet", l_Id_0);
                                            v17:Hide();
                                        end);
                                    end
                                });
                            end;
                            v334:Add({
                                Type = "Button", 
                                Callback = function(v336) --[[ Line: 916 ]] --[[ Name: Callback ]]
                                    -- upvalues: v18 (ref), v19 (ref), v10 (ref), v17 (ref)
                                    v336.Action.Button.Label.Text = "Close";
                                    v18(v336.Action.Button, v19.Button.Red);
                                    v10(v336.Action.Button, function() --[[ Line: 919 ]]
                                        -- upvalues: v17 (ref)
                                        v17:Hide();
                                    end);
                                end
                            });
                            v17:Apply(v334:Build());
                        end;
                    end;
                    return;
                end;
            end;
        end);
        v321[v322] = {};
    end;
    l_UIGridLayout_0[v317] = v319;
    v275[v317] = v320;
    l_l_new_0_1[v317] = v321;
end;
v273 = nil;
v295 = v24.new():size(20);
local l_v295_1 = v295 --[[ copy: 76 -> 103 ]];
v273 = function(v338) --[[ Line: 945 ]] --[[ Name: formatAmountText ]]
    -- upvalues: v24 (copy), l_v295_1 (copy), v25 (copy)
    return v24.autoStroke((("%*%*"):format(l_v295_1("x"), (v25(v338, 1000)))));
end;
v295 = function() --[[ Line: 952 ]] --[[ Name: updateMain ]]
    -- upvalues: v40 (ref), v47 (ref), l_Chat_0 (copy), l_new_2 (copy), l_Pets_1 (copy), l_Default_0 (copy), l_Template_0 (copy), v54 (copy), v273 (ref), v131 (copy), v24 (copy), l_Frame_0 (copy), l_UIGridLayout_0 (copy), v275 (copy), l_l_new_0_1 (copy), v11 (copy), v12 (copy), v13 (copy), v7 (copy), v20 (copy), v23 (copy), v10 (copy), v17 (copy), v16 (copy), v18 (copy), v19 (copy), v4 (copy), v21 (copy)
    if not v40 or not v40.ChatChannel then
        v47();
        l_Chat_0.Visible = false;
    else
        l_Chat_0.Visible = true;
    end;
    l_new_2:Update();
    l_Pets_1:Update();
    if v40 then
        for v339 = 1, 2 do
            local v340 = if v339 == 1 then v40.Party0 else v40.Party1;
            local v341 = l_Default_0[v339];
            local l_Text_0 = (if v339 == 1 then l_Template_0 else v54):GetText();
            local v343 = {};
            for _, v345 in v340.Inventory.Potions do
                local l_Name_6 = v345.Name;
                if #l_Text_0 <= 0 or string.find(string.lower((string.gsub(l_Name_6, "%s", ""))), l_Text_0, 1, true) then
                    local l_Level_0 = v345.Level;
                    local v348 = ("Potion/%*"):format(if l_Level_0 then ("%*/%*"):format(l_Name_6, l_Level_0) else l_Name_6);
                    v343[v348] = true;
                    l_Level_0 = v341[v348];
                    if l_Level_0 then
                        l_Level_0.Button.Inner.Bottom.Text = v273(v345.Amount);
                        l_Level_0.Button.Inner.Bottom.Visible = v345.Amount > 1;
                        l_Level_0.Button.Inner.Bottom.TextColor3 = Color3.new(1, 1, 1);
                        l_Level_0.Button.Inner.Bottom.TextXAlignment = Enum.TextXAlignment.Right;
                        local v349 = 0;
                        for _, v351 in v340.Offer do
                            if v351.Type == "Potion" and v351.Name == v345.Name and v351.Level == v345.Level then
                                v349 = v349 + 1;
                            end;
                        end;
                        l_Level_0.Button.Offered.Visible = v349 > 0;
                        l_Level_0.Button.Offered.Stack.Visible = true;
                        l_Level_0.Button.Offered.Stack.Amount.Text = ("<stroke color=\"#00295E\" joins=\"miter\" thickness=\"2.5\"><font size=\"32\">x</font>%*</stroke>"):format(v349);
                        l_Level_0.Visible = true;
                    end;
                end;
            end;
            for v352, v353 in v341 do
                if not v343[v352] then
                    v353.Visible = false;
                end;
            end;
        end;
    end;
    if v40 then
        for v354 = 1, 2 do
            local v355 = if v354 == 1 then v40.Party0 else v40.Party1;
            local v356 = v131[v354];
            local l_Text_1 = (if v354 == 1 then l_Template_0 else v54):GetText();
            local v358 = {};
            for v359, v360 in v355.Inventory.Powerups do
                if #l_Text_1 <= 0 or string.find(string.lower((string.gsub(v359, "%s", ""))), l_Text_1, 1, true) then
                    v358[v359] = true;
                    local v361 = v356[v359];
                    if v361 then
                        v361.Button.Inner.Bottom.Text = v24.autoStroke(v273(v360));
                        v361.Button.Inner.Bottom.Visible = v360 > 1;
                        v361.Button.Inner.Bottom.TextColor3 = Color3.new(1, 1, 1);
                        v361.Button.Inner.Bottom.TextXAlignment = Enum.TextXAlignment.Right;
                        local v362 = 0;
                        for _, v364 in v355.Offer do
                            if v364.Type == "Powerup" and v364.Name == v359 then
                                v362 = v362 + 1;
                            end;
                        end;
                        v361.Button.Offered.Visible = v362 > 0;
                        v361.Button.Offered.Stack.Visible = true;
                        v361.Button.Offered.Stack.Amount.Text = ("<stroke color=\"#00295E\" joins=\"miter\" thickness=\"2.5\"><font size=\"32\">x</font>%*</stroke>"):format(v362);
                        v361.Visible = true;
                    end;
                end;
            end;
            for v365, v366 in v356 do
                if not v358[v365] then
                    v366.Visible = false;
                end;
            end;
        end;
    end;
    if v40 then
        l_Frame_0.Top.You.Username.Text = ("@%*"):format(v40.Party0.Player.Name);
        l_Frame_0.Top.You.DisplayName.Text = v40.Party0.Player.DisplayName;
        l_Frame_0.Top.You.Icon.Label.Image = ("rbxthumb://type=AvatarHeadShot&id=%*&w=100&h=100"):format(v40.Party0.Player.UserId);
        l_Frame_0.Top.Them.Username.Text = ("@%*"):format(v40.Party1.Player.Name);
        l_Frame_0.Top.Them.DisplayName.Text = v40.Party1.Player.DisplayName;
        l_Frame_0.Top.Them.Icon.Label.Image = ("rbxthumb://type=AvatarHeadShot&id=%*&w=100&h=100"):format(v40.Party1.Player.UserId);
        l_Frame_0.Inner.Offers.You.Title.Text = "Your Offer";
        l_Frame_0.Inner.Offers.Them.Title.Text = ("%*'s Offer"):format(v40.Party1.Player.DisplayName);
    end;
    for v367 = 1, 2 do
        local v368 = l_UIGridLayout_0[v367];
        local v369 = v275[v367];
        local v370 = l_l_new_0_1[v367];
        if not v40 then
            for _, v372 in v368 do
                v372.Visible = true;
            end;
            for _, v374 in v369 do
                v11.animatedGradients[v374.Inner.Background.UIGradient] = nil;
                v12.None(v374.Inner.Button);
                v12.None(v374.Inner.Button.Inner);
                v13:Remove(v374.Inner.Effect);
                v374.Visible = false;
            end;
            for _, v376 in v370 do
                if v376.cleanup then
                    v376.cleanup();
                    v376.cleanup = nil;
                end;
                if v376.frame then
                    v376.frame:Destroy();
                    v376.frame = nil;
                end;
            end;
        else
            local v377 = v367 == 1;
            local v378 = if v377 then v40.Party0 else v40.Party1;
            local v379 = 0;
            for v380 = 1, v7.TradingSlots do
                local v381 = v378.Offer[v380];
                v368[v380].Visible = v381 == nil;
                local v382 = v369[v380];
                v11.animatedGradients[v382.Inner.Background.UIGradient] = nil;
                v12.None(v382.Inner.Button);
                v12.None(v382.Inner.Button.Inner);
                v13:Remove(v382.Inner.Effect);
                v382.Visible = false;
                local v383 = v370[v380];
                if v383.cleanup then
                    v383.cleanup();
                    v383.cleanup = nil;
                end;
                if v383.frame then
                    v383.frame:Destroy();
                    v383.frame = nil;
                end;
                if v381 then
                    if v381.Type == "Pet" then
                        v382.Name = v381.Id;
                        v382.Visible = true;
                        local v384 = nil;
                        local v385, _ = unpack(string.split(v381.Id, ":"));
                        for _, v388 in v378.Inventory.Pets do
                            if v388.Id == v385 then
                                v384 = v388;
                                break;
                            end;
                        end;
                        if v384 then
                            v11.set(v382, v384, false, false);
                            v382.Inner.Button.Inner.DisplayName.Visible = false;
                            local v389 = table.clone(v384);
                            v389.Type = "Pet";
                            v379 = v379 + v20:GetValue(v389);
                        end;
                    elseif v381.Type == "Potion" or v381.Type == "Powerup" then
                        local v390, v391 = v23(v381);
                        v390.LayoutOrder = v380;
                        v10(v390.Button, function() --[[ Line: 1161 ]]
                            -- upvalues: v381 (copy), v17 (ref), v16 (ref), v377 (copy), v40 (ref), v18 (ref), v19 (ref), v10 (ref), v4 (ref), v380 (copy)
                            local v392 = nil;
                            if v381.Type == "Potion" then
                                local l_Name_7 = v381.Name;
                                local l_Level_1 = v381.Level;
                                v392 = ("Potion/%*"):format(if l_Level_1 then ("%*/%*"):format(l_Name_7, l_Level_1) else l_Name_7);
                            else
                                v392 = v381.Name;
                            end;
                            local v395 = ("%*/offer"):format(v392);
                            if v17:GetId() == v395 then
                                return v17:Hide();
                            else
                                local v396 = nil;
                                v396 = if v381.Type == "Potion" then v16.fromPotionRaw({
                                    Type = "Potion", 
                                    Name = v381.Name, 
                                    Level = v381.Level
                                }) else v16.fromPowerupRaw({
                                    Type = "Powerup", 
                                    Name = v381.Name
                                });
                                v396:ID(v395);
                                if v377 and (not v40.Party0.Accepted or not v40.Party1.Accepted) then
                                    v396:Add({
                                        Type = "Button", 
                                        Callback = function(v397) --[[ Line: 1190 ]] --[[ Name: Callback ]]
                                            -- upvalues: v18 (ref), v19 (ref), v10 (ref), v4 (ref), v380 (ref), v17 (ref)
                                            v397.Action.Button.Label.Text = "Remove";
                                            v18(v397.Action.Button, v19.Button.Purple);
                                            v10(v397.Action.Button, function() --[[ Line: 1193 ]]
                                                -- upvalues: v4 (ref), v380 (ref), v17 (ref)
                                                v4:FireServer("TradeRemoveAny", v380);
                                                v17:Hide();
                                            end);
                                        end
                                    });
                                end;
                                v396:Add({
                                    Type = "Button", 
                                    Callback = function(v398) --[[ Line: 1200 ]] --[[ Name: Callback ]]
                                        -- upvalues: v18 (ref), v19 (ref), v10 (ref), v17 (ref)
                                        v398.Action.Button.Label.Text = "Close";
                                        v18(v398.Action.Button, v19.Button.Red);
                                        v10(v398.Action.Button, function() --[[ Line: 1203 ]]
                                            -- upvalues: v17 (ref)
                                            v17:Hide();
                                        end);
                                    end
                                });
                                v17:Apply(v396:Build());
                                return;
                            end;
                        end);
                        v390.Parent = v382.Parent;
                        v383.frame = v390;
                        v383.cleanup = v391;
                    end;
                end;
            end;
            local v399 = ("%* Rarity"):format((v21(v379)));
            if v367 == 1 then
                l_Frame_0.Inner.Offers.You.Rarity.Text = v399;
            else
                l_Frame_0.Inner.Offers.Them.Rarity.Text = v399;
            end;
        end;
    end;
    local v400 = "";
    if v40 then
        local l_Party0_0 = v40.Party0;
        local l_Party1_0 = v40.Party1;
        local _ = #l_Party0_0.Offer;
        local v404 = false;
        if l_Party0_0.Accepted and not l_Party1_0.Accepted then
            v400 = ("Waiting for %*!"):format(l_Party1_0.Player.DisplayName);
        elseif not l_Party0_0.Accepted and l_Party1_0.Accepted then
            v400 = ("%* has accepted!"):format(l_Party1_0.Player.DisplayName);
        elseif l_Party0_0.Confirmed and not l_Party1_0.Confirmed then
            v400 = ("Waiting for %*!"):format(l_Party1_0.Player.DisplayName);
        elseif not l_Party0_0.Confirmed and l_Party1_0.Confirmed then
            v400 = ("%* has confirmed!"):format(l_Party1_0.Player.DisplayName);
        elseif l_Party0_0.Accepted and l_Party1_0.Accepted then
            local l_workspace_ServerTimeNow_1 = workspace:GetServerTimeNow();
            local v406 = math.ceil((math.clamp(v40.Timer - l_workspace_ServerTimeNow_1 + 0.2, 0, v7.TradeConfirmTimer)));
            if v406 > 0 then
                v404 = true;
                v400 = ("Wait %* to confirm. Check your trade!"):format((string.format("%is", v406)));
            end;
        end;
        local v407 = true;
        if l_Party0_0.Accepted and not l_Party1_0.Accepted then
            v407 = false;
        elseif l_Party0_0.Confirmed and not l_Party1_0.Confirmed then
            v407 = false;
        elseif v404 then
            v407 = false;
        end;
        local l_Accept_0 = l_Frame_0.Inner.Offers.Buttons.Accept;
        l_Accept_0.Button.Label.Text = l_Party0_0.Accepted and l_Party1_0.Accepted and "Confirm" or "Accept";
        l_Accept_0.Button.Label.TextTransparency = v407 and 0 or 0.35;
        l_Accept_0.Button.Label.UIStroke.Transparency = v407 and 0 or 0.35;
        l_Accept_0.Button.BackgroundTransparency = v407 and 0 or 0.35;
        l_Accept_0.Button.UIStroke.Transparency = v407 and 0 or 0.35;
        l_Accept_0.Button.Active = v407;
        l_Accept_0.Button.Selectable = v407;
        l_Frame_0.Inner.You.Cover.Visible = l_Party0_0.Accepted;
        l_Frame_0.Inner.Them.Cover.Visible = l_Party1_0.Accepted;
    end;
    l_Frame_0.Inner.Offers.Status.Text = v400;
    local v409 = false;
    if v40 ~= nil then
        v409 = v40.Processing == true;
    end;
    l_Frame_0.Inner.Visible = not v409;
    l_Frame_0.Top.Visible = not v409;
    l_Frame_0.Processing.Visible = v409;
end;
l_TemplateBlank_0 = l_Frame_1.Content.ScrollingFrame;
local l_Template_1 = l_TemplateBlank_0.Template;
l_Template_1.Parent = nil;
local v411 = {};
local function v412() --[[ Line: 1304 ]] --[[ Name: updateMenu ]]
    -- upvalues: l_Players_0 (copy), l_LocalPlayer_0 (copy), v411 (copy), l_Template_1 (copy), l_TemplateBlank_0 (copy), v10 (copy), v4 (copy), v7 (copy), v41 (copy), l_Workspace_0 (copy), v412 (copy), v18 (copy), v19 (copy), l_Chat_1 (copy), v50 (copy), l_Frame_1 (copy), v27 (copy), v21 (copy)
    local l_l_Players_0_Players_0 = l_Players_0:GetPlayers();
    table.sort(l_l_Players_0_Players_0, function(v414, v415) --[[ Line: 1306 ]]
        local v416 = string.lower(v414.DisplayName);
        local v417 = string.lower(v415.DisplayName);
        if v416 ~= v417 then
            return v416 < v417;
        else
            return v414.UserId < v415.UserId;
        end;
    end);
    for v418, v419 in l_l_Players_0_Players_0 do
        if v419 ~= l_LocalPlayer_0 then
            local v420 = v411[v419];
            if not v420 then
                local v421 = l_Template_1:Clone();
                v421.Info.DisplayName.Text = v419.DisplayName;
                v421.Info.Username.Text = ("@%*"):format(v419.Name);
                v421.Icon.Label.Image = ("rbxthumb://type=AvatarHeadShot&id=%*&w=100&h=100"):format(v419.UserId);
                v421.Visible = false;
                v421.Parent = l_TemplateBlank_0;
                v10(v421.Action.Button, function() --[[ Line: 1329 ]]
                    -- upvalues: v4 (ref), v419 (copy), v7 (ref), v41 (ref), l_Workspace_0 (ref), v412 (ref)
                    v4:FireServer("TradeRequest", v419);
                    local v422 = v7.TradeRequestCooldown + 0.5;
                    v41[v419] = l_Workspace_0:GetServerTimeNow() + v422;
                    v412();
                    task.delay(v422 + 0.25, v412);
                end);
                v420 = {
                    entry = v421, 
                    connections = {
                        v419:GetAttributeChangedSignal("Trading"):Connect(v412), 
                        v419:GetAttributeChangedSignal("TradingUnlocked"):Connect(v412), 
                        v419:GetAttributeChangedSignal("TradingAllowed"):Connect(v412), 
                        v419:GetAttributeChangedSignal("TradeCooldown"):Connect(v412), 
                        v419:GetAttributeChangedSignal("TradeRequestsAllowed"):Connect(v412)
                    }
                };
                v411[v419] = v420;
            end;
            local l_v419_Attribute_0 = v419:GetAttribute("Trading");
            local l_v419_Attribute_1 = v419:GetAttribute("TradingUnlocked");
            local l_v419_Attribute_2 = v419:GetAttribute("TradingAllowed");
            local l_v419_Attribute_3 = v419:GetAttribute("TradeCooldown");
            local l_v419_Attribute_4 = v419:GetAttribute("TradeRequestsAllowed");
            local l_Button_0 = v420.entry.Action.Button;
            l_Button_0.Active = false;
            local l_workspace_ServerTimeNow_2 = workspace:GetServerTimeNow();
            local v430 = v41[v419];
            local v431 = false;
            if l_v419_Attribute_3 ~= nil then
                v431 = l_workspace_ServerTimeNow_2 < l_v419_Attribute_3;
            end;
            local v432 = false;
            if v430 ~= nil then
                v432 = l_workspace_ServerTimeNow_2 < v430;
            end;
            if l_v419_Attribute_0 == nil or not l_v419_Attribute_2 or not l_v419_Attribute_1 or not l_v419_Attribute_4 then
                v420.entry.Visible = false;
            else
                v420.entry.Visible = true;
                if l_v419_Attribute_0 then
                    l_Button_0.Label.Text = "Trading";
                    v18(l_Button_0, v19.Button.Orange);
                elseif v431 or v432 then
                    l_Button_0.Label.Text = v431 and "Busy" or "Sent";
                    v18(l_Button_0, v19.Button.Inactive);
                else
                    l_Button_0.Label.Text = "Request";
                    l_Button_0.Active = true;
                    v18(l_Button_0, v19.Button.Green);
                end;
            end;
            l_Button_0.Selectable = l_Button_0.Active;
            v420.entry.LayoutOrder = v418;
        end;
    end;
    for v433, v434 in v411 do
        if not table.find(l_l_Players_0_Players_0, v433) then
            for _, v436 in v434.connections do
                v436:Disconnect();
            end;
            v434.entry:Destroy();
            v411[v433] = nil;
        end;
    end;
    local v437 = l_Chat_1();
    local v438 = v437 == v50.None;
    l_Frame_1.Content.Cover.Visible = not v438;
    l_Frame_1.Content.ScrollingFrame.Visible = v438 or v437 == v50.Unlock or v437 == v50.Cooldown;
    if v437 == v50.Cooldown then
        local l_workspace_ServerTimeNow_3 = workspace:GetServerTimeNow();
        local v440 = math.max(1, (math.ceil((l_LocalPlayer_0:GetAttribute("TradeCooldown") or 0) - l_workspace_ServerTimeNow_3)));
        l_Frame_1.Content.Cover.Label.Text = ("Trading on cooldown (wait %* second%*)"):format(v440, v440 == 1 and "" or "s");
    else
        l_Frame_1.Content.Cover.Label.Text = v437;
    end;
    local v441 = v27:Get();
    if v441 and v437 == v50.Unlock then
        local l_Hatches_0 = v441.Stats.Hatches;
        local l_TradeEggsRequirement_0 = v7.TradeEggsRequirement;
        l_Frame_1.Content.Cover.Bar.Fill.Size = UDim2.new(math.clamp(l_Hatches_0 / l_TradeEggsRequirement_0, 0, 1), 0, 1, 10);
        l_Frame_1.Content.Cover.Bar.Label.Text = ("%* / %*"):format(v21((math.min(l_TradeEggsRequirement_0, l_Hatches_0))), (v21(l_TradeEggsRequirement_0)));
        l_Frame_1.Content.Cover.Bar.Visible = true;
        return;
    else
        l_Frame_1.Content.Cover.Bar.Visible = false;
        return;
    end;
end;
l_Players_0.PlayerAdded:Connect(v412);
l_Players_0.PlayerRemoving:Connect(v412);
local v444 = TweenInfo.new(0.1, Enum.EasingStyle.Sine, Enum.EasingDirection.Out);
local l_Color_0 = v19.Button.Inactive.Color;
local l_Color_1 = v19.Button.Green.Color;
local l_Toggle_0 = l_Frame_1.Tray.Action.Toggle;
local v448 = nil;
local l_l_Toggle_0_0 = l_Toggle_0 --[[ copy: 84 -> 104 ]];
local l_v444_0 = v444 --[[ copy: 81 -> 105 ]];
local l_l_Color_1_0 = l_Color_1 --[[ copy: 83 -> 106 ]];
local l_l_Color_0_0 = l_Color_0 --[[ copy: 82 -> 107 ]];
do
    local l_v448_0 = v448;
    local function v455(v454) --[[ Line: 1438 ]] --[[ Name: update ]]
        -- upvalues: l_v448_0 (ref), l_TweenService_0 (copy), l_l_Toggle_0_0 (copy), l_v444_0 (copy), l_l_Color_1_0 (copy), l_l_Color_0_0 (copy)
        if v454 == l_v448_0 then
            return;
        else
            l_TweenService_0:Create(l_l_Toggle_0_0.Blob, l_v444_0, {
                AnchorPoint = Vector2.new(v454 == true and 1 or 0, 0), 
                Position = UDim2.fromScale(v454 == true and 1 or 0, 0)
            }):Play();
            l_l_Toggle_0_0.UIGradient.Color = if v454 == true then l_l_Color_1_0 else l_l_Color_0_0;
            l_v448_0 = v454;
            return;
        end;
    end;
    v27:ConnectDataChanged("Settings", function(v456) --[[ Line: 1453 ]]
        -- upvalues: v455 (copy)
        v455(v456.Settings["Trade Requests"]);
    end);
    l_Toggle_0.Activated:Connect(function() --[[ Line: 1457 ]]
        -- upvalues: v4 (copy), l_v448_0 (ref)
        v4:FireServer("TradeSetRequestsAllowed", not l_v448_0);
    end);
end;
v18(l_Frame_1.History.History.Button, v19.Button.Purple);
v10(l_Frame_1.History.History.Button, function() --[[ Line: 1464 ]]
    -- upvalues: v31 (copy)
    v31:Open("TradingMenu");
end);
v10(l_Frame_1.Top.Close.Button, function() --[[ Line: 1471 ]]
    -- upvalues: v6 (copy)
    v6:Close();
end);
v26(l_TemplateBlank_0, l_TemplateBlank_0.UIListLayout);
v29("TradingMenu", {
    "Stats", 
    "Pets", 
    "PolicyInfo", 
    "Settings"
}, v412);
l_Workspace_0:GetAttributeChangedSignal("TradingEnabled"):Connect(v412);
l_Workspace_0:GetAttributeChangedSignal("PrivateServerId"):Connect(v412);
l_LocalPlayer_0:GetAttributeChangedSignal("TradeCooldown", v412);
task.spawn(function() --[[ Line: 1484 ]]
    -- upvalues: v6 (copy), v412 (copy)
    while true do
        task.wait(5);
        if v6:IsOpen("TradingMenu") then
            v412();
        end;
    end;
end);
v412();
v444 = function() --[[ Line: 1499 ]] --[[ Name: update ]]
    -- upvalues: v295 (copy), v412 (copy), l_Trading_0 (copy), v40 (ref)
    v295();
    v412();
    l_Trading_0.Visible = v40 ~= nil;
end;
v18(l_Frame_0.Inner.Offers.Buttons.Accept.Button, v19.Button.Green);
v10(l_Frame_0.Inner.Offers.Buttons.Accept.Button, function() --[[ Line: 1508 ]]
    -- upvalues: v40 (ref), v4 (copy)
    if not v40 then
        return;
    elseif not v40.Party0.Accepted then
        v4:FireServer("TradeAccept");
        return;
    else
        if not v40.Party0.Confirmed then
            v4:FireServer("TradeConfirm");
        end;
        return;
    end;
end);
v18(l_Frame_0.Inner.Offers.Buttons.Decline.Button, v19.Button.Red);
v10(l_Frame_0.Inner.Offers.Buttons.Decline.Button, function() --[[ Line: 1520 ]]
    -- upvalues: v4 (copy)
    v4:FireServer("TradeDecline");
end);
task.spawn(function() --[[ Line: 1525 ]]
    -- upvalues: v40 (ref), v295 (copy)
    while true do
        if v40 and v40.Timer ~= 0 then
            v295();
        end;
        task.wait(0.25);
    end;
end);
v39.IsTrading = function(_) --[[ Line: 1535 ]] --[[ Name: IsTrading ]]
    -- upvalues: v40 (ref)
    return v40 ~= nil;
end;
l_Color_0 = function(v458) --[[ Line: 1541 ]] --[[ Name: reorder ]]
    -- upvalues: l_LocalPlayer_0 (copy)
    if v458.Party0.Player ~= l_LocalPlayer_0 then
        local l_Party1_1 = v458.Party1;
        local l_Party0_1 = v458.Party0;
        v458.Party0 = l_Party1_1;
        v458.Party1 = l_Party0_1;
    end;
end;
v26(l_Frame_0.Inner.You.Holder.Items, l_Frame_0.Inner.You.Holder.Items.UIGridLayout);
v26(l_Frame_0.Inner.Them.Holder.Items, l_Frame_0.Inner.Them.Holder.Items.UIGridLayout);
l_Template_0.Changed:Connect(v295);
v54.Changed:Connect(v295);
v4.Event("TradeStarted"):Connect(function(v461) --[[ Line: 1555 ]]
    -- upvalues: v6 (copy), l_ScreenGui_0 (copy), l_LocalPlayer_0 (copy), v40 (ref), v295 (copy), v412 (copy), l_Trading_0 (copy), v47 (ref), v43 (ref), v30 (copy), v48 (ref)
    v6:Close();
    l_ScreenGui_0.HUD.Visible = false;
    if v461.Party0.Player ~= l_LocalPlayer_0 then
        local l_Party1_2 = v461.Party1;
        local l_Party0_2 = v461.Party0;
        v461.Party0 = l_Party1_2;
        v461.Party1 = l_Party0_2;
    end;
    v40 = v461;
    v295();
    v412();
    l_Trading_0.Visible = v40 ~= nil;
    v47();
    v43(false);
    v30:SetVisible(false);
    if v48 then
        v48:Disconnect();
        v48 = nil;
    end;
end);
v4.Event("TradeUpdated"):Connect(function(v464) --[[ Line: 1577 ]]
    -- upvalues: v40 (ref), l_LocalPlayer_0 (copy), v48 (ref), l_Players_0 (copy), v44 (ref), v45 (ref), v295 (copy), v412 (copy), l_Trading_0 (copy)
    if not v40 then
        return warn("got trade updated but trade wasn't started");
    else
        if v464.Party0.Player ~= l_LocalPlayer_0 then
            local l_Party1_3 = v464.Party1;
            local l_Party0_3 = v464.Party0;
            v464.Party0 = l_Party1_3;
            v464.Party1 = l_Party0_3;
        end;
        v40.Timer = v464.Timer;
        v40.Processing = v464.Processing;
        v40.Party0.Offer = v464.Party0.Offer;
        v40.Party1.Offer = v464.Party1.Offer;
        v40.Party0.Accepted = v464.Party0.Accepted;
        v40.Party1.Accepted = v464.Party1.Accepted;
        v40.Party0.Confirmed = v464.Party0.Confirmed;
        v40.Party1.Confirmed = v464.Party1.Confirmed;
        if not v40.ChatChannel and v464.ChatChannel then
            if v48 then
                v48:Disconnect();
            end;
            v48 = v464.ChatChannel.MessageReceived:Connect(function(v467) --[[ Line: 1597 ]]
                -- upvalues: l_Players_0 (ref), v44 (ref), v45 (ref)
                local v468 = if v467.TextSource then v467.TextSource.UserId else nil;
                local v469 = if v468 then l_Players_0:GetPlayerByUserId(v468) else nil;
                if v469 ~= nil then
                    local l_Translation_0 = v467.Translation;
                    if not l_Translation_0 or #l_Translation_0 == 0 then
                        l_Translation_0 = v467.Text;
                    end;
                    v44(v469, l_Translation_0);
                    v45();
                end;
            end);
        end;
        v40.ChatChannel = v464.ChatChannel;
        v295();
        v412();
        l_Trading_0.Visible = v40 ~= nil;
        return;
    end;
end);
l_Color_1 = l_ScreenGui_0.TradeResult;
l_Toggle_0 = function(v471) --[[ Line: 1619 ]] --[[ Name: showResult ]]
    -- upvalues: l_Color_1 (copy), l_ScreenGui_0 (copy)
    local v472 = l_Color_1:Clone();
    local l_Label_0 = v472.Frame.Page.Inner.Label;
    if v471 == "success" then
        l_Label_0.Text = "\240\159\159\162  Trade Completed!";
    elseif v471 == "cancelled" then
        l_Label_0.Text = "\240\159\159\160  Trade Cancelled!";
    else
        l_Label_0.Text = "\240\159\148\180  Trade Failed!";
    end;
    v472.Visible = true;
    v472.Parent = l_ScreenGui_0;
    task.delay(3, function() --[[ Line: 1631 ]]
        -- upvalues: v472 (copy)
        v472:Destroy();
    end);
end;
v4.Event("TradeEnded"):Connect(function(v474) --[[ Line: 1637 ]]
    -- upvalues: l_ScreenGui_0 (copy), v40 (ref), v295 (copy), v412 (copy), l_Trading_0 (copy), v47 (ref), v43 (ref), v48 (ref), v30 (copy), l_Toggle_0 (copy)
    l_ScreenGui_0.HUD.Visible = true;
    v40 = nil;
    v295();
    v412();
    l_Trading_0.Visible = v40 ~= nil;
    v47();
    v43(false);
    if v48 then
        v48:Disconnect();
        v48 = nil;
    end;
    v30:SetVisible(true);
    l_Toggle_0(v474);
    l_ScreenGui_0.Trading.Visible = false;
end);
v6:BindOnOpened("TradingMenu", v444);
return v39;
ModuleScript: WheelSpin
-- Saved by UniversalSynSaveInstance (Join to Copy Games) https://discord.gg/wx4ThpAsmw

local l_Players_0 = game:GetService("Players");
local l_ReplicatedStorage_0 = game:GetService("ReplicatedStorage");
local _ = game:GetService("RunService");
local l_TweenService_0 = game:GetService("TweenService");
local l_MarketplaceService_0 = game:GetService("MarketplaceService");
local l_ExperienceNotificationService_0 = game:GetService("ExperienceNotificationService");
local v6 = require(l_ReplicatedStorage_0.Shared.Data.WheelSpin);
local v7 = require(l_ReplicatedStorage_0.Client.Framework.Services.LocalData);
local v8 = require(l_ReplicatedStorage_0.Shared.Utils.Stats.ItemUtil);
local v9 = require(l_ReplicatedStorage_0.Shared.Framework.Utilities.String.FormatSuffix);
local v10 = require(l_ReplicatedStorage_0.Client.Gui.Utils.ClickableButton);
local v11 = require(l_ReplicatedStorage_0.Shared.Framework.Network.Remote);
local v12 = require(l_ReplicatedStorage_0.Client.Gui.GuiFrame);
local _ = require(l_ReplicatedStorage_0.Shared.Types);
local v14 = require(l_ReplicatedStorage_0.Client.Gui.GetScreenGuiHolder);
local v15 = require(l_ReplicatedStorage_0.Client.Gui.Utils.AutoButtonColor);
local v16 = require(l_ReplicatedStorage_0.Shared.Palette);
local v17 = require(l_ReplicatedStorage_0.Client.Activation);
local v18 = require(l_ReplicatedStorage_0.Client.Gui.Tooltip);
local v19 = require(l_ReplicatedStorage_0.Shared.Data.Builders.TooltipBuilder);
local v20 = require(l_ReplicatedStorage_0.Client.Gui.Utils.ItemFrame);
local _ = require(l_ReplicatedStorage_0.Client.Framework.Utilities.Gui.HookScrollingFrame);
local v22 = require(l_ReplicatedStorage_0.Shared.Utils.AnimateColor);
local v23 = require(l_ReplicatedStorage_0.Shared.Constants);
local v24 = require(l_ReplicatedStorage_0.Client.Gui.Utils.PlayLocalSound);
local v25 = require(l_ReplicatedStorage_0.Client.Gui.Utils.Shiny);
local v26 = require(l_ReplicatedStorage_0.Shared.Framework.Utilities.every);
local v27 = require(l_ReplicatedStorage_0.Shared.Framework.Utilities.Math.Time);
local v28 = require(l_ReplicatedStorage_0.Client.Framework.Utilities.Gui.Animations.SetFade);
local v29 = require(l_ReplicatedStorage_0.Client.Gui.Utils.GuiArrow);
local v30 = require(l_ReplicatedStorage_0.Client.Framework.Utilities.Gui.Confetti);
local v31 = require(l_ReplicatedStorage_0.Client.Gui.Utils.Notification);
local v32 = require(l_ReplicatedStorage_0.Shared.Utils.RichText);
local v33 = require(l_ReplicatedStorage_0.Client.Gui.Animations.ItemFall);
local v34 = require(l_ReplicatedStorage_0.Client.Effects.Bubble);
local v35 = require(l_ReplicatedStorage_0.Client.Gui.Animations.ProcessingPurchase);
local v36 = require(l_ReplicatedStorage_0.Shared.Data.Products);
local v37 = require(l_ReplicatedStorage_0.Shared.Framework.Utilities.ProductInfo);
local v38 = require(l_ReplicatedStorage_0.Shared.Utils.Stats.StatsUtil);
local l_LocalPlayer_0 = l_Players_0.LocalPlayer;
local l_ScreenGui_0 = l_LocalPlayer_0.PlayerGui.ScreenGui;
local l_Frame_0 = l_ScreenGui_0.WheelSpin.Frame;
local l_WheelSpin_0 = workspace.Worlds["The Overworld"].Islands["Floating Island"].Island.WheelSpin;
local l_SurfaceGui_0 = l_WheelSpin_0.Display.SurfaceGui;
l_SurfaceGui_0.Parent = v14();
l_SurfaceGui_0.Adornee = l_WheelSpin_0.Display;
local v44 = UDim2.fromScale(0.5, 0.5);
local l_NumberValue_0 = Instance.new("NumberValue");
local v46 = {};
local v47 = {
    Type = "Powerup", 
    Name = "Spin Ticket", 
    Amount = 1
};
local v48 = TweenInfo.new(6, Enum.EasingStyle.Circular);
local v49 = 1;
local v50 = 0;
local function v57(v51) --[[ Line: 70 ]] --[[ Name: getRotatedUDim2 ]]
    -- upvalues: l_NumberValue_0 (copy), v44 (copy)
    local v52 = math.rad(l_NumberValue_0.Value);
    local v53 = v51.X.Offset - v44.X.Offset;
    local v54 = v51.Y.Offset - v44.Y.Offset;
    local v55 = math.cos(v52);
    local v56 = math.sin(v52);
    return UDim2.new(v51.X.Scale, v53 * v55 - v54 * v56 + v44.X.Offset, v51.Y.Scale, v53 * v56 + v54 * v55 + v44.Y.Offset);
end;
local function _(v58) --[[ Line: 84 ]] --[[ Name: getAngleFromIndex ]]
    return -math.deg((v58 - 1) * 0.7853981633974483 - 0.39269908169872414) + 40 * (math.random() - 0.5);
end;
local function v64(v60) --[[ Line: 89 ]] --[[ Name: finishSpin ]]
    -- upvalues: v17 (copy), l_WheelSpin_0 (copy), l_ReplicatedStorage_0 (copy), v33 (copy), v6 (copy), v49 (ref), v11 (copy), v34 (copy), l_Frame_0 (copy)
    if v60 then
        v17:Beam(l_WheelSpin_0.Activation).Color = Color3.fromRGB(39, 237, 255);
        for _, v62 in (l_ReplicatedStorage_0.Assets.Particles.Confetti:GetChildren()) do
            if v62.Name ~= "Glow" then
                local v63 = v62:Clone();
                v63.EmissionDirection = Enum.NormalId.Left;
                v63.Acceleration = Vector3.new(-4, 0, 0, 0);
                v63.Enabled = false;
                v63.Parent = l_WheelSpin_0.Activation.Root;
                v63:Emit(20);
                task.delay(v63.Lifetime.Max, function() --[[ Line: 104 ]]
                    -- upvalues: v63 (copy)
                    v63:Destroy();
                end);
            end;
        end;
        v33(v6[v49].Item);
        v11:FireServer("ClaimWheelSpinQueue");
    end;
    v34.Faded = false;
    l_Frame_0.Main.Spin.Visible = true;
    l_Frame_0.Main.Skip.Visible = false;
end;
local v65 = nil;
local l_Frame_1 = l_ScreenGui_0.HUD.NotifyGame.Frame;
local v67 = nil;
local v68 = {
    "Emerald Golem", 
    "Inferno Dragon", 
    "Lunar Serpent"
};
local l_l_Frame_1_0 = l_Frame_1 --[[ copy: 55 -> 78 ]];
do
    local l_v67_0 = v67;
    local function v71() --[[ Line: 125 ]] --[[ Name: close ]]
        -- upvalues: l_v67_0 (ref), l_l_Frame_1_0 (copy), v22 (copy)
        if l_v67_0 then
            l_v67_0:Disconnect();
            l_v67_0 = nil;
        end;
        l_l_Frame_1_0.Parent.Visible = false;
        v22.None(l_l_Frame_1_0.Main.Icon.Legendary);
    end;
    local l_v68_0 = v68 --[[ copy: 57 -> 79 ]];
    v65 = function() --[[ Line: 134 ]] --[[ Name: promptNotify ]]
        -- upvalues: l_ExperienceNotificationService_0 (copy), l_v67_0 (ref), v26 (copy), l_v68_0 (copy), v8 (copy), l_l_Frame_1_0 (copy), v22 (copy)
        local l_status_0, l_result_0 = pcall(function() --[[ Line: 135 ]]
            -- upvalues: l_ExperienceNotificationService_0 (ref)
            return (l_ExperienceNotificationService_0:CanPromptOptInAsync());
        end);
        if l_status_0 and l_result_0 then
            local v75 = 0;
            do
                local l_v75_0 = v75;
                l_v67_0 = v26(0.2, function() --[[ Line: 141 ]]
                    -- upvalues: l_v75_0 (ref), l_v68_0 (ref), v8 (ref), l_l_Frame_1_0 (ref)
                    l_v75_0 = (l_v75_0 + 1) % #l_v68_0 + 1;
                    v8:UpdateIcon(l_l_Frame_1_0.Main.Icon, {
                        Type = "Pet", 
                        Name = l_v68_0[l_v75_0]
                    });
                end);
                v22.Cycle(l_l_Frame_1_0.Main.Icon.Legendary, "Rainbow", {
                    Speed = 0.4
                });
                l_l_Frame_1_0.Parent.Visible = true;
            end;
        end;
    end;
    l_ExperienceNotificationService_0.OptInPromptClosed:Connect(function() --[[ Line: 150 ]]
        -- upvalues: v11 (copy)
        v11:FireServer("FreeNotifyLegendary");
    end);
    v15(l_Frame_1.Top.Close.Button, v16.Button.Red);
    v10(l_Frame_1.Top.Close.Button, v71);
    v15(l_Frame_1.Main.Buttons.Close.Button, v16.Button.Inactive);
    v10(l_Frame_1.Main.Buttons.Close.Button, v71);
    v15(l_Frame_1.Main.Buttons.Notify.Button, v16.Button.Green);
    v10(l_Frame_1.Main.Buttons.Notify.Button, function() --[[ Line: 161 ]]
        -- upvalues: l_v67_0 (ref), l_l_Frame_1_0 (copy), v22 (copy), l_ExperienceNotificationService_0 (copy)
        if l_v67_0 then
            l_v67_0:Disconnect();
            l_v67_0 = nil;
        end;
        l_l_Frame_1_0.Parent.Visible = false;
        v22.None(l_l_Frame_1_0.Main.Icon.Legendary);
        l_ExperienceNotificationService_0:PromptOptIn();
    end);
    local v77 = nil;
    v7:ConnectDataChanged("Stats", function(v78) --[[ Line: 167 ]]
        -- upvalues: v77 (ref), v65 (ref)
        local l_WheelSpins_0 = v78.Stats.WheelSpins;
        if v77 ~= l_WheelSpins_0 then
            if l_WheelSpins_0 == 1 and v77 ~= nil then
                task.delay(2, v65);
            end;
            v77 = l_WheelSpins_0;
        end;
    end);
end;
l_Frame_1 = 0;
v67 = function() --[[ Line: 181 ]] --[[ Name: playSpin ]]
    -- upvalues: v7 (copy), v8 (copy), v47 (copy), v35 (copy), l_MarketplaceService_0 (copy), l_LocalPlayer_0 (copy), v36 (copy), l_Frame_0 (copy), v34 (copy), v11 (copy), v6 (copy), v49 (ref), v50 (ref), l_NumberValue_0 (copy), l_TweenService_0 (copy), v48 (copy), l_Frame_1 (ref), v64 (copy)
    local v80 = v7:Get();
    if not v80 then
        return;
    elseif v8:GetOwnedAmount(v80, v47) == 0 then
        v35:Show();
        l_MarketplaceService_0:PromptProductPurchase(l_LocalPlayer_0, v36["spin-1"].ProductId);
        return;
    else
        l_Frame_0.Main.Spin.Visible = false;
        l_Frame_0.Main.Skip.Visible = true;
        v34.Faded = true;
        local v81 = v11:InvokeServer("WheelSpin");
        if v81 then
            local _ = v6[v81];
            local v83 = -math.deg((v81 - 1) * 0.7853981633974483 - 0.39269908169872414) + 40 * (math.random() - 0.5);
            v49 = v81;
            v50 = v83 - 1440;
            l_NumberValue_0.Value = 0;
            l_TweenService_0:Create(l_NumberValue_0, v48, {
                Value = v50
            }):Play();
            local v84 = l_Frame_1 + 1;
            l_Frame_1 = v84;
            task.wait(v48.Time);
            if v84 ~= l_Frame_1 then
                return;
            else
                local l_l_NumberValue_0_0 = l_NumberValue_0;
                l_l_NumberValue_0_0.Value = l_l_NumberValue_0_0.Value % 360;
            end;
        end;
        v64(v81 ~= nil);
        return;
    end;
end;
v68 = 0;
local function v87() --[[ Line: 221 ]] --[[ Name: updateTicker ]]
    -- upvalues: v68 (ref), v24 (copy), l_TweenService_0 (copy), l_Frame_0 (copy)
    local v86 = v68 + 1;
    v68 = v86;
    v24("Click");
    l_TweenService_0:Create(l_Frame_0.Main.Spinner.Ticker, TweenInfo.new(0.1, Enum.EasingStyle.Quint), {
        Rotation = 30
    }):Play();
    task.wait(0.1);
    if v86 ~= v68 then
        return;
    else
        l_TweenService_0:Create(l_Frame_0.Main.Spinner.Ticker, TweenInfo.new(0.3), {
            Rotation = 0
        }):Play();
        return;
    end;
end;
local v88 = nil;
local function v93() --[[ Line: 235 ]] --[[ Name: updateItemPositions ]]
    -- upvalues: l_NumberValue_0 (copy), v88 (ref), v87 (copy), v46 (copy), v57 (copy), l_SurfaceGui_0 (copy), l_Frame_0 (copy)
    local v89 = math.floor((math.round(l_NumberValue_0.Value % 360 / 45 - 22.5)));
    if v88 == nil then
        v88 = v89;
    elseif v88 ~= v89 then
        v88 = v89;
        v87();
    end;
    local _ = math.floor((math.round(l_NumberValue_0.Value % 360 / 45 - 22.5)));
    for v91, v92 in v46 do
        v91.Position = v57(v92.Position);
    end;
    l_SurfaceGui_0.Spinner.Rotation = l_NumberValue_0.Value;
    l_Frame_0.Main.Spinner.Label.Rotation = l_NumberValue_0.Value;
end;
local v94 = nil;
local l_Button_0 = l_Frame_0.Main.Buttons.Free.Button;
local l_Timer_0 = l_ScreenGui_0.WorldMap.Worlds["The Overworld"].Islands["Floating Island"].Activities["Spin to Win"].Timer;
local function v101() --[[ Line: 258 ]] --[[ Name: updateClaimButton ]]
    -- upvalues: v7 (copy), v27 (copy), v94 (ref), v31 (copy), v32 (copy), v16 (copy), l_WheelSpin_0 (copy), l_Button_0 (copy), v29 (copy), v28 (copy), l_Timer_0 (copy)
    local v97 = v7:Get();
    if not v97 then
        return;
    else
        local v98 = math.max(0, v97.NextWheelSpin - v27.now());
        local v99 = v98 == 0;
        if v94 ~= v99 then
            if v94 ~= nil and v99 then
                v31(("You have a %* waiting to be claimed!"):format((v32.autoColor("Free Spin", v16.Text.Cyan))), {
                    TeleportId = l_WheelSpin_0.Activation.Root:GetFullName(), 
                    Sound = "NotificationRift"
                });
            end;
            if v99 then
                l_Button_0.Title.Text = "Claim";
                l_Button_0.Label.Text = "FREE SPIN";
                l_WheelSpin_0.Activation.Root.BillboardGui.Description.Text = "Claim your FREE spin!";
                v29:Add(l_Button_0.Parent);
            else
                l_Button_0.Title.Text = "Free spin in";
                v29:Remove(l_Button_0.Parent);
            end;
            v28(l_Button_0.Parent, v99 and 0 or 0.25, TweenInfo.new(0.2, Enum.EasingStyle.Quint), {
                "Frame", 
                "ImageLabel"
            });
            v94 = v99;
            l_Timer_0.Visible = not v99;
        end;
        if l_Button_0.Title.Text ~= "Claim" then
            local v100 = v27.formatTime(v98);
            l_Button_0.Label.Text = v100;
            l_Timer_0.Text = v27.formatTime(v98, true);
            l_WheelSpin_0.Activation.Root.BillboardGui.Description.Text = ("Free spin in %*"):format(v100);
        end;
        return;
    end;
end;
local v102 = {};
local l_v102_0 = v102 --[[ copy: 65 -> 80 ]];
local function v111() --[[ Line: 302 ]] --[[ Name: update ]]
    -- upvalues: l_v102_0 (copy), v36 (copy), l_Frame_0 (copy), v8 (copy), v23 (copy), l_ScreenGui_0 (copy)
    for v104 = 1, 3 do
        local v105 = ("spin-%*"):format(v104);
        local v106 = l_v102_0[v105];
        local v107 = v36[v105];
        if v107.Type == "Item" then
            local l_FirstChild_0 = l_Frame_0.Main.Buttons:FindFirstChild(v105);
            if l_FirstChild_0 then
                if v104 == 3 then
                    local l_v8_Amount_0 = v8:GetAmount(v107.Item);
                    local v110 = l_v102_0["spin-1"];
                    l_FirstChild_0.Button.Cost.Before.Text = ("%*%*"):format(v23.RobuxUnicode, v110 and v110 * l_v8_Amount_0 or "__");
                    task.defer(function() --[[ Line: 318 ]]
                        -- upvalues: l_FirstChild_0 (copy), l_ScreenGui_0 (ref)
                        l_FirstChild_0.Button.Cost.Before.Size = UDim2.fromOffset(l_FirstChild_0.Button.Cost.Before.TextBounds.X / l_ScreenGui_0.UIScale.Scale, 30);
                    end);
                end;
                l_FirstChild_0.Button.Cost.Label.Text = ("%*%*"):format(v23.RobuxUnicode, v106 or "__");
            end;
        end;
    end;
end;
for v112 = 1, 3 do
    local v113 = ("spin-%*"):format(v112);
    v37:ConnectProductChanged(v36[v113].ProductId, function(v114) --[[ Line: 328 ]]
        -- upvalues: v102 (copy), v113 (copy), v111 (copy)
        if v114 and v114.PriceInRobux then
            v102[v113] = v114.PriceInRobux;
        end;
        v111();
    end);
end;
for v115, v116 in v6 do
    for _, v118 in {
        l_SurfaceGui_0.Items:FindFirstChild("Item" .. v115), 
        (l_Frame_0.Main.Spinner.Items:FindFirstChild("Item" .. v115))
    } do
        if v118 then
            local _ = v8:GetAmount(v116.Item);
            v8:FormatAmount(v118.Button.Amount, v116.Item);
            v118.Button.Label.Text = ("%*%%"):format(v116.Chance);
            v8:UpdateIcon(v118.Button.Icon, v116.Item);
            local l_v8_Rarity_0 = v8:GetRarity(v116.Item);
            local v121 = v20(v116.Item);
            v121.Button.Inner.Label.Visible = false;
            v121.Button.Inner.Secret.Visible = false;
            v121.Size = UDim2.fromScale(1, 1);
            if l_v8_Rarity_0 == "Legendary" or l_v8_Rarity_0 == "Secret" then
                v22.Cycle(v118.Button.Label, "Rainbow", {
                    Speed = 0.5
                });
            else
                v118.Button.Label.TextColor3 = v23.RarityColors[l_v8_Rarity_0];
            end;
            v18:OnEnter(v118.Button, function() --[[ Line: 363 ]]
                -- upvalues: v118 (copy), l_SurfaceGui_0 (copy), v12 (copy), v19 (copy), v116 (copy)
                if v118.Parent == l_SurfaceGui_0.Items and v12:IsAnyOpen() then
                    return;
                else
                    return v19.fromItem(v116.Item);
                end;
            end);
            v46[v118] = {
                Item = v116.Item, 
                Position = v118.Position
            };
        end;
    end;
end;
for _, v123 in l_Frame_0.Main.Buttons:GetChildren() do
    if v123:IsA("Frame") then
        if v123.Name == "Free" then
            v15(v123.Button, v16.Button.Pink);
        elseif v123.Name == "spin-3" then
            v15(v123.Button, v16.Button.Orange);
        else
            v15(v123.Button, v16.Button.Green);
        end;
        local v124 = false;
        do
            local l_v124_0 = v124;
            v10(v123.Button, function() --[[ Line: 388 ]]
                -- upvalues: l_v124_0 (ref), v123 (copy), v24 (copy), v11 (copy), v30 (copy), v36 (copy), v35 (copy), l_MarketplaceService_0 (copy), l_LocalPlayer_0 (copy)
                if l_v124_0 then
                    return;
                else
                    if v123.Name == "Free" then
                        v24("FreeItem");
                        v11:FireServer("ClaimFreeWheelSpin");
                        v30:Emit(v30.Explosion, 10);
                    else
                        local v126 = v36[v123.Name];
                        v35:Show();
                        l_MarketplaceService_0:PromptProductPurchase(l_LocalPlayer_0, v126.ProductId);
                    end;
                    l_v124_0 = true;
                    task.wait(0.2);
                    l_v124_0 = false;
                    return;
                end;
            end, function() --[[ Line: 404 ]]
                -- upvalues: v123 (copy)
                if v123.Name ~= "Free" then
                    return true;
                else
                    return v123.Button.Title.Text == "Claim";
                end;
            end);
        end;
    end;
end;
v17:Bind(l_WheelSpin_0.Activation, function() --[[ Line: 413 ]]
    -- upvalues: v12 (copy)
    v12:Open("WheelSpin");
end);
local vv102 = l_Frame_0.Main.Spin.Button.Amount.Label;
v7:ConnectDataChanged({
    "NextWheelSpin", 
    "Powerups"
}, function(v127) --[[ Line: 420 ]]
    -- upvalues: v8 (copy), v47 (copy), v102 (copy), v16 (copy), v9 (copy), l_Frame_0 (copy), v28 (copy), v29 (copy), v101 (copy)
    local l_v8_OwnedAmount_0 = v8:GetOwnedAmount(v127, v47);
    vv102.TextColor3 = l_v8_OwnedAmount_0 > 0 and Color3.new(1, 1, 1) or v16.Text.Red;
    vv102.Text = v9(l_v8_OwnedAmount_0);
    l_Frame_0.Main.Spin.Button.Title.Visible = l_v8_OwnedAmount_0 > 0;
    v28(l_Frame_0.Main.Spin.Button, l_v8_OwnedAmount_0 > 0 and 0 or 0.35, TweenInfo.new(0.2, Enum.EasingStyle.Quint), {
        "Frame"
    });
    if l_v8_OwnedAmount_0 == 1 then
        v29:Add(l_Frame_0.Main.Spin, 45);
    else
        v29:Remove(l_Frame_0.Main.Spin);
    end;
    v101();
end);
v7:ConnectDataChanged({
    "Passes", 
    "TeamEquipped", 
    "Teams", 
    "MasteryUpgrades", 
    "ActivePotions", 
    "ActiveBuffs"
}, function(v129) --[[ Line: 442 ]]
    -- upvalues: v46 (copy), v38 (copy), v8 (copy)
    for v130, v131 in v46 do
        if v131.Item.Type == "Currency" then
            local v132 = math.ceil(v131.Item.Amount * v38:GetCurrencyMultiplier(v129, v131.Item.Currency, true));
            v8:FormatAmount(v130.Button.Amount, {
                Type = "Currency", 
                Currency = v131.Item.Currency, 
                Amount = v132
            });
        end;
    end;
end);
vv102:GetPropertyChangedSignal("TextBounds"):Connect(function() --[[ Line: 453 ]]
    -- upvalues: v102 (copy), l_ScreenGui_0 (copy)
    vv102.Size = UDim2.new(0, vv102.TextBounds.X / l_ScreenGui_0.UIScale.Scale, 1, 0);
end);
v15(l_Frame_0.Main.Spin.Button, v16.Button.Green);
v10(l_Frame_0.Main.Spin.Button, v67);
v15(l_Frame_0.Main.Skip.Button, v16.Button.Pink);
v10(l_Frame_0.Main.Skip.Button, function() --[[ Line: 461 ]]
    -- upvalues: l_Frame_1 (ref), l_NumberValue_0 (copy), v50 (ref), l_TweenService_0 (copy), v64 (copy)
    l_Frame_1 = l_Frame_1 + 1;
    l_NumberValue_0.Value = v50;
    l_TweenService_0:Create(l_NumberValue_0, TweenInfo.new(0.01), {
        Value = v50
    }):Play();
    v64(true);
end);
v15(l_Frame_0.Top.Close.Button, v16.Button.Red);
v10(l_Frame_0.Top.Close.Button, function() --[[ Line: 469 ]]
    -- upvalues: v12 (copy)
    v12:Close();
end);
v26(0.5, v101);
l_NumberValue_0.Value = 10;
l_Frame_0.Main.Skip.Visible = false;
l_NumberValue_0:GetPropertyChangedSignal("Value"):Connect(v93);
v93();
v12:BindOnOpened("WheelSpin", function() --[[ Line: 480 ]]
    -- upvalues: v22 (copy), l_Frame_0 (copy), v25 (copy)
    v22.Cycle(l_Frame_0.Main.Title, "Rainbow", {
        Speed = 0.5
    });
    v25:Add(l_Frame_0.Main.Buttons["spin-3"].Effect);
end);
v12:BindOnClosed("WheelSpin", function() --[[ Line: 485 ]]
    -- upvalues: v22 (copy), l_Frame_0 (copy), v25 (copy)
    v22.None(l_Frame_0.Main.Title);
    v25:Remove(l_Frame_0.Main.Buttons["spin-3"].Effect);
end);
return {};
ModuleScript: WorldMap
-- Saved by UniversalSynSaveInstance (Join to Copy Games) https://discord.gg/wx4ThpAsmw

local l_Players_0 = game:GetService("Players");
local l_ReplicatedStorage_0 = game:GetService("ReplicatedStorage");
local l_UserInputService_0 = game:GetService("UserInputService");
local l_RunService_0 = game:GetService("RunService");
local l_TweenService_0 = game:GetService("TweenService");
local v5 = require(l_ReplicatedStorage_0.Shared.Data.Eggs);
local v6 = require(l_ReplicatedStorage_0.Client.Gui.Tooltip);
local v7 = require(l_ReplicatedStorage_0.Shared.Data.Builders.TooltipBuilder);
local v8 = require(l_ReplicatedStorage_0.Client.Framework.Services.LocalData);
local v9 = require(l_ReplicatedStorage_0.Shared.Framework.Utilities.every);
local _ = require(l_ReplicatedStorage_0.Client.Gui.GuiFrame);
local v11 = require(l_ReplicatedStorage_0.Shared.Framework.Utilities.Math.Time);
local v12 = require(l_ReplicatedStorage_0.Shared.Framework.Classes.Maid);
local v13 = require(l_ReplicatedStorage_0.Client.Gui.Utils.AutoButtonColor);
local v14 = require(l_ReplicatedStorage_0.Shared.Palette);
local v15 = require(l_ReplicatedStorage_0.Client.Gui.Utils.ClickableButton);
local v16 = require(l_ReplicatedStorage_0.Shared.Framework.Utilities.String.FormatSuffix);
local v17 = require(l_ReplicatedStorage_0.Client.Gui.PlayTransition);
local v18 = require(l_ReplicatedStorage_0.Shared.Framework.Network.Remote);
local v19 = require(l_ReplicatedStorage_0.Shared.Utils.WorldUtil);
local v20 = require(l_ReplicatedStorage_0.Client.Activation);
local _ = require(l_ReplicatedStorage_0.Shared.Data.Chests);
local _ = require(l_ReplicatedStorage_0.Shared.Framework.Utilities.Table.DeepCopy);
local v23 = require(l_ReplicatedStorage_0.Shared.Framework.Utilities.CharacterUtil);
local v24 = require(l_ReplicatedStorage_0.Client.Gui.Utils.SetCoreGuiEnabled);
local v25 = require(l_ReplicatedStorage_0.Client.PlayerControls);
local _ = require(l_ReplicatedStorage_0.Shared.Utils.Stats.StatsUtil);
local v27 = require(l_ReplicatedStorage_0.Client.Effects.Physics);
local l_LocalPlayer_0 = l_Players_0.LocalPlayer;
local l_ScreenGui_0 = l_LocalPlayer_0.PlayerGui.ScreenGui;
local l_WorldMap_0 = l_ScreenGui_0.WorldMap;
local l_CurrentCamera_0 = workspace.CurrentCamera;
local l_Worlds_0 = l_WorldMap_0.Worlds;
local l_Marker_0 = l_WorldMap_0.Arrows.Bar.Marker;
local l_Selection_0 = l_Worlds_0["The Overworld"].Islands["Floating Island"].Selection;
local v35 = {};
local v36 = 1;
local v37 = {
    Type = "World", 
    Name = "The Overworld", 
    World = "The Overworld"
};
local v38 = {};
local v39 = {};
local v40 = {};
local v41 = {};
local v42 = v12.new();
local l_NumberValue_0 = Instance.new("NumberValue");
local v44 = TweenInfo.new(0.5, Enum.EasingStyle.Quint);
local function _(v45, v46) --[[ Line: 78 ]] --[[ Name: elementToCanvasHeight ]]
    -- upvalues: l_ScreenGui_0 (copy), l_Worlds_0 (copy)
    local l_Scale_0 = l_ScreenGui_0.UIScale.Scale;
    return l_Worlds_0.AbsoluteCanvasSize.Y - v45.Size.Y.Offset * l_Scale_0 + (v45.Size.Y.Offset - math.abs(v46.Position.Y.Offset)) * l_Scale_0;
end;
local function v53(v49, v50) --[[ Line: 87 ]] --[[ Name: updateSelectionVisual ]]
    -- upvalues: l_Worlds_0 (copy), v40 (copy)
    local v51 = v50 and Color3.fromRGB(35, 251, 255) or Color3.new();
    if v49.Type == "World" then
        local l_World_0 = l_Worlds_0[v49.Name]:FindFirstChild("World");
        if l_World_0 then
            l_World_0.Backing.ImageColor3 = v51;
            return;
        end;
    else
        v40[v49.Name].Backing.ImageColor3 = v51;
    end;
end;
local function _(v54, v55) --[[ Line: 100 ]] --[[ Name: toggleArrow ]]
    local v56 = v55 and 0 or 0.75;
    v54.Button.BackgroundTransparency = v56;
    v54.Button.UIStroke.Transparency = v56;
    v54.Button.Label.ImageTransparency = v56;
end;
local function v73(v58, v59) --[[ Line: 108 ]] --[[ Name: updateSelected ]]
    -- upvalues: v8 (copy), v35 (copy), l_CurrentCamera_0 (copy), l_ScreenGui_0 (copy), l_Worlds_0 (copy), l_Selection_0 (copy), v40 (copy), l_Marker_0 (copy), l_NumberValue_0 (copy), l_TweenService_0 (copy), v44 (copy), l_WorldMap_0 (copy), v53 (copy), v37 (ref), v36 (ref)
    local v60 = v8:Get();
    if not v60 then
        return;
    else
        local v61 = v35[v58];
        if not v61 then
            return;
        else
            local l_Selected_0 = v61.Selected;
            local v63 = l_CurrentCamera_0.ViewportSize.Y / 2;
            local v64 = 0;
            local l_Attribute_0 = workspace.Worlds[l_Selected_0.World]:GetAttribute("Height");
            local l_new_0 = Vector2.new;
            local v67 = 0;
            local l_Parent_0 = v61.Element.Parent;
            local l_Object_0 = v61.Element.Object;
            local l_Scale_1 = l_ScreenGui_0.UIScale.Scale;
            l_new_0 = l_new_0(v67, l_Worlds_0.AbsoluteCanvasSize.Y - l_Parent_0.Size.Y.Offset * l_Scale_1 + (l_Parent_0.Size.Y.Offset - math.abs(l_Object_0.Position.Y.Offset)) * l_Scale_1 - v63);
            if l_Selected_0.Type == "World" then
                l_Selection_0.Parent = nil;
            else
                v67 = workspace.Worlds[l_Selected_0.World].Islands:FindFirstChild(l_Selected_0.Name);
                v64 = v67 and v67:GetAttribute("Height") or 0;
                l_Selection_0.Parent = v40[l_Selected_0.Name];
            end;
            v67 = (1 - v64 / l_Attribute_0) * 0.8 + 0.1;
            if v59 then
                l_Worlds_0.CanvasPosition = l_new_0;
                l_Marker_0.Position = UDim2.fromScale(0, v67);
                l_NumberValue_0.Value = v64;
            else
                l_TweenService_0:Create(l_Marker_0, v44, {
                    Position = UDim2.fromScale(0, v67)
                }):Play();
                l_TweenService_0:Create(l_Worlds_0, v44, {
                    CanvasPosition = l_new_0
                }):Play();
                l_TweenService_0:Create(l_NumberValue_0, v44, {
                    Value = v64
                }):Play();
            end;
            local v71 = false;
            v71 = if l_Selected_0.Type == "World" then v60.WorldsUnlocked[l_Selected_0.World] ~= nil else v60.AreasUnlocked[l_Selected_0.Name] ~= nil;
            l_WorldMap_0.Teleport.Visible = v71;
            v53(v37, false);
            v53(l_Selected_0, true);
            local l_Down_0 = l_WorldMap_0.Arrows.Down;
            l_Object_0 = v58 > 1 and 0 or 0.75;
            l_Down_0.Button.BackgroundTransparency = l_Object_0;
            l_Down_0.Button.UIStroke.Transparency = l_Object_0;
            l_Down_0.Button.Label.ImageTransparency = l_Object_0;
            l_Down_0 = l_WorldMap_0.Arrows.Up;
            l_Object_0 = v35[v58 + 1] ~= nil and 0 or 0.75;
            l_Down_0.Button.BackgroundTransparency = l_Object_0;
            l_Down_0.Button.UIStroke.Transparency = l_Object_0;
            l_Down_0.Button.Label.ImageTransparency = l_Object_0;
            v37 = l_Selected_0;
            v36 = v58;
            return;
        end;
    end;
end;
local l_VIP_0 = l_WorldMap_0.Worlds["The Overworld"].World.VIP;
local function v87() --[[ Line: 164 ]] --[[ Name: update ]]
    -- upvalues: v8 (copy), v40 (copy), l_VIP_0 (copy), l_WorldMap_0 (copy)
    local v75 = v8:Get();
    if not v75 then
        return;
    else
        local v76 = false;
        local v77 = false;
        for _, v79 in v75.MasteryUpgrades do
            if v79.Type == "QuickCollect" then
                if v79.Action == "All" then
                    v77 = true;
                end;
                v76 = true;
                break;
            end;
        end;
        for v80, v81 in v40 do
            local v82 = v75.AreasUnlocked[v80] ~= nil;
            v81.Activities.Visible = v82;
            v81.Label.Text = v82 and v80 or "???";
            v81.Locked.Visible = not v82;
            v81.Button.Icon.Label.ImageColor3 = v82 and Color3.new(1, 1, 1) or Color3.new();
            v81.Button.ImageColor3 = v81.Button.Icon.Label.ImageColor3;
            v81.Auto.Button.Visible = v82 and v81.Button.Icon:FindFirstChild("Timer") ~= nil and v76;
            if not v82 then
                local l_TextLabel_0 = v81.Button.Icon:FindFirstChildOfClass("TextLabel");
                if l_TextLabel_0 then
                    l_TextLabel_0.Visible = false;
                end;
                v81.Button.Icon.Label.ImageTransparency = 0;
            end;
        end;
        local l_TextLabel_1 = l_VIP_0:FindFirstChildOfClass("TextLabel");
        l_VIP_0.Visible = v75.Passes.VIP == true;
        local l_Button_0 = l_VIP_0.Auto.Button;
        local v86 = false;
        if l_TextLabel_1 ~= nil then
            v86 = v76;
        end;
        l_Button_0.Visible = v86;
        l_WorldMap_0.QuickCollect.Visible = v77;
        return;
    end;
end;
v38.GetLocation = function(_) --[[ Line: 208 ]] --[[ Name: GetLocation ]]
    -- upvalues: v19 (copy), l_LocalPlayer_0 (copy), v23 (copy)
    local l_v19_PlayerWorld_0 = v19:GetPlayerWorld(l_LocalPlayer_0);
    local v90 = workspace.Worlds[l_v19_PlayerWorld_0];
    local l_Islands_0 = v90:FindFirstChild("Islands");
    local l_v23_RootPart_0 = v23:GetRootPart(l_LocalPlayer_0);
    local v93 = {};
    local l_Spawn_0 = v90:FindFirstChild("Spawn");
    if l_Spawn_0 then
        v93[l_v19_PlayerWorld_0] = l_Spawn_0.Position.Y;
    end;
    if l_Islands_0 then
        for _, v96 in l_Islands_0:GetChildren() do
            if v96:IsA("Folder") then
                v93[v96.Name] = v96.Island:GetPivot().Position.Y;
            end;
        end;
    end;
    local l_l_v19_PlayerWorld_0_0 = l_v19_PlayerWorld_0;
    local v98 = 1e999;
    if l_v23_RootPart_0 then
        for v99, v100 in v93 do
            local v101 = math.abs(v100 - l_v23_RootPart_0.Position.Y);
            if v101 < v98 then
                v98 = v101;
                l_l_v19_PlayerWorld_0_0 = v99;
            end;
        end;
    end;
    return l_l_v19_PlayerWorld_0_0;
end;
v38.Open = function(_, v103) --[[ Line: 242 ]] --[[ Name: Open ]]
    -- upvalues: l_WorldMap_0 (copy), v38 (copy), v35 (copy), v24 (copy), v73 (copy)
    local v104 = l_WorldMap_0.Visible == false;
    l_WorldMap_0.Visible = true;
    if not v103 then
        v103 = v38:GetLocation();
    end;
    local v105 = 1;
    if v103 then
        for v106, v107 in v35 do
            if v107.Selected.Name == v103 then
                v105 = v106;
                break;
            end;
        end;
    end;
    v24(false);
    v73(v105, v104);
end;
for _, v109 in l_Worlds_0:GetChildren() do
    local l_FirstChild_0 = workspace.Worlds:FindFirstChild(v109.Name);
    local v111 = l_FirstChild_0 and l_FirstChild_0:FindFirstChild("Islands");
    if v111 then
        local l_FastTravel_0 = l_FirstChild_0:FindFirstChild("FastTravel");
        if l_FastTravel_0 then
            v20:Bind(l_FastTravel_0, function() --[[ Line: 274 ]]
                -- upvalues: l_LocalPlayer_0 (copy), v17 (copy), v38 (copy)
                if l_LocalPlayer_0.PlayerGui:FindFirstChild("TransitionGui") then
                    return;
                else
                    v17("Loading Galaxy", function() --[[ Line: 278 ]]
                        -- upvalues: v38 (ref)
                        v38:Open();
                    end);
                    return;
                end;
            end);
        end;
        local v113 = {};
        for _, v115 in v109.Islands:GetChildren() do
            if v111:FindFirstChild(v115.Name) then
                for _, v117 in v115.Activities:GetChildren() do
                    if v117:IsA("ImageButton") then
                        local l_v117_Attribute_0 = v117:GetAttribute("Description");
                        local l_v117_Attribute_1 = v117:GetAttribute("Type");
                        if not l_v117_Attribute_0 or not l_v117_Attribute_1 then
                            warn((("Missing information for %* in world map"):format(v115.Name)));
                        else
                            v6:OnEnter(v117, function() --[[ Line: 300 ]]
                                -- upvalues: v7 (copy), v117 (copy), l_v117_Attribute_1 (copy), l_v117_Attribute_0 (copy)
                                return v7.new():Width(300):Title(v117.Image, v117.Name, l_v117_Attribute_1):Add({
                                    Type = "Text", 
                                    Text = l_v117_Attribute_0, 
                                    Size = 28
                                }):Build();
                            end);
                        end;
                    end;
                end;
                v15(v115.Button, function() --[[ Line: 313 ]]
                    -- upvalues: v38 (copy), v115 (copy)
                    v38:Open(v115.Name);
                end);
                table.insert(v113, v115);
                v40[v115.Name] = v115;
            end;
        end;
        table.sort(v113, function(v120, v121) --[[ Line: 321 ]]
            return v120.LayoutOrder < v121.LayoutOrder;
        end);
        table.insert(v35, {
            Selected = {
                Type = "World", 
                Name = v109.Name, 
                World = v109.Name
            }, 
            Element = {
                Parent = v109, 
                Object = v109.World
            }
        });
        for _, v123 in v113 do
            table.insert(v35, {
                Selected = {
                    Type = "Island", 
                    Name = v123.Name, 
                    World = v109.Name
                }, 
                Element = {
                    Parent = v109, 
                    Object = v123
                }
            });
        end;
        v15(v109.World.Button, function() --[[ Line: 343 ]]
            -- upvalues: v38 (copy), v109 (copy)
            v38:Open(v109.Name);
        end);
    end;
end;
for v124, v125 in v5 do
    if v125.Island then
        local v126 = v40[v125.Island];
        if v126 then
            local l_ImageButton_0 = Instance.new("ImageButton");
            l_ImageButton_0.Size = UDim2.fromOffset(50, 50);
            l_ImageButton_0.BackgroundTransparency = 1;
            l_ImageButton_0.Image = v125.Image;
            l_ImageButton_0.LayoutOrder = v125.LayoutOrder - 100;
            l_ImageButton_0.Parent = v126.Activities;
            v39[v124] = l_ImageButton_0;
            v6:OnEnter(l_ImageButton_0, function() --[[ Line: 364 ]]
                -- upvalues: l_ImageButton_0 (copy), v7 (copy), v124 (copy)
                if l_ImageButton_0.ImageColor3 == Color3.new(0, 0, 0) then
                    return;
                else
                    return v7.fromEgg(v124);
                end;
            end);
        end;
    end;
end;
for _, v129 in workspace.Rendered.Chests:GetChildren() do
    local l_v129_Attribute_0 = v129:GetAttribute("Island");
    if l_v129_Attribute_0 then
        local v131 = v40[l_v129_Attribute_0];
        if v131 then
            v13(v131.Auto.Button, v14.Button.Pink);
            v15(v131.Auto.Button, function() --[[ Line: 393 ]]
                -- upvalues: v18 (copy), v129 (copy)
                v18:FireServer("ClaimChest", v129.Name, true);
            end);
            v41[v129.Name] = v131;
        end;
    end;
end;
local v132 = false;
v13(l_WorldMap_0.QuickCollect.Button, v14.Button.Orange);
do
    local l_v132_0 = v132;
    v15(l_WorldMap_0.QuickCollect.Button, function() --[[ Line: 404 ]]
        -- upvalues: l_v132_0 (ref), v18 (copy)
        if l_v132_0 then
            return;
        else
            l_v132_0 = true;
            for _, v135 in workspace.Rendered.Chests:GetChildren() do
                v18:FireServer("ClaimChest", v135.Name, true);
                task.wait(0.1);
            end;
            task.wait(2);
            l_v132_0 = false;
            return;
        end;
    end);
end;
v13(l_WorldMap_0.Arrows.Up.Button, v14.Button.Default);
v15(l_WorldMap_0.Arrows.Up.Button, function() --[[ Line: 419 ]]
    -- upvalues: v73 (copy), v36 (ref)
    v73(v36 + 1);
end, function() --[[ Line: 421 ]]
    -- upvalues: l_WorldMap_0 (copy)
    return l_WorldMap_0.Arrows.Up.Button.BackgroundTransparency == 0;
end);
v13(l_WorldMap_0.Arrows.Down.Button, v14.Button.Default);
v15(l_WorldMap_0.Arrows.Down.Button, function() --[[ Line: 426 ]]
    -- upvalues: v73 (copy), v36 (ref)
    v73(v36 - 1);
end, function() --[[ Line: 428 ]]
    -- upvalues: l_WorldMap_0 (copy)
    return l_WorldMap_0.Arrows.Down.Button.BackgroundTransparency == 0;
end);
v13(l_WorldMap_0.Teleport.Button, v14.Button.Green);
v15(l_WorldMap_0.Teleport.Button, function() --[[ Line: 435 ]]
	-- upvalues: v17 (copy), v37 (ref), v18 (copy), v19 (copy), v25 (copy), v27 (copy), l_WorldMap_0 (copy)

	local destination = v37.Name or v37.World or "Backrooms" -- Gvenli isim belirle

	v17("Teleporting to " .. destination, function() --[[ Line: 436 ]]
		-- upvalues: v37 (ref), v18 (ref), v19 (ref), v25 (ref), v27 (ref), l_WorldMap_0 (ref)

		if v37.Type == "World" then
			local l_FastTravel_1 = workspace.Worlds[v37.World]:FindFirstChild("FastTravel")
			local v137 = l_FastTravel_1 and l_FastTravel_1:FindFirstChild("Spawn")
			if v137 then
				v18:FireServer("Teleport", v137:GetFullName())
			end
		else
			v18:FireServer("Teleport", v19.toIslandLocation(v37.World, v37.Name))
		end

		v25:EnableMaster()
		v25:Enable()
		v27:Update()
		l_WorldMap_0.Visible = false
	end)
end)
l_NumberValue_0:GetPropertyChangedSignal("Value"):Connect(function() --[[ Line: 455 ]]
    -- upvalues: l_Marker_0 (copy), v16 (copy), l_NumberValue_0 (copy)
    l_Marker_0.Label.Text = ("%*m"):format((v16(math.floor(l_NumberValue_0.Value / 5) * 5)));
end);
v8:ConnectDataChanged("EggsOpened", function(v138) --[[ Line: 459 ]]
    -- upvalues: v39 (copy), v5 (copy)
    for v139, v140 in v39 do
        v140.ImageColor3 = (not (v5[v139].Island ~= nil) or v138.EggsOpened[v139] ~= nil) and Color3.new(1, 1, 1) or Color3.new();
    end;
end);
v38.IsOpen = function(_) --[[ Line: 469 ]] --[[ Name: IsOpen ]]
    -- upvalues: l_WorldMap_0 (copy)
    return l_WorldMap_0.Visible;
end;
v38.Close = function(_) --[[ Line: 473 ]] --[[ Name: Close ]]
    -- upvalues: l_WorldMap_0 (copy)
    l_WorldMap_0.Visible = false;
end;
v13(l_WorldMap_0.Close, v14.Button.Red);
v15(l_WorldMap_0.Close, function() --[[ Line: 479 ]]
    -- upvalues: v38 (copy)
    v38:Close();
end);
v13(l_VIP_0.Auto.Button, v14.Button.Pink);
v15(l_VIP_0.Auto.Button, function() --[[ Line: 485 ]]
    -- upvalues: v18 (copy)
    v18:FireServer("ClaimChest", "Infinity Chest", true);
end);
v8:ConnectDataChanged({
    "AreasUnlocked", 
    "MasteryUpgrades", 
    "Passes"
}, v87);
v132 = false;
local v143 = Vector2.new();
local l_v36_0 = v36;
l_WorldMap_0.Visible = false;
l_WorldMap_0.Worlds.ScrollingEnabled = false;
l_WorldMap_0:GetPropertyChangedSignal("Visible"):Connect(function() --[[ Line: 498 ]]
    -- upvalues: l_WorldMap_0 (copy), v42 (copy), v9 (copy), v8 (copy), v11 (copy), v41 (copy), l_VIP_0 (copy), l_RunService_0 (copy), l_Selection_0 (copy), v24 (copy), v132 (ref)
    if l_WorldMap_0.Visible then
        local v145 = 0;
        v42:Add(v9(0.25, function() --[[ Line: 501 ]]
            -- upvalues: v8 (ref), v11 (ref), v41 (ref), l_VIP_0 (ref)
            local v146 = v8:Get();
            if not v146 then
                return;
            else
                local v147 = v11.now();
                for v148, v149 in v41 do
                    if v146.AreasUnlocked[v149.Name] then
                        local v150 = (v146.Cooldowns[v148] or 0) - v147;
                        v149.Button.Icon.Timer.Visible = v150 > 0;
                        v149.Button.Icon.Label.ImageTransparency = v150 > 0 and 0.35 or 0;
                        v149.Button.Icon.Timer.Text = v11.formatTime(v150);
                        v149.Auto.Visible = v150 <= 0;
                    end;
                end;
                local v151 = (v146.Cooldowns["Infinity Chest"] or 0) - v147;
                l_VIP_0.Timer.Visible = v151 > 0;
                l_VIP_0.Label.ImageTransparency = v151 > 0 and 0.35 or 0;
                l_VIP_0.Timer.Text = v11.formatTime(v151);
                l_VIP_0.Auto.Visible = v151 <= 0;
                return;
            end;
        end));
        do
            local l_v145_0 = v145;
            v42:Add(l_RunService_0.Heartbeat:Connect(function(v153) --[[ Line: 524 ]]
                -- upvalues: l_Selection_0 (ref), l_v145_0 (ref)
                if not l_Selection_0.Parent then
                    return;
                else
                    local v154 = (math.sin(l_v145_0 * 3) + 1) / 12 + 1;
                    local v155 = l_Selection_0.Parent.Size.X.Offset * 0.75 * v154;
                    l_Selection_0.Size = UDim2.fromOffset(v155, v155);
                    l_Selection_0.Rotation = (math.floor(l_v145_0 * 2) % 2 - 1) * 45;
                    l_v145_0 = l_v145_0 + v153;
                    return;
                end;
            end));
        end;
    else
        v42:Cleanup();
        v24(true);
    end;
    v132 = false;
end);
l_UserInputService_0.InputChanged:Connect(function(v156, _) --[[ Line: 543 ]]
    -- upvalues: l_WorldMap_0 (copy), v73 (copy), v36 (ref)
    if l_WorldMap_0.Visible == false then
        return;
    else
        if v156.UserInputType == Enum.UserInputType.MouseWheel then
            local v158 = v156.Position.Z > 0 and 1 or -1;
            if v158 == 1 and l_WorldMap_0.Arrows.Up.Button.BackgroundTransparency ~= 0 then
                return;
            elseif v158 == -1 and l_WorldMap_0.Arrows.Down.Button.BackgroundTransparency ~= 0 then
                return;
            else
                v73(v36 + v158);
            end;
        end;
        return;
    end;
end);
l_UserInputService_0.InputBegan:Connect(function(v159) --[[ Line: 558 ]]
    -- upvalues: l_WorldMap_0 (copy), v132 (ref), l_v36_0 (ref), v36 (ref), v143 (ref), l_UserInputService_0 (copy)
    if l_WorldMap_0.Visible == false then
        return;
    elseif v159.UserInputType ~= Enum.UserInputType.Touch then
        return;
    else
        v132 = true;
        l_v36_0 = v36;
        v143 = l_UserInputService_0:GetMouseLocation();
        return;
    end;
end);
l_UserInputService_0.InputEnded:Connect(function(v160) --[[ Line: 570 ]]
    -- upvalues: l_WorldMap_0 (copy), v132 (ref)
    if l_WorldMap_0.Visible == false then
        return;
    elseif v160.UserInputType ~= Enum.UserInputType.Touch then
        return;
    else
        v132 = false;
        return;
    end;
end);
local v161 = 0;
l_RunService_0.Heartbeat:Connect(function() --[[ Line: 582 ]]
    -- upvalues: l_WorldMap_0 (copy), v132 (ref), v161 (ref), l_UserInputService_0 (copy), v143 (ref), v73 (copy), l_v36_0 (ref)
    if l_WorldMap_0.Visible == false then
        return;
    elseif v132 == false then
        v161 = 0;
        return;
    else
        local v162 = math.floor((l_UserInputService_0:GetMouseLocation().Y - v143.Y) / 100);
        if v162 ~= v161 then
            v73(l_v36_0 + v162);
            v161 = v162;
        end;
        return;
    end;
end);
return v38;
ModuleScript: _changelog
-- Saved by UniversalSynSaveInstance (Join to Copy Games) https://discord.gg/wx4ThpAsmw

local l_Players_0 = game:GetService("Players");
local l_ReplicatedStorage_0 = game:GetService("ReplicatedStorage");
local v2 = require(l_ReplicatedStorage_0.Client.Framework.Utilities.Gui.HookScrollingFrame);
local v3 = require(l_ReplicatedStorage_0.Shared.Constants);
local v4 = require(l_ReplicatedStorage_0.Client.Gui.Utils.AutoButtonColor);
local v5 = require(l_ReplicatedStorage_0.Shared.Palette);
local v6 = require(l_ReplicatedStorage_0.Client.Gui.Utils.ClickableButton);
local v7 = require(l_ReplicatedStorage_0.Client.Gui.GuiFrame);
local v8 = require(l_ReplicatedStorage_0.Client.Framework.Services.LocalData);
local l_ScreenGui_0 = l_Players_0.LocalPlayer.PlayerGui.ScreenGui;
local l_Frame_0 = l_ScreenGui_0._changelog.Frame;
local l_Update_0 = v3.Update;
local function v20(v12) --[[ Line: 22 ]] --[[ Name: update ]]
    -- upvalues: l_Frame_0 (copy), l_Update_0 (ref)
    local l_FirstChild_0 = l_Frame_0.ScrollingFrame.Content.Logs:FindFirstChild(v12);
    if l_FirstChild_0 then
        l_Frame_0.ScrollingFrame.Content.Size = UDim2.new(1, 0, 0, l_FirstChild_0.Size.Y.Offset + 140);
    end;
    for _, v15 in l_Frame_0.ScrollingFrame.Content.Logs:GetChildren() do
        if v15:IsA("Frame") then
            v15.Visible = v15.Name == v12;
        end;
    end;
    for _, v17 in l_Frame_0.ScrollingFrame.Content.Title:GetChildren() do
        if v17:IsA("Frame") then
            v17.Visible = v17.Name == v12;
        end;
    end;
    for _, v19 in l_Frame_0.Updates:GetChildren() do
        if v19:IsA("Frame") then
            v19.Glow.ImageColor3 = v19.Name == v12 and Color3.fromRGB(0, 234, 255) or Color3.new();
        end;
    end;
    l_Update_0 = v12;
end;
for _, v22 in l_Frame_0.ScrollingFrame.Content.Logs:GetChildren() do
    local l_UIListLayout_0 = v22.UIListLayout;
    local function v24() --[[ Line: 48 ]] --[[ Name: update ]]
        -- upvalues: v22 (copy), l_UIListLayout_0 (copy), l_ScreenGui_0 (copy)
        v22.Size = UDim2.new(1, 0, 0, l_UIListLayout_0.AbsoluteContentSize.Y / l_ScreenGui_0.UIScale.Scale);
    end;
    v22.Size = UDim2.new(1, 0, 0, l_UIListLayout_0.AbsoluteContentSize.Y / l_ScreenGui_0.UIScale.Scale);
    l_UIListLayout_0:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(v24);
end;
for _, v26 in l_Frame_0.Updates:GetChildren() do
    if v26:IsA("Frame") then
        v6(v26.Button, function() --[[ Line: 58 ]]
            -- upvalues: v20 (copy), v26 (copy)
            v20(v26.Name);
        end);
    end;
end;
v8:ConnectDataChanged("LastUpdate", function(v27) --[[ Line: 65 ]]
    -- upvalues: v20 (copy), v3 (copy)
    if v27.LastUpdate.ShouldDisplay then
        v20(v3.Update);
    end;
end);
v4(l_Frame_0.Close, v5.Button.Red);
v6(l_Frame_0.Close, function() --[[ Line: 73 ]]
    -- upvalues: v7 (copy)
    v7:Close();
end);
v6(l_ScreenGui_0.Settings.Frame.Sidebar.Buttons.Changelog.Button, function() --[[ Line: 80 ]]
    -- upvalues: v7 (copy)
    v7:Open("_changelog");
end);
v2(l_Frame_0.Updates, l_Frame_0.Updates.UIListLayout);
v2(l_Frame_0.ScrollingFrame, l_Frame_0.ScrollingFrame.UIListLayout);
return {};
ModuleScript: _debug 
-- Saved by UniversalSynSaveInstance (Join to Copy Games) https://discord.gg/wx4ThpAsmw

local l_Players_0 = game:GetService("Players");
local l_ReplicatedStorage_0 = game:GetService("ReplicatedStorage");
local v2 = require(l_ReplicatedStorage_0.Shared.Utils.RichText);
local v3 = require(l_ReplicatedStorage_0.Client.Framework.Services.LocalData);
local v4 = require(l_ReplicatedStorage_0.Shared.Utils.Stats.StatsUtil);
local _ = require(l_ReplicatedStorage_0.Shared.Framework.Utilities.String.FormatPercent);
local v6 = require(l_ReplicatedStorage_0.Shared.Palette);
local v7 = require(l_ReplicatedStorage_0.Shared.Framework.Utilities.String.FormatSuffix);
local _ = require(l_ReplicatedStorage_0.Shared.Framework.Utilities.every);
local v9 = require(l_ReplicatedStorage_0.Shared.Framework.Utilities.Math.Time);
local v10 = require(l_ReplicatedStorage_0.Shared.Framework.Utilities.String.FormatCommas);
local v11 = require(l_ReplicatedStorage_0.Shared.GlobalEvent);
local v12 = require(l_ReplicatedStorage_0.Shared.Utils.WorldUtil);
local l_LocalPlayer_0 = l_Players_0.LocalPlayer;
local l_ScreenGui_0 = l_LocalPlayer_0.PlayerGui.ScreenGui;
local l__debug_0 = l_ScreenGui_0._debug;
local l_Template_0 = l__debug_0.Tags.Template;
l_Template_0.Parent = nil;
local v17 = v2.new():bold();
local v18 = v2.new():stroke({
    color = "#000000", 
    joins = Enum.LineJoinMode.Round, 
    thickness = 2
});
local v19 = {
    "ActiveBuffs", 
    "ActivePotions", 
    "MasteryUpgrades", 
    "MasteryLevels", 
    "Gamepasses", 
    "Pets", 
    "Teams", 
    "TeamEquipped"
};
local v20 = 0;
local function v25(v21) --[[ Line: 45 ]] --[[ Name: createTag ]]
    -- upvalues: v20 (ref), l_Template_0 (copy), l__debug_0 (copy), l_ScreenGui_0 (copy), v18 (copy)
    local v22 = v20 + 1;
    v20 = v22;
    local v23 = l_Template_0:Clone();
    v23.LayoutOrder = v22;
    v23.Size = UDim2.fromOffset(200, v21 and 50 or 20);
    v23.Parent = l__debug_0.Tags;
    v23.Label:GetPropertyChangedSignal("TextBounds"):Connect(function() --[[ Line: 53 ]]
        -- upvalues: v23 (copy), l_ScreenGui_0 (ref), v21 (copy)
        v23.Size = UDim2.fromOffset(v23.Label.TextBounds.X / l_ScreenGui_0.UIScale.Scale + 20, v21 and 50 or 20);
    end);
    local function v24() --[[ Line: 57 ]] --[[ Name: update ]]
        -- upvalues: v21 (copy), v23 (copy), v18 (ref)
        if not v21 then
            return;
        else
            v23.Label.Text = v18(v21() or "unknown");
            return;
        end;
    end;
    if not v21 then
        v23.BackgroundTransparency = 1;
        v23.UIStroke.Enabled = false;
        v23.Label.Visible = false;
    end;
    if not v21 then
        return v24;
    else
        v23.Label.Text = v18(v21() or "unknown");
        return v24;
    end;
end;
local _ = function(v26, v27) --[[ Line: 76 ]] --[[ Name: updateTagsWhenChanged ]]
    -- upvalues: v3 (copy)
    for _, v29 in v27 do
        v3:ConnectDataChanged(v26, v29);
    end;
end;
local v34 = v25(function() --[[ Line: 85 ]]
    -- upvalues: v3 (copy), v9 (copy)
    local v31 = v3:Get();
    if not v31 then
        return;
    else
        local v32 = v31.Stats.Playtime or 0;
        if v32 < 3600 then
            return (("%* %*"):format("\240\159\149\146 Playtime:", (v9.formatRealTime(v32))));
        else
            local v33 = math.floor(v32 / 3600);
            return (("%* %* hour%*"):format("\240\159\149\146 Playtime:", v33, v33 == 1 and "" or "s"));
        end;
    end;
end);
v25();
v3:ConnectDataChanged("Stats", v34);
v34 = v25(function() --[[ Line: 115 ]]
    -- upvalues: v3 (copy), v4 (copy), l_LocalPlayer_0 (copy), v12 (copy), v17 (copy), v2 (copy), v7 (copy), v6 (copy)
    local v35 = v3:Get();
    if not v35 then
        return;
    else
        local l_v4_LuckMultiplier_0 = v4:GetLuckMultiplier(l_LocalPlayer_0, v35, v12:GetPlayerWorld(l_LocalPlayer_0), true);
        return (("\240\159\141\128 Lucky %*"):format((v17(v2.autoColor(string.format("+%s%%", v7((l_v4_LuckMultiplier_0 - 1) * 100)), v6.Text.Green)))));
    end;
end);
v3:ConnectDataChanged(v19, v34);
v11.Began:Connect(v34);
v11.Ended:Connect(v34);
for _, v44 in {
    v25(function() --[[ Line: 131 ]]
        -- upvalues: v3 (copy), v4 (copy), v12 (copy), l_LocalPlayer_0 (copy), v17 (copy), v2 (copy), v6 (copy)
        local v37 = v3:Get();
        if not v37 then
            return;
        else
            local l_v4_ShinyChance_0 = v4:GetShinyChance(v37, v12:GetPlayerWorld(l_LocalPlayer_0), true);
            return (("\226\156\168 Shiny Chance %*"):format((v17(v2.autoColor(("1 / %*"):format((math.floor(100 / l_v4_ShinyChance_0))), v6.Text.Yellow)))));
        end;
    end), 
    v25(function() --[[ Line: 141 ]]
        -- upvalues: v3 (copy), v4 (copy), v12 (copy), l_LocalPlayer_0 (copy), v17 (copy), v2 (copy), v6 (copy)
        local v39 = v3:Get();
        if not v39 then
            return;
        else
            local l_v4_MythicChance_0 = v4:GetMythicChance(v39, v12:GetPlayerWorld(l_LocalPlayer_0), true);
            return (("\240\159\148\174 Mythic Chance %*"):format((v17(v2.autoColor(("1 / %*"):format((math.floor(100 / l_v4_MythicChance_0))), v6.Text.Purple)))));
        end;
    end), 
    (v25(function() --[[ Line: 151 ]]
        -- upvalues: v3 (copy), v4 (copy), v17 (copy), v2 (copy), v10 (copy), v6 (copy)
        local v41 = v3:Get();
        if not v41 then
            return;
        else
            local l_v4_HatchSpeed_0 = v4:GetHatchSpeed(v41, true);
            return (("\226\154\161 Hatch Speed %*"):format((v17(v2.autoColor(("%*%%"):format((v10((math.round(l_v4_HatchSpeed_0 * 100))))), v6.Text.Cyan)))));
        end;
    end))
} do
    v3:ConnectDataChanged(v19, v44);
end;
v3:ConnectDataChanged("Settings", function(v45) --[[ Line: 162 ]]
    -- upvalues: l__debug_0 (copy)
    l__debug_0.Visible = v45.Settings.Debug;
end);
return {};
